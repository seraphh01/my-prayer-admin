import{b as Th,c as Mh,f as b0,g as Ah}from"./chunk-LJ5XHLMQ.js";import{a as E,b as Y,d as en,f as D0,g as E0,h}from"./chunk-FK42CRUA.js";var Yf=en(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});var qf=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Wf.default=qf});var Kf=en(jo=>{"use strict";var jy=jo&&jo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jo,"__esModule",{value:!0});var Px=jy((Ah(),E0(b0))),Fx=jy(Yf()),Zf=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Px.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=Object.assign({},this.headers),this.headers[n]=e,this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,l;let c=null,u=null,d=null,y=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let P=yield o.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=P:u=JSON.parse(P))}let C=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),M=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");C&&M&&M.length>1&&(d=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,y=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let C=yield o.text();try{c=JSON.parse(C),Array.isArray(c)&&o.status===404&&(u=[],c=null,y=200,g="OK")}catch{o.status===404&&C===""?(y=204,g="No Content"):c={message:C}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,y=200,g="OK"),c&&this.shouldThrowOnError)throw new Fx.default(c)}return{error:c,data:u,count:d,status:y,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}};jo.default=Zf});var Jf=en($o=>{"use strict";var Lx=$o&&$o.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($o,"__esModule",{value:!0});var Vx=Lx(Kf()),Qf=class extends Vx.default{select(n){let e=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$o.default=Qf});var Al=en(Bo=>{"use strict";var jx=Bo&&Bo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bo,"__esModule",{value:!0});var $x=jx(Jf()),Xf=class extends $x.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};Bo.default=Xf});var th=en(Ho=>{"use strict";var Bx=Ho&&Ho.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ho,"__esModule",{value:!0});var Uo=Bx(Al()),eh=class{constructor(n,{headers:e={},schema:r,fetch:i}){this.url=n,this.headers=e,this.schema=r,this.fetch=i}select(n,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Uo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Uo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Uo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Uo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let e="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Uo.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ho.default=eh});var $y=en(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.version=void 0;Nl.version="0.0.0-automated"});var By=en(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.DEFAULT_HEADERS=void 0;var Ux=$y();kl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ux.version}`}});var Hy=en(Go=>{"use strict";var Uy=Go&&Go.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Go,"__esModule",{value:!0});var Hx=Uy(th()),Gx=Uy(Al()),zx=By(),nh=class t{constructor(n,{headers:e={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},zx.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(n){let e=new URL(`${this.url}/${n}`);return new Hx.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=e);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new Gx.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Go.default=nh});var Ky=en(Be=>{"use strict";var Ci=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;var Gy=Ci(Hy());Be.PostgrestClient=Gy.default;var zy=Ci(th());Be.PostgrestQueryBuilder=zy.default;var qy=Ci(Al());Be.PostgrestFilterBuilder=qy.default;var Wy=Ci(Jf());Be.PostgrestTransformBuilder=Wy.default;var Yy=Ci(Kf());Be.PostgrestBuilder=Yy.default;var Zy=Ci(Yf());Be.PostgrestError=Zy.default;Be.default={PostgrestClient:Gy.default,PostgrestQueryBuilder:zy.default,PostgrestFilterBuilder:qy.default,PostgrestTransformBuilder:Wy.default,PostgrestBuilder:Yy.default,PostgrestError:Zy.default}});function bc(t,n){return Object.is(t,n)}var Ne=null,vs=!1,Ic=1,rt=Symbol("SIGNAL");function te(t){let n=Ne;return Ne=t,n}function Nh(){return Ne}var Hi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _s(t){if(vs)throw new Error("");if(Ne===null)return;Ne.consumerOnSignalRead(t);let n=Ne.nextProducerIndex++;if(Cs(Ne),n<Ne.producerNode.length&&Ne.producerNode[n]!==t&&Ui(Ne)){let e=Ne.producerNode[n];Ss(e,Ne.producerIndexOfThis[n])}Ne.producerNode[n]!==t&&(Ne.producerNode[n]=t,Ne.producerIndexOfThis[n]=Ui(Ne)?Oh(t,Ne,n):0),Ne.producerLastReadVersion[n]=t.version}function I0(){Ic++}function xc(t){if(!(Ui(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ic)){if(!t.producerMustRecompute(t)&&!Mc(t)){Ec(t);return}t.producerRecomputeValue(t),Ec(t)}}function kh(t){if(t.liveConsumerNode===void 0)return;let n=vs;vs=!0;try{for(let e of t.liveConsumerNode)e.dirty||x0(e)}finally{vs=n}}function Rh(){return Ne?.consumerAllowSignalWrites!==!1}function x0(t){t.dirty=!0,kh(t),t.consumerMarkedDirty?.(t)}function Ec(t){t.dirty=!1,t.lastCleanEpoch=Ic}function ws(t){return t&&(t.nextProducerIndex=0),te(t)}function Tc(t,n){if(te(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ui(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Ss(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Mc(t){Cs(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(xc(e),r!==e.version))return!0}return!1}function Ac(t){if(Cs(t),Ui(t))for(let n=0;n<t.producerNode.length;n++)Ss(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Oh(t,n,e){if(Ph(t),t.liveConsumerNode.length===0&&Fh(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Oh(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Ss(t,n){if(Ph(t),t.liveConsumerNode.length===1&&Fh(t))for(let r=0;r<t.producerNode.length;r++)Ss(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];Cs(i),i.producerIndexOfThis[r]=n}}function Ui(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Cs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ph(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Fh(t){return t.producerNode!==void 0}function Lh(t){let n=Object.create(T0);n.computation=t;let e=()=>{if(xc(n),_s(n),n.value===ys)throw n.error;return n.value};return e[rt]=n,e}var Cc=Symbol("UNSET"),Dc=Symbol("COMPUTING"),ys=Symbol("ERRORED"),T0=Y(E({},Hi),{value:Cc,dirty:!0,error:null,equal:bc,producerMustRecompute(t){return t.value===Cc||t.value===Dc},producerRecomputeValue(t){if(t.value===Dc)throw new Error("Detected cycle in computations.");let n=t.value;t.value=Dc;let e=ws(t),r;try{r=t.computation()}catch(i){r=ys,t.error=i}finally{Tc(t,e)}if(n!==Cc&&n!==ys&&r!==ys&&t.equal(n,r)){t.value=n;return}t.value=r,t.version++}});function M0(){throw new Error}var Vh=M0;function jh(){Vh()}function $h(t){Vh=t}var A0=null;function Bh(t){let n=Object.create(Nc);n.value=t;let e=()=>(_s(n),n.value);return e[rt]=n,e}function Ds(t,n){Rh()||jh(),t.equal(t.value,n)||(t.value=n,N0(t))}function Uh(t,n){Rh()||jh(),Ds(t,n(t.value))}var Nc=Y(E({},Hi),{equal:bc,value:void 0});function N0(t){t.version++,I0(),kh(t),A0?.()}function U(t){return typeof t=="function"}function br(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Es=br(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Gi(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Ee=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(o){n=o instanceof Es?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Hh(o)}catch(s){n=n??[],s instanceof Es?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Es(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Hh(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Gi(e,n)}remove(n){let{_finalizers:e}=this;e&&Gi(e,n),n instanceof t&&n._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var kc=Ee.EMPTY;function bs(t){return t instanceof Ee||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function Hh(t){U(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ir={setTimeout(t,n,...e){let{delegate:r}=Ir;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Ir;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Is(t){Ir.setTimeout(()=>{let{onUnhandledError:n}=Et;if(n)n(t);else throw t})}function zi(){}var Gh=Rc("C",void 0,void 0);function zh(t){return Rc("E",void 0,t)}function qh(t){return Rc("N",t,void 0)}function Rc(t,n,e){return{kind:t,value:n,error:e}}var qn=null;function xr(t){if(Et.useDeprecatedSynchronousErrorHandling){let n=!qn;if(n&&(qn={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=qn;if(qn=null,e)throw r}}else t()}function Wh(t){Et.useDeprecatedSynchronousErrorHandling&&qn&&(qn.errorThrown=!0,qn.error=t)}var Wn=class extends Ee{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,bs(n)&&n.add(this)):this.destination=O0}static create(n,e,r){return new Tr(n,e,r)}next(n){this.isStopped?Pc(qh(n),this):this._next(n)}error(n){this.isStopped?Pc(zh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Pc(Gh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},k0=Function.prototype.bind;function Oc(t,n){return k0.call(t,n)}var Fc=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){xs(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){xs(r)}else xs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){xs(e)}}},Tr=class extends Wn{constructor(n,e,r){super();let i;if(U(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Et.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Oc(n.next,o),error:n.error&&Oc(n.error,o),complete:n.complete&&Oc(n.complete,o)}):i=n}this.destination=new Fc(i)}};function xs(t){Et.useDeprecatedSynchronousErrorHandling?Wh(t):Is(t)}function R0(t){throw t}function Pc(t,n){let{onStoppedNotification:e}=Et;e&&Ir.setTimeout(()=>e(t,n))}var O0={closed:!0,next:zi,error:R0,complete:zi};var Mr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(t){return t}function Lc(...t){return Vc(t)}function Vc(t){return t.length===0?it:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var re=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=F0(e)?e:new Tr(e,r,i);return xr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Yh(r),new r((i,o)=>{let s=new Tr({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Mr](){return this}pipe(...e){return Vc(e)(this)}toPromise(e){return e=Yh(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function Yh(t){var n;return(n=t??Et.Promise)!==null&&n!==void 0?n:Promise}function P0(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function F0(t){return t&&t instanceof Wn||P0(t)&&bs(t)}function jc(t){return U(t?.lift)}function ee(t){return n=>{if(jc(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,n,e,r,i){return new $c(t,n,e,r,i)}var $c=class extends Wn{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Ar(){return ee((t,n)=>{let e=null;t._refCount++;let r=X(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var Nr=class extends re{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,jc(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ee;let e=this.getSubject();n.add(this.source.subscribe(X(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ee.EMPTY)}return n}refCount(){return Ar()(this)}};var Zh=br(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Ts(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Zh}next(e){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?kc:(this.currentObservers=null,o.push(e),new Ee(()=>{this.currentObservers=null,Gi(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new re;return e.source=this,e}}return t.create=(n,e)=>new Ts(n,e),t})(),Ts=class extends ke{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:kc}};var Ve=class extends ke{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var ot=new re(t=>t.complete());function Kh(t){return t&&U(t.schedule)}function Qh(t){return t[t.length-1]}function Ms(t){return U(Qh(t))?t.pop():void 0}function Sn(t){return Kh(Qh(t))?t.pop():void 0}function Xh(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}function Jh(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yn(t){return this instanceof Yn?(this.v=t,this):new Yn(t)}function ep(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(f){return Promise.resolve(f).then(g,d)}}function a(g,f){r[g]&&(i[g]=function(C){return new Promise(function(M,P){o.push([g,C,M,P])>1||l(g,C)})},f&&(i[g]=f(i[g])))}function l(g,f){try{c(r[g](f))}catch(C){y(o[0][3],C)}}function c(g){g.value instanceof Yn?Promise.resolve(g.value.v).then(u,d):y(o[0][2],g)}function u(g){l("next",g)}function d(g){l("throw",g)}function y(g,f){g(f),o.shift(),o.length&&l(o[0][0],o[0][1])}}function tp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Jh=="function"?Jh(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var As=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ns(t){return U(t?.then)}function ks(t){return U(t[Mr])}function Rs(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function Os(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function L0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ps=L0();function Fs(t){return U(t?.[Ps])}function Ls(t){return ep(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield Yn(e.read());if(i)return yield Yn(void 0);yield yield Yn(r)}}finally{e.releaseLock()}})}function Vs(t){return U(t?.getReader)}function be(t){if(t instanceof re)return t;if(t!=null){if(ks(t))return V0(t);if(As(t))return j0(t);if(Ns(t))return $0(t);if(Rs(t))return np(t);if(Fs(t))return B0(t);if(Vs(t))return U0(t)}throw Os(t)}function V0(t){return new re(n=>{let e=t[Mr]();if(U(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function j0(t){return new re(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function $0(t){return new re(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Is)})}function B0(t){return new re(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function np(t){return new re(n=>{H0(t,n).catch(e=>n.error(e))})}function U0(t){return np(Ls(t))}function H0(t,n){var e,r,i,o;return Xh(this,void 0,void 0,function*(){try{for(e=tp(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function Qe(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function js(t,n=0){return ee((e,r)=>{e.subscribe(X(r,i=>Qe(r,t,()=>r.next(i),n),()=>Qe(r,t,()=>r.complete(),n),i=>Qe(r,t,()=>r.error(i),n)))})}function $s(t,n=0){return ee((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function rp(t,n){return be(t).pipe($s(n),js(n))}function ip(t,n){return be(t).pipe($s(n),js(n))}function op(t,n){return new re(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function sp(t,n){return new re(e=>{let r;return Qe(e,n,()=>{r=t[Ps](),Qe(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function Bs(t,n){if(!t)throw new Error("Iterable cannot be null");return new re(e=>{Qe(e,n,()=>{let r=t[Symbol.asyncIterator]();Qe(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function ap(t,n){return Bs(Ls(t),n)}function lp(t,n){if(t!=null){if(ks(t))return rp(t,n);if(As(t))return op(t,n);if(Ns(t))return ip(t,n);if(Rs(t))return Bs(t,n);if(Fs(t))return sp(t,n);if(Vs(t))return ap(t,n)}throw Os(t)}function ge(t,n){return n?lp(t,n):be(t)}function B(...t){let n=Sn(t);return ge(t,n)}function kr(t,n){let e=U(t)?t:()=>t,r=i=>i.error(e());return new re(n?i=>n.schedule(r,0,i):r)}function Bc(t){return!!t&&(t instanceof re||U(t.lift)&&U(t.subscribe))}var tn=br(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,n){return ee((e,r)=>{let i=0;e.subscribe(X(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:G0}=Array;function z0(t,n){return G0(n)?t(...n):t(n)}function Us(t){return Z(n=>z0(t,n))}var{isArray:q0}=Array,{getPrototypeOf:W0,prototype:Y0,keys:Z0}=Object;function Hs(t){if(t.length===1){let n=t[0];if(q0(n))return{args:n,keys:null};if(K0(n)){let e=Z0(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function K0(t){return t&&typeof t=="object"&&W0(t)===Y0}function Gs(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function qi(...t){let n=Sn(t),e=Ms(t),{args:r,keys:i}=Hs(t);if(r.length===0)return ge([],n);let o=new re(Q0(r,n,i?s=>Gs(i,s):it));return e?o.pipe(Us(e)):o}function Q0(t,n,e=it){return r=>{cp(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)cp(n,()=>{let c=ge(t[l],n),u=!1;c.subscribe(X(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function cp(t,n,e){t?Qe(e,t,n):n()}function up(t,n,e,r,i,o,s,a){let l=[],c=0,u=0,d=!1,y=()=>{d&&!l.length&&!c&&n.complete()},g=C=>c<r?f(C):l.push(C),f=C=>{o&&n.next(C),c++;let M=!1;be(e(C,u++)).subscribe(X(n,P=>{i?.(P),o?g(P):n.next(P)},()=>{M=!0},void 0,()=>{if(M)try{for(c--;l.length&&c<r;){let P=l.shift();s?Qe(n,s,()=>f(P)):f(P)}y()}catch(P){n.error(P)}}))};return t.subscribe(X(n,g,()=>{d=!0,y()})),()=>{a?.()}}function Ie(t,n,e=1/0){return U(n)?Ie((r,i)=>Z((o,s)=>n(r,o,i,s))(be(t(r,i))),e):(typeof n=="number"&&(e=n),ee((r,i)=>up(r,i,t,e)))}function Rr(t=1/0){return Ie(it,t)}function dp(){return Rr(1)}function Or(...t){return dp()(ge(t,Sn(t)))}function zs(t){return new re(n=>{be(t()).subscribe(n)})}function Uc(...t){let n=Ms(t),{args:e,keys:r}=Hs(t),i=new re(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;be(e[u]).subscribe(X(o,y=>{d||(d=!0,c--),a[u]=y},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Gs(r,a):a),o.complete())}))}});return n?i.pipe(Us(n)):i}function dt(t,n){return ee((e,r)=>{let i=0;e.subscribe(X(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Cn(t){return ee((n,e)=>{let r=null,i=!1,o;r=n.subscribe(X(e,void 0,void 0,s=>{o=be(t(s,Cn(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function fp(t,n,e,r,i){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(X(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Zn(t,n){return U(n)?Ie(t,n,1):Ie(t,1)}function Dn(t){return ee((n,e)=>{let r=!1;n.subscribe(X(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function nn(t){return t<=0?()=>ot:ee((n,e)=>{let r=0;n.subscribe(X(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Hc(t){return Z(()=>t)}function qs(t=J0){return ee((n,e)=>{let r=!1;n.subscribe(X(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function J0(){return new tn}function Wi(t){return ee((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function rn(t,n){let e=arguments.length>=2;return r=>r.pipe(t?dt((i,o)=>t(i,o,r)):it,nn(1),e?Dn(n):qs(()=>new tn))}function Pr(t){return t<=0?()=>ot:ee((n,e)=>{let r=[];n.subscribe(X(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Gc(t,n){let e=arguments.length>=2;return r=>r.pipe(t?dt((i,o)=>t(i,o,r)):it,Pr(1),e?Dn(n):qs(()=>new tn))}function zc(t,n){return ee(fp(t,n,arguments.length>=2,!0))}function qc(...t){let n=Sn(t);return ee((e,r)=>{(n?Or(t,e,n):Or(t,e)).subscribe(r)})}function ft(t,n){return ee((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(X(r,l=>{i?.unsubscribe();let c=0,u=o++;be(t(l,u)).subscribe(i=X(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wc(t){return ee((n,e)=>{be(t).subscribe(X(e,()=>e.complete(),zi)),!e.closed&&n.subscribe(e)})}function je(t,n,e){let r=U(t)||n||e?{next:t,error:n,complete:e}:t;return r?ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(X(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):it}var eg="https://g.co/ng/security#xss",R=class extends Error{code;constructor(n,e){super(ed(n,e)),this.code=n}};function ed(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}var tg=Symbol("InputSignalNode#UNSET"),X0=Y(E({},Nc),{transformFn:void 0,applyValueToInputSignal(t,n){Ds(t,n)}});function ng(t,n){let e=Object.create(X0);e.value=t,e.transformFn=n?.transform;function r(){if(_s(e),e.value===tg)throw new R(-950,!1);return e.value}return r[rt]=e,r}function io(t){return{toString:t}.toString()}var Ws="__parameters__";function ew(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function rg(t,n,e){return io(()=>{let r=ew(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ws)?l[Ws]:Object.defineProperty(l,Ws,{value:[]})[Ws];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var su=globalThis;function le(t){for(let n in t)if(t[n]===le)return n;throw Error("Could not find renamed property on target object.")}function tw(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ye(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ye).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function hp(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var nw=le({__forward_ref__:le});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return Ye(this())},t}function We(t){return ig(t)?t():t}function ig(t){return typeof t=="function"&&t.hasOwnProperty(nw)&&t.__forward_ref__===Mt}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function On(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ta(t){return pp(t,sg)||pp(t,ag)}function og(t){return Ta(t)!==null}function pp(t,n){return t.hasOwnProperty(n)?t[n]:null}function rw(t){let n=t&&(t[sg]||t[ag]);return n||null}function gp(t){return t&&(t.hasOwnProperty(mp)||t.hasOwnProperty(iw))?t[mp]:null}var sg=le({\u0275prov:le}),mp=le({\u0275inj:le}),ag=le({ngInjectableDef:le}),iw=le({ngInjectorDef:le}),O=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=I({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lg(t){return t&&!!t.\u0275providers}var ow=le({\u0275cmp:le}),sw=le({\u0275dir:le}),aw=le({\u0275pipe:le}),lw=le({\u0275mod:le}),na=le({\u0275fac:le}),Qi=le({__NG_ELEMENT_ID__:le}),vp=le({__NG_ENV_ID__:le});function Ur(t){return typeof t=="string"?t:t==null?"":String(t)}function cw(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ur(t)}function uw(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new R(-200,t)}function td(t,n){throw new R(-201,!1)}var q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(q||{}),au;function cg(){return au}function Je(t){let n=au;return au=t,n}function ug(t,n,e){let r=Ta(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&q.Optional)return null;if(n!==void 0)return n;td(t,"Injector")}var dw={},Ji=dw,lu="__NG_DI_FLAG__",ra="ngTempTokenPath",fw="ngTokenPath",hw=/\n/gm,pw="\u0275",yp="__source",$r;function gw(){return $r}function En(t){let n=$r;return $r=t,n}function mw(t,n=q.Default){if($r===void 0)throw new R(-203,!1);return $r===null?ug(t,void 0,n):$r.get(t,n&q.Optional?null:void 0,n)}function k(t,n=q.Default){return(cg()||mw)(We(t),n)}function D(t,n=q.Default){return k(t,Ma(n))}function Ma(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cu(t){let n=[];for(let e=0;e<t.length;e++){let r=We(t[e]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=vw(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(k(i,o))}else n.push(k(r))}return n}function dg(t,n){return t[lu]=n,t.prototype[lu]=n,t}function vw(t){return t[lu]}function yw(t,n,e,r){let i=t[ra];throw n[yp]&&i.unshift(n[yp]),t.message=_w(`
`+t.message,i,e,r),t[fw]=i,t[ra]=null,t}function _w(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pw?t.slice(2):t;let i=Ye(n);if(Array.isArray(n))i=n.map(Ye).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ye(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(hw,`
  `)}`}var oo=dg(rg("Optional"),8);var Aa=dg(rg("SkipSelf"),4);function Qn(t,n){let e=t.hasOwnProperty(na);return e?t[na]:null}function nd(t,n){t.forEach(e=>Array.isArray(e)?nd(e,n):n(e))}function fg(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function ia(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ww(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function Sw(t,n,e){let r=so(t,n);return r>=0?t[r|1]=e:(r=~r,ww(t,r,n,e)),r}function Yc(t,n){let e=so(t,n);if(e>=0)return t[e|1]}function so(t,n){return Cw(t,n,1)}function Cw(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var Hr={},ht=[],Gr=new O(""),hg=new O("",-1),pg=new O(""),oa=class{get(n,e=Ji){if(e===Ji){let r=new Error(`NullInjectorError: No provider for ${Ye(n)}!`);throw r.name="NullInjectorError",r}return e}};function gg(t,n){let e=t[lw]||null;if(!e&&n===!0)throw new Error(`Type ${Ye(t)} does not have '\u0275mod' property.`);return e}function xn(t){return t[ow]||null}function mg(t){return t[sw]||null}function vg(t){return t[aw]||null}function yg(t){let n=xn(t)||mg(t)||vg(t);return n!==null?n.standalone:!1}function ao(t){return{\u0275providers:t}}function Dw(...t){return{\u0275providers:_g(!0,t),\u0275fromNgModule:!0}}function _g(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return nd(n,s=>{let a=s;uu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&wg(i,o),e}function wg(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];rd(i,o=>{n(o,r)})}}function uu(t,n,e,r){if(t=We(t),!t)return!1;let i=null,o=gp(t),s=!o&&xn(t);if(!o&&!s){let l=t.ngModule;if(o=gp(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)uu(c,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{nd(o.imports,u=>{uu(u,n,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&wg(c,n)}if(!a){let c=Qn(i)||(()=>new i);n({provide:i,useFactory:c,deps:ht},i),n({provide:pg,useValue:i,multi:!0},i),n({provide:Gr,useValue:()=>k(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;rd(l,u=>{n(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function rd(t,n){for(let e of t)lg(e)&&(e=e.\u0275providers),Array.isArray(e)?rd(e,n):n(e)}var Ew=le({provide:String,useValue:le});function Sg(t){return t!==null&&typeof t=="object"&&Ew in t}function bw(t){return!!(t&&t.useExisting)}function Iw(t){return!!(t&&t.useFactory)}function zr(t){return typeof t=="function"}function xw(t){return!!t.useClass}var Na=new O(""),Qs={},Tw={},Zc;function id(){return Zc===void 0&&(Zc=new oa),Zc}var at=class{},Xi=class extends at{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,fu(n,s=>this.processProvider(s)),this.records.set(hg,Fr(void 0,this)),i.has("environment")&&this.records.set(at,Fr(void 0,this));let o=this.records.get(Na);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pg,ht,q.Self))}destroy(){Zi(this),this._destroyed=!0;let n=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(n)}}onDestroy(n){return Zi(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Zi(this);let e=En(this),r=Je(void 0),i;try{return n()}finally{En(e),Je(r)}}get(n,e=Ji,r=q.Default){if(Zi(this),n.hasOwnProperty(vp))return n[vp](this);r=Ma(r);let i,o=En(this),s=Je(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=Rw(n)&&Ta(n);c&&this.injectableDefInScope(c)?l=Fr(du(n),Qs):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&q.Self?id():this.parent;return e=r&q.Optional&&e===Ji?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[ra]=a[ra]||[]).unshift(Ye(n)),o)throw a;return yw(a,n,"R3InjectorError",this.source)}else throw a}finally{Je(s),En(o)}}resolveInjectorInitializers(){let n=te(null),e=En(this),r=Je(void 0),i;try{let o=this.get(Gr,ht,q.Self);for(let s of o)s()}finally{En(e),Je(r),te(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(Ye(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=We(n);let e=zr(n)?n:We(n&&n.provide),r=Aw(n);if(!zr(n)&&n.multi===!0){let i=this.records.get(e);i||(i=Fr(void 0,Qs,!0),i.factory=()=>cu(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){let r=te(null);try{return e.value===Qs&&(e.value=Tw,e.value=e.factory()),typeof e.value=="object"&&e.value&&kw(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{te(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=We(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function du(t){let n=Ta(t),e=n!==null?n.factory:Qn(t);if(e!==null)return e;if(t instanceof O)throw new R(204,!1);if(t instanceof Function)return Mw(t);throw new R(204,!1)}function Mw(t){if(t.length>0)throw new R(204,!1);let e=rw(t);return e!==null?()=>e.factory(t):()=>new t}function Aw(t){if(Sg(t))return Fr(void 0,t.useValue);{let n=Cg(t);return Fr(n,Qs)}}function Cg(t,n,e){let r;if(zr(t)){let i=We(t);return Qn(i)||du(i)}else if(Sg(t))r=()=>We(t.useValue);else if(Iw(t))r=()=>t.useFactory(...cu(t.deps||[]));else if(bw(t))r=()=>k(We(t.useExisting));else{let i=We(t&&(t.useClass||t.provide));if(Nw(t))r=()=>new i(...cu(t.deps));else return Qn(i)||du(i)}return r}function Zi(t){if(t.destroyed)throw new R(205,!1)}function Fr(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Nw(t){return!!t.deps}function kw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Rw(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function fu(t,n){for(let e of t)Array.isArray(e)?fu(e,n):e&&lg(e)?fu(e.\u0275providers,n):n(e)}function mt(t,n){t instanceof Xi&&Zi(t);let e,r=En(t),i=Je(void 0);try{return n()}finally{En(r),Je(i)}}function Dg(){return cg()!==void 0||gw()!=null}function Ow(t){if(!Dg())throw new R(-203,!1)}function Pw(t){return typeof t=="function"}var an=0,K=1,j=2,Ze=3,It=4,At=5,sa=6,aa=7,xt=8,qr=9,on=10,xe=11,eo=12,_p=13,ni=14,$t=15,Wr=16,Lr=17,Yr=18,ka=19,Eg=20,bn=21,Kc=22,la=23,st=24,gt=25,bg=1;var Jn=7,ca=8,ua=9,pt=10,da=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(da||{});function In(t){return Array.isArray(t)&&typeof t[bg]=="object"}function ln(t){return Array.isArray(t)&&t[bg]===!0}function od(t){return(t.flags&4)!==0}function Ra(t){return t.componentOffset>-1}function Oa(t){return(t.flags&1)===1}function Tn(t){return!!t.template}function hu(t){return(t[j]&512)!==0}var pu=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ig(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var ir=(()=>{let t=()=>xg;return t.ngInherit=!0,t})();function xg(t){return t.type.prototype.ngOnChanges&&(t.setInput=Lw),Fw}function Fw(){let t=Mg(this),n=t?.current;if(n){let e=t.previous;if(e===Hr)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Lw(t,n,e,r,i){let o=this.declaredInputs[r],s=Mg(t)||Vw(t,{previous:Hr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new pu(c&&c.currentValue,e,l===Hr),Ig(t,n,i,e)}var Tg="__ngSimpleChanges__";function Mg(t){return t[Tg]||null}function Vw(t,n){return t[Tg]=n}var wp=null;var Vt=function(t,n,e){wp?.(t,n,e)},jw="svg",$w="math";function Bt(t){for(;Array.isArray(t);)t=t[an];return t}function Ag(t,n){return Bt(n[t])}function vt(t,n){return Bt(n[t.index])}function Ng(t,n){return t.data[n]}function kg(t,n){return t[n]}function Pn(t,n){let e=n[t];return In(e)?e:e[an]}function sd(t){return(t[j]&128)===128}function Bw(t){return ln(t[Ze])}function Zr(t,n){return n==null?null:t[n]}function Rg(t){t[Lr]=0}function ad(t){t[j]&1024||(t[j]|=1024,sd(t)&&Fa(t))}function Uw(t,n){for(;t>0;)n=n[ni],t--;return n}function Pa(t){return!!(t[j]&9216||t[st]?.dirty)}function gu(t){t[on].changeDetectionScheduler?.notify(9),t[j]&64&&(t[j]|=1024),Pa(t)&&Fa(t)}function Fa(t){t[on].changeDetectionScheduler?.notify(0);let n=Xn(t);for(;n!==null&&!(n[j]&8192||(n[j]|=8192,!sd(n)));)n=Xn(n)}function Og(t,n){if((t[j]&256)===256)throw new R(911,!1);t[bn]===null&&(t[bn]=[]),t[bn].push(n)}function Hw(t,n){if(t[bn]===null)return;let e=t[bn].indexOf(n);e!==-1&&t[bn].splice(e,1)}function Xn(t){let n=t[Ze];return ln(n)?n[Ze]:n}var W={lFrame:Hg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mu=!1;function Gw(){return W.lFrame.elementDepthCount}function zw(){W.lFrame.elementDepthCount++}function qw(){W.lFrame.elementDepthCount--}function Pg(){return W.bindingsEnabled}function Ww(){return W.skipHydrationRootTNode!==null}function Yw(t){return W.skipHydrationRootTNode===t}function Zw(){W.skipHydrationRootTNode=null}function ne(){return W.lFrame.lView}function Ue(){return W.lFrame.tView}function x(t){return W.lFrame.contextLView=t,t[xt]}function T(t){return W.lFrame.contextLView=null,t}function He(){let t=Fg();for(;t!==null&&t.type===64;)t=t.parent;return t}function Fg(){return W.lFrame.currentTNode}function Kw(){let t=W.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function or(t,n){let e=W.lFrame;e.currentTNode=t,e.isParent=n}function ld(){return W.lFrame.isParent}function Lg(){W.lFrame.isParent=!1}function Qw(){return W.lFrame.contextLView}function Vg(){return mu}function Sp(t){let n=mu;return mu=t,n}function cd(){let t=W.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Jw(){return W.lFrame.bindingIndex}function Xw(t){return W.lFrame.bindingIndex=t}function La(){return W.lFrame.bindingIndex++}function jg(t){let n=W.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function eS(){return W.lFrame.inI18n}function tS(t,n){let e=W.lFrame;e.bindingIndex=e.bindingRootIndex=t,vu(n)}function nS(){return W.lFrame.currentDirectiveIndex}function vu(t){W.lFrame.currentDirectiveIndex=t}function rS(t){let n=W.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function $g(t){W.lFrame.currentQueryIndex=t}function iS(t){let n=t[K];return n.type===2?n.declTNode:n.type===1?t[At]:null}function Bg(t,n,e){if(e&q.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&q.Host);)if(i=iS(o),i===null||(o=o[ni],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=W.lFrame=Ug();return r.currentTNode=n,r.lView=t,!0}function ud(t){let n=Ug(),e=t[K];W.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Ug(){let t=W.lFrame,n=t===null?null:t.child;return n===null?Hg(t):n}function Hg(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function Gg(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var zg=Gg;function dd(){let t=Gg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function oS(t){return(W.lFrame.contextLView=Uw(t,W.lFrame.contextLView))[xt]}function sr(){return W.lFrame.selectedIndex}function er(t){W.lFrame.selectedIndex=t}function fd(){let t=W.lFrame;return Ng(t.tView,t.selectedIndex)}function sS(){return W.lFrame.currentNamespace}var qg=!0;function Va(){return qg}function ja(t){qg=t}function aS(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=xg(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function $a(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function Js(t,n,e){Wg(t,n,3,e)}function Xs(t,n,e,r){(t[j]&3)===e&&Wg(t,n,e,r)}function Qc(t,n){let e=t[j];(e&3)===n&&(e&=16383,e+=1,t[j]=e)}function Wg(t,n,e,r){let i=r!==void 0?t[Lr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[Lr]+=65536),(a<o||o==-1)&&(lS(t,e,n,l),t[Lr]=(t[Lr]&4294901760)+l+2),l++}function Cp(t,n){Vt(4,t,n);let e=te(null);try{n.call(t)}finally{te(e),Vt(5,t,n)}}function lS(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[j]>>14<t[Lr]>>16&&(t[j]&3)===n&&(t[j]+=16384,Cp(a,o)):Cp(a,o)}var Br=-1,tr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function cS(t){return t instanceof tr}function uS(t){return(t.flags&8)!==0}function dS(t){return(t.flags&16)!==0}function yu(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];fS(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function Yg(t){return t===3||t===4||t===6}function fS(t){return t.charCodeAt(0)===64}function to(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?Dp(t,e,i,null,n[++r]):Dp(t,e,i,null,null))}}return t}function Dp(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Jc={},_u=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=Ma(r);let i=this.injector.get(n,Jc,r);return i!==Jc||e===Jc?i:this.parentInjector.get(n,e,r)}};function Zg(t){return t!==Br}function fa(t){return t&32767}function hS(t){return t>>16}function ha(t,n){let e=hS(t),r=n;for(;e>0;)r=r[ni],e--;return r}var wu=!0;function pa(t){let n=wu;return wu=t,n}var pS=256,Kg=pS-1,Qg=5,gS=0,jt={};function mS(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Qi)&&(r=e[Qi]),r==null&&(r=e[Qi]=gS++);let i=r&Kg,o=1<<i;n.data[t+(i>>Qg)]|=o}function ga(t,n){let e=Jg(t,n);if(e!==-1)return e;let r=n[K];r.firstCreatePass&&(t.injectorIndex=n.length,Xc(r.data,t),Xc(n,null),Xc(r.blueprint,null));let i=hd(t,n),o=t.injectorIndex;if(Zg(i)){let s=fa(i),a=ha(i,n),l=a[K].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function Xc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Jg(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function hd(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=rm(i),r===null)return Br;if(e++,i=i[ni],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Br}function Su(t,n,e){mS(t,n,e)}function vS(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(Yg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function Xg(t,n,e){if(e&q.Optional||t!==void 0)return t;td(n,"NodeInjector")}function em(t,n,e,r){if(e&q.Optional&&r===void 0&&(r=null),!(e&(q.Self|q.Host))){let i=t[qr],o=Je(void 0);try{return i?i.get(n,r,e&q.Optional):ug(n,r,e&q.Optional)}finally{Je(o)}}return Xg(r,n,e)}function tm(t,n,e,r=q.Default,i){if(t!==null){if(n[j]&2048&&!(r&q.Self)){let s=CS(t,n,e,r,jt);if(s!==jt)return s}let o=nm(t,n,e,r,jt);if(o!==jt)return o}return em(n,e,r,i)}function nm(t,n,e,r,i){let o=wS(e);if(typeof o=="function"){if(!Bg(n,t,r))return r&q.Host?Xg(i,e,r):em(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&q.Optional))td(e);else return s}finally{zg()}}else if(typeof o=="number"){let s=null,a=Jg(t,n),l=Br,c=r&q.Host?n[$t][At]:null;for((a===-1||r&q.SkipSelf)&&(l=a===-1?hd(t,n):n[a+8],l===Br||!bp(r,!1)?a=-1:(s=n[K],a=fa(l),n=ha(l,n)));a!==-1;){let u=n[K];if(Ep(o,a,u.data)){let d=yS(a,n,e,s,r,c);if(d!==jt)return d}l=n[a+8],l!==Br&&bp(r,n[K].data[a+8]===c)&&Ep(o,a,n)?(s=u,a=fa(l),n=ha(l,n)):a=-1}}return i}function yS(t,n,e,r,i,o){let s=n[K],a=s.data[t+8],l=r==null?Ra(a)&&wu:r!=s&&(a.type&3)!==0,c=i&q.Host&&o===a,u=_S(a,s,e,l,c);return u!==null?Kr(n,s,u,a):jt}function _S(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,y=i?a+u:c;for(let g=d;g<y;g++){let f=s[g];if(g<l&&e===f||g>=l&&f.type===e)return g}if(i){let g=s[l];if(g&&Tn(g)&&g.type===e)return l}return null}function Kr(t,n,e,r){let i=t[e],o=n.data;if(cS(i)){let s=i;s.resolving&&uw(cw(o[e]));let a=pa(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Je(s.injectImpl):null,u=Bg(t,r,q.Default);try{i=t[e]=s.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&aS(e,o[e],n)}finally{c!==null&&Je(c),pa(a),s.resolving=!1,zg()}}return i}function wS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Qi)?t[Qi]:void 0;return typeof n=="number"?n>=0?n&Kg:SS:n}function Ep(t,n,e){let r=1<<t;return!!(e[n+(t>>Qg)]&r)}function bp(t,n){return!(t&q.Self)&&!(t&q.Host&&n)}var Kn=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return tm(this._tNode,this._lView,n,Ma(r),e)}};function SS(){return new Kn(He(),ne())}function Gt(t){return io(()=>{let n=t.prototype.constructor,e=n[na]||Cu(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[na]||Cu(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cu(t){return ig(t)?()=>{let n=Cu(We(t));return n&&n()}:Qn(t)}function CS(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[j]&2048&&!(s[j]&512);){let a=nm(o,s,e,r|q.Self,jt);if(a!==jt)return a;let l=o.parent;if(!l){let c=s[Eg];if(c){let u=c.get(e,jt,r);if(u!==jt)return u}l=rm(s),s=s[ni]}o=l}return i}function rm(t){let n=t[K],e=n.type;return e===2?n.declTNode:e===1?t[At]:null}function pd(t){return vS(He(),t)}function Ip(t,n=null,e=null,r){let i=im(t,n,e,r);return i.resolveInjectorInitializers(),i}function im(t,n=null,e=null,r,i=new Set){let o=[e||ht,Dw(t)];return r=r||(typeof t=="object"?void 0:Ye(t)),new Xi(o,n||id(),r||null,i)}var Tt=class t{static THROW_IF_NOT_FOUND=Ji;static NULL=new oa;static create(n,e){if(Array.isArray(n))return Ip({name:""},e,n,"");{let r=n.name??"";return Ip({name:r},n.parent,n.providers,r)}}static \u0275prov=I({token:t,providedIn:"any",factory:()=>k(hg)});static __NG_ELEMENT_ID__=-1};var DS=new O("");DS.__NG_ELEMENT_ID__=t=>{let n=He();if(n===null)throw new R(204,!1);if(n.type&2)return n.value;if(t&q.Optional)return null;throw new R(204,!1)};var om=!1,gd=(()=>{class t{static __NG_ELEMENT_ID__=ES;static __NG_ENV_ID__=e=>e}return t})(),Du=class extends gd{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return Og(this._lView,n),()=>Hw(this._lView,n)}};function ES(){return new Du(ne())}var Qr=class{},md=new O("",{providedIn:"root",factory:()=>!1});var sm=new O(""),am=new O(""),ri=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ve(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=I({token:t,providedIn:"root",factory:()=>new t})}return t})();var Eu=class extends ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Dg()&&(this.destroyRef=D(gd,{optional:!0})??void 0,this.pendingTasks=D(ri,{optional:!0})??void 0)}emit(n){let e=te(null);try{super.next(n)}finally{te(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Ee&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},ve=Eu;function ma(...t){}function lm(t){let n,e;function r(){t=ma;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function xp(t){return queueMicrotask(()=>t()),()=>{t=ma}}var vd="isAngularZone",va=vd+"_ID",bS=0,we=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ve(!1);onMicrotaskEmpty=new ve(!1);onStable=new ve(!1);onError=new ve(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=om}=n;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,TS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,IS,ma,ma);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},IS={};function yd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xS(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){lm(()=>{t.callbackScheduled=!1,bu(t),t.isCheckStableRunning=!0,yd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),bu(t)}function TS(t){let n=()=>{xS(t)},e=bS++;t._inner=t._inner.fork({name:"angular",properties:{[vd]:!0,[va]:e,[va+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(MS(l))return r.invokeTask(o,s,a,l);try{return Tp(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Mp(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Tp(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!AS(l)&&n(),Mp(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bu(t),yd(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Tp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mp(t){t._nesting--,yd(t)}var Iu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ve;onMicrotaskEmpty=new ve;onStable=new ve;onError=new ve;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function MS(t){return cm(t,"__ignore_ng_zone__")}function AS(t){return cm(t,"__scheduler_tick__")}function cm(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var sn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},NS=new O("",{providedIn:"root",factory:()=>{let t=D(we),n=D(sn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function Ap(t,n){return ng(t,n)}function kS(t){return ng(tg,t)}var _d=(Ap.required=kS,Ap);function RS(){return Ba(He(),ne())}function Ba(t,n){return new Ke(vt(t,n))}var Ke=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=RS}return t})();function um(t){return(t.flags&128)===128}var dm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dm||{}),fm=new Map,OS=0;function PS(){return OS++}function FS(t){fm.set(t[ka],t)}function xu(t){fm.delete(t[ka])}var Np="__ngContext__";function Mn(t,n){In(n)?(t[Np]=n[ka],FS(n)):t[Np]=n}function hm(t){return gm(t[eo])}function pm(t){return gm(t[It])}function gm(t){for(;t!==null&&!ln(t);)t=t[It];return t}var Tu;function mm(t){Tu=t}function LS(){if(Tu!==void 0)return Tu;if(typeof document<"u")return document;throw new R(210,!1)}var wd=new O("",{providedIn:"root",factory:()=>VS}),VS="ng",Sd=new O(""),ar=new O("",{providedIn:"platform",factory:()=>"unknown"});var Cd=new O("",{providedIn:"root",factory:()=>LS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var jS="h",$S="b";var vm=!1,BS=new O("",{providedIn:"root",factory:()=>vm});var Dd=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Dd||{}),Ua=new O(""),kp=new Set;function lo(t){kp.has(t)||(kp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Vr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Vr||{}),ym=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:t,providedIn:"root",factory:()=>new t})}return t})(),US=[Vr.EarlyRead,Vr.Write,Vr.MixedReadWrite,Vr.Read],HS=(()=>{class t{ngZone=D(we);scheduler=D(Qr);errorHandler=D(sn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(Ua,{optional:!0})}execute(){this.executing=!0;for(let e of US)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[e](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Dd.AFTER_NEXT_RENDER,e):e()}static \u0275prov=I({token:t,providedIn:"root",factory:()=>new t})}return t})(),Mu=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,i,o=null){this.impl=n,this.hooks=e,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Ed(t,n){!n?.injector&&Ow(Ed);let e=n?.injector??D(Tt);return lo("NgAfterNextRender"),zS(t,e,n,!0)}function GS(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function zS(t,n,e,r){let i=n.get(ym);i.impl??=n.get(HS);let o=n.get(Ua,null,{optional:!0}),s=e?.phase??Vr.MixedReadWrite,a=e?.manualCleanup!==!0?n.get(gd):null,l=new Mu(i.impl,GS(t,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var qS=()=>null;function bd(t,n,e=!1){return qS(t,n,e)}var Ut=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ut||{});var Ys;function WS(){if(Ys===void 0&&(Ys=null,su.trustedTypes))try{Ys=su.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ys}function Rp(t){return WS()?.createScriptURL(t)||t}var ya=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eg})`}};function co(t){return t instanceof ya?t.changingThisBreaksApplicationSecurity:t}function Id(t,n){let e=YS(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${eg})`)}return e===n}function YS(t){return t instanceof ya&&t.getTypeName()||null}var ZS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _m(t){return t=String(t),t.match(ZS)?t:"unsafe:"+t}var Ha=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ha||{});function Ga(t){let n=Sm();return n?n.sanitize(Ha.URL,t)||"":Id(t,"URL")?co(t):_m(Ur(t))}function KS(t){let n=Sm();if(n)return Rp(n.sanitize(Ha.RESOURCE_URL,t)||"");if(Id(t,"ResourceURL"))return Rp(co(t));throw new R(904,!1)}function QS(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?KS:Ga}function wm(t,n,e){return QS(n,e)(t)}function Sm(){let t=ne();return t&&t[on].sanitizer}var JS=/^>|^->|<!--|-->|--!>|<!-$/g,XS=/(<|>)/g,eC="\u200B$1\u200B";function tC(t){return t.replace(JS,n=>n.replace(XS,eC))}function Cm(t){return t instanceof Function?t():t}var An=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(An||{}),Ht=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ht||{}),nC;function xd(t,n){return nC(t,n)}function jr(t,n,e,r,i){if(r!=null){let o,s=!1;ln(r)?o=r:In(r)&&(s=!0,r=r[an]);let a=Bt(r);t===0&&e!==null?i==null?xm(n,e,a):_a(n,e,a,i||null,!0):t===1&&e!==null?_a(n,e,a,i||null,!0):t===2?yC(n,a,s):t===3&&n.destroyNode(a),o!=null&&wC(n,t,o,e,i)}}function rC(t,n){return t.createText(n)}function iC(t,n,e){t.setValue(n,e)}function oC(t,n){return t.createComment(tC(n))}function Dm(t,n,e){return t.createElement(n,e)}function sC(t,n){Em(t,n),n[an]=null,n[At]=null}function aC(t,n,e,r,i,o){r[an]=i,r[At]=n,qa(t,r,e,1,i,o)}function Em(t,n){n[on].changeDetectionScheduler?.notify(10),qa(t,n,n[xe],2,null,null)}function lC(t){let n=t[eo];if(!n)return eu(t[K],t);for(;n;){let e=null;if(In(n))e=n[eo];else{let r=n[pt];r&&(e=r)}if(!e){for(;n&&!n[It]&&n!==t;)In(n)&&eu(n[K],n),n=n[Ze];n===null&&(n=t),In(n)&&eu(n[K],n),e=n&&n[It]}n=e}}function cC(t,n,e,r){let i=pt+r,o=e.length;r>0&&(e[i-1][It]=n),r<o-pt?(n[It]=e[i],fg(e,pt+r,n)):(e.push(n),n[It]=null),n[Ze]=e;let s=n[Wr];s!==null&&e!==s&&bm(s,n);let a=n[Yr];a!==null&&a.insertView(t),gu(n),n[j]|=128}function bm(t,n){let e=t[ua],r=n[Ze];if(In(r))t[j]|=da.HasTransplantedViews;else{let i=r[Ze][$t];n[$t]!==i&&(t[j]|=da.HasTransplantedViews)}e===null?t[ua]=[n]:e.push(n)}function Td(t,n){let e=t[ua],r=e.indexOf(n);e.splice(r,1)}function Au(t,n){if(t.length<=pt)return;let e=pt+n,r=t[e];if(r){let i=r[Wr];i!==null&&i!==t&&Td(i,r),n>0&&(t[e-1][It]=r[It]);let o=ia(t,pt+n);sC(r[K],r);let s=o[Yr];s!==null&&s.detachView(o[K]),r[Ze]=null,r[It]=null,r[j]&=-129}return r}function Im(t,n){if(!(n[j]&256)){let e=n[xe];e.destroyNode&&qa(t,n,e,3,null,null),lC(n)}}function eu(t,n){if(n[j]&256)return;let e=te(null);try{n[j]&=-129,n[j]|=256,n[st]&&Ac(n[st]),dC(t,n),uC(t,n),n[K].type===1&&n[xe].destroy();let r=n[Wr];if(r!==null&&ln(n[Ze])){r!==n[Ze]&&Td(r,n);let i=n[Yr];i!==null&&i.detachView(t)}xu(n)}finally{te(e)}}function uC(t,n){let e=t.cleanup,r=n[aa];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[aa]=null);let i=n[bn];if(i!==null){n[bn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[la];if(o!==null){n[la]=null;for(let s of o)s.destroy()}}function dC(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof tr)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Vt(4,a,l);try{l.call(a)}finally{Vt(5,a,l)}}else{Vt(4,i,o);try{o.call(i)}finally{Vt(5,i,o)}}}}}function fC(t,n,e){return hC(t,n.parent,e)}function hC(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[an];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ut.None||o===Ut.Emulated)return null}return vt(r,e)}}function _a(t,n,e,r,i){t.insertBefore(n,e,r,i)}function xm(t,n,e){t.appendChild(n,e)}function Op(t,n,e,r,i){r!==null?_a(t,n,e,r,i):xm(t,n,e)}function Tm(t,n){return t.parentNode(n)}function pC(t,n){return t.nextSibling(n)}function gC(t,n,e){return vC(t,n,e)}function mC(t,n,e){return t.type&40?vt(t,e):null}var vC=mC,Pp;function za(t,n,e,r){let i=fC(t,r,n),o=n[xe],s=r.parent||n[At],a=gC(s,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Op(o,i,e[l],a,!1);else Op(o,i,e,a,!1);Pp!==void 0&&Pp(o,r,n,e,i)}function Ki(t,n){if(n!==null){let e=n.type;if(e&3)return vt(n,t);if(e&4)return Nu(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return Ki(t,r);{let i=t[n.index];return ln(i)?Nu(-1,i):Bt(i)}}else{if(e&128)return Ki(t,n.next);if(e&32)return xd(n,t)()||Bt(t[n.index]);{let r=Mm(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Xn(t[$t]);return Ki(i,r)}else return Ki(t,n.next)}}}return null}function Mm(t,n){if(n!==null){let r=t[$t][At],i=n.projection;return r.projection[i]}return null}function Nu(t,n){let e=pt+t+1;if(e<n.length){let r=n[e],i=r[K].firstChild;if(i!==null)return Ki(r,i)}return n[Jn]}function yC(t,n,e){t.removeChild(null,n,e)}function Md(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&Mn(Bt(a),r),e.flags|=2),(e.flags&32)!==32)if(l&8)Md(t,n,e.child,r,i,o,!1),jr(n,t,i,a,o);else if(l&32){let c=xd(e,r),u;for(;u=c();)jr(n,t,i,u,o);jr(n,t,i,a,o)}else l&16?_C(t,n,r,e,i,o):jr(n,t,i,a,o);e=s?e.projectionNext:e.next}}function qa(t,n,e,r,i,o){Md(e,r,t.firstChild,n,i,o,!1)}function _C(t,n,e,r,i,o){let s=e[$t],l=s[At].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];jr(n,t,i,u,o)}else{let c=l,u=s[Ze];um(r)&&(c.flags|=128),Md(t,n,c,u,i,o,!0)}}function wC(t,n,e,r,i){let o=e[Jn],s=Bt(e);o!==s&&jr(n,t,r,o,i);for(let a=pt;a<e.length;a++){let l=e[a];qa(l[K],l,t,n,r,o)}}function SC(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Ht.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ht.Important),t.setStyle(e,r,i,o))}}function CC(t,n,e){t.setAttribute(n,"style",e)}function Am(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Nm(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&yu(t,n,r),i!==null&&Am(t,n,i),o!==null&&CC(t,n,o)}function DC(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var km="ng-template";function EC(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&DC(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Ad(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Ad(t){return t.type===4&&t.value!==km}function bC(t,n,e){let r=t.type===4&&!e?km:t.value;return n===r}function IC(t,n,e){let r=4,i=t.attrs,o=i!==null?MC(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!bt(r)&&!bt(l))return!1;if(s&&bt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!bC(t,l,e)||l===""&&n.length===1){if(bt(r))return!1;s=!0}}else if(r&8){if(i===null||!EC(t,i,l,e)){if(bt(r))return!1;s=!0}}else{let c=n[++a],u=xC(l,i,Ad(t),e);if(u===-1){if(bt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(bt(r))return!1;s=!0}}}}return bt(r)||s}function bt(t){return(t&1)===0}function xC(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return AC(n,t)}function TC(t,n,e=!1){for(let r=0;r<n.length;r++)if(IC(t,n[r],e))return!0;return!1}function MC(t){for(let n=0;n<t.length;n++){let e=t[n];if(Yg(e))return n}return t.length}function AC(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function Fp(t,n){return t?":not("+n.trim()+")":n}function NC(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!bt(s)&&(n+=Fp(o,i),i=""),r=s,o=o||!bt(r);e++}return i!==""&&(n+=Fp(o,i)),n}function kC(t){return t.map(NC).join(",")}function RC(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!bt(i))break;i=o}r++}return{attrs:n,classes:e}}var cn={};function w(t=1){Rm(Ue(),ne(),sr()+t,!1)}function Rm(t,n,e,r){if(!r)if((n[j]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Js(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Xs(n,o,0,e)}er(e)}function b(t,n=q.Default){let e=ne();if(e===null)return k(t,n);let r=He();return tm(r,e,We(t),n)}function Om(){let t="invalid";throw new Error(t)}function Pm(t,n,e,r,i,o){let s=te(null);try{let a=null;i&An.SignalBased&&(a=n[r][rt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&An.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,r):Ig(n,a,r,o)}finally{te(s)}}function OC(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)er(~i);else{let o=i,s=e[++r],a=e[++r];tS(s,o);let l=n[o];a(2,l)}}}finally{er(-1)}}function Wa(t,n,e,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[an]=i,d[j]=r|4|128|8|64|1024,(c!==null||t&&t[j]&2048)&&(d[j]|=2048),Rg(d),d[Ze]=d[ni]=t,d[xt]=e,d[on]=s||t&&t[on],d[xe]=a||t&&t[xe],d[qr]=l||t&&t[qr]||null,d[At]=o,d[ka]=PS(),d[sa]=u,d[Eg]=c,d[$t]=n.type==2?t[$t]:d,d}function uo(t,n,e,r,i){let o=t.data[n];if(o===null)o=PC(t,n,e,r,i),eS()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=Kw();o.injectorIndex=s===null?-1:s.injectorIndex}return or(o,!0),o}function PC(t,n,e,r,i){let o=Fg(),s=ld(),a=s?o:o&&o.parent,l=t.data[n]=$C(t,a,e,n,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Fm(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Lm(t,n,e,r,i){let o=sr(),s=r&2;try{er(-1),s&&n.length>gt&&Rm(t,n,gt,!1),Vt(s?2:0,i),e(r,i)}finally{er(o),Vt(s?3:1,i)}}function Nd(t,n,e){if(od(n)){let r=te(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{te(r)}}}function kd(t,n,e){Pg()&&(qC(t,n,e,vt(e,n)),(e.flags&64)===64&&Bm(t,n,e))}function Rd(t,n,e=vt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function Vm(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Od(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Od(t,n,e,r,i,o,s,a,l,c,u){let d=gt+r,y=d+i,g=FC(d,y),f=typeof c=="function"?c():c;return g[K]={type:t,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:u}}function FC(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:cn);return e}function LC(t,n,e,r){let o=r.get(BS,vm)||e===Ut.ShadowDom,s=t.selectRootElement(n,o);return VC(s),s}function VC(t){jC(t)}var jC=()=>null;function $C(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Ww()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Lp(t,n,e,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,l=An.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?Vp(r,e,c,a,l):Vp(r,e,c,a)}return r}function Vp(t,n,e,r,i){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,r):o=t[e]=[n,r],i!==void 0&&o.push(i)}function BC(t,n,e){let r=n.directiveStart,i=n.directiveEnd,o=t.data,s=n.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],y=e?e.get(d):null,g=y?y.inputs:null,f=y?y.outputs:null;l=Lp(0,d.inputs,u,l,g),c=Lp(1,d.outputs,u,c,f);let C=l!==null&&s!==null&&!Ad(n)?rD(l,u,s):null;a.push(C)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function UC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jm(t,n,e,r,i,o,s,a){let l=vt(n,e),c=n.inputs,u;!a&&c!=null&&(u=c[r])?(Fd(t,e,u,r,i),Ra(n)&&HC(e,n.index)):n.type&3?(r=UC(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)):n.type&12}function HC(t,n){let e=Pn(n,t);e[j]&16||(e[j]|=64)}function Pd(t,n,e,r){if(Pg()){let i=r===null?null:{"":-1},o=YC(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&$m(t,n,e,s,i,a),i&&ZC(e,r,i)}e.mergedAttrs=to(e.mergedAttrs,e.attrs)}function $m(t,n,e,r,i,o){for(let c=0;c<r.length;c++)Su(ga(e,n),t,r[c].type);QC(e,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Fm(t,n,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];e.mergedAttrs=to(e.mergedAttrs,u.hostAttrs),JC(t,e,n,l,u),KC(l,u,i),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}BC(t,e,o)}function GC(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;zC(s)!=a&&s.push(a),s.push(e,r,o)}}function zC(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function qC(t,n,e,r){let i=e.directiveStart,o=e.directiveEnd;Ra(e)&&XC(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||ga(e,n),Mn(r,n);let s=e.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=Kr(n,t,a,e);if(Mn(c,n),s!==null&&nD(n,a-i,c,l,e,s),Tn(l)){let u=Pn(e.index,n);u[xt]=Kr(n,t,a,e)}}}function Bm(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=nS();try{er(o);for(let a=r;a<i;a++){let l=t.data[a],c=n[a];vu(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&WC(l,c)}}finally{er(-1),vu(s)}}function WC(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function YC(t,n){let e=t.directiveRegistry,r=null,i=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(TC(n,s.selectors,!1))if(r||(r=[]),Tn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;ku(t,n,l)}else r.unshift(s),ku(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ku(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function ZC(t,n,e){if(n){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new R(-301,!1);r.push(n[i],o)}}}function KC(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Tn(n)&&(e[""]=t)}}function QC(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function JC(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qn(i.type,!0)),s=new tr(o,Tn(i),b);t.blueprint[r]=s,e[r]=s,GC(t,n,r,Fm(t,e,i.hostVars,cn),i)}function Um(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function XC(t,n,e){let r=vt(n,t),i=Vm(e),o=t[on].rendererFactory,s=Ya(t,Wa(t,i,null,Um(e),r,n,null,o.createRenderer(r,e),null,null,null));t[n.index]=s}function eD(t,n,e,r,i,o){let s=vt(t,n);tD(n[xe],s,o,t.value,e,r,i)}function tD(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?Ur(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function nD(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];Pm(r,e,l,c,u,d)}}function rD(t,n,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function Hm(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function Gm(t,n){let e=t.contentQueries;if(e!==null){let r=te(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];$g(o),a.contentQueries(2,n[s],s)}}}finally{te(r)}}}function Ya(t,n){return t[eo]?t[_p][It]=n:t[eo]=n,t[_p]=n,n}function Ru(t,n,e){$g(0);let r=te(null);try{n(t,e)}finally{te(r)}}function iD(t){return t[aa]??=[]}function oD(t){return t.cleanup??=[]}function zm(t,n){let e=t[qr],r=e?e.get(sn,null):null;r&&r.handleError(n)}function Fd(t,n,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=n[s],u=t.data[s];Pm(u,c,r,a,l,i)}}function qm(t,n,e){let r=Ag(n,t);iC(t[xe],r,e)}function sD(t,n){let e=Pn(n,t),r=e[K];aD(r,e);let i=e[an];i!==null&&e[sa]===null&&(e[sa]=bd(i,e[qr])),Ld(r,e,e[xt])}function aD(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Ld(t,n,e){ud(n);try{let r=t.viewQuery;r!==null&&Ru(1,r,e);let i=t.template;i!==null&&Lm(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Yr]?.finishViewCreation(t),t.staticContentQueries&&Gm(t,n),t.staticViewQueries&&Ru(2,t.viewQuery,e);let o=t.components;o!==null&&lD(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[j]&=-5,dd()}}function lD(t,n){for(let e=0;e<n.length;e++)sD(t,n[e])}function cD(t,n,e,r){let i=te(null);try{let o=n.tView,a=t[j]&4096?4096:16,l=Wa(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[Wr]=c;let u=t[Yr];return u!==null&&(l[Yr]=u.createEmbeddedView(o)),Ld(o,l,e),l}finally{te(i)}}function jp(t,n){return!n||n.firstChild===null||um(t)}function uD(t,n,e,r=!0){let i=n[K];if(cC(i,n,t,e),r){let s=Nu(e,t),a=n[xe],l=Tm(a,t[Jn]);l!==null&&aC(i,t[At],a,n,l,s)}let o=n[sa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wa(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(Bt(o)),ln(o)&&dD(o,r);let s=e.type;if(s&8)wa(t,n,e.child,r);else if(s&32){let a=xd(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=Mm(n,e);if(Array.isArray(a))r.push(...a);else{let l=Xn(n[$t]);wa(l[K],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function dD(t,n){for(let e=pt;e<t.length;e++){let r=t[e],i=r[K].firstChild;i!==null&&wa(r[K],r,i,n)}t[Jn]!==t[an]&&n.push(t[Jn])}var Wm=[];function fD(t){return t[st]??hD(t)}function hD(t){let n=Wm.pop()??Object.create(gD);return n.lView=t,n}function pD(t){t.lView[st]!==t&&(t.lView=null,Wm.push(t))}var gD=Y(E({},Hi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fa(t.lView)},consumerOnSignalRead(){this.lView[st]=this}});function mD(t){let n=t[st]??Object.create(vD);return n.lView=t,n}var vD=Y(E({},Hi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Xn(t.lView);for(;n&&!Ym(n[K]);)n=Xn(n);n&&ad(n)},consumerOnSignalRead(){this.lView[st]=this}});function Ym(t){return t.type!==2}function Zm(t){if(t[la]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[la])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[j]&8192)}}var yD=100;function Km(t,n=!0,e=0){let i=t[on].rendererFactory,o=!1;o||i.begin?.();try{_D(t,e)}catch(s){throw n&&zm(t,s),s}finally{o||i.end?.()}}function _D(t,n){let e=Vg();try{Sp(!0),Ou(t,n);let r=0;for(;Pa(t);){if(r===yD)throw new R(103,!1);r++,Ou(t,1)}}finally{Sp(e)}}function wD(t,n,e,r){let i=n[j];if((i&256)===256)return;let o=!1,s=!1;ud(n);let a=!0,l=null,c=null;o||(Ym(t)?(c=fD(n),l=ws(c)):Nh()===null?(a=!1,c=mD(n),l=ws(c)):n[st]&&(Ac(n[st]),n[st]=null));try{Rg(n),Xw(t.bindingStartIndex),e!==null&&Lm(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let g=t.preOrderCheckHooks;g!==null&&Js(n,g,null)}else{let g=t.preOrderHooks;g!==null&&Xs(n,g,0,null),Qc(n,0)}if(s||SD(n),Zm(n),Qm(n,0),t.contentQueries!==null&&Gm(t,n),!o)if(u){let g=t.contentCheckHooks;g!==null&&Js(n,g)}else{let g=t.contentHooks;g!==null&&Xs(n,g,1),Qc(n,1)}OC(t,n);let d=t.components;d!==null&&Xm(n,d,0);let y=t.viewQuery;if(y!==null&&Ru(2,y,r),!o)if(u){let g=t.viewCheckHooks;g!==null&&Js(n,g)}else{let g=t.viewHooks;g!==null&&Xs(n,g,2),Qc(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[Kc]){for(let g of n[Kc])g();n[Kc]=null}o||(n[j]&=-73)}catch(u){throw o||Fa(n),u}finally{c!==null&&(Tc(c,l),a&&pD(c)),dd()}}function Qm(t,n){for(let e=hm(t);e!==null;e=pm(e))for(let r=pt;r<e.length;r++){let i=e[r];Jm(i,n)}}function SD(t){for(let n=hm(t);n!==null;n=pm(n)){if(!(n[j]&da.HasTransplantedViews))continue;let e=n[ua];for(let r=0;r<e.length;r++){let i=e[r];ad(i)}}}function CD(t,n,e){let r=Pn(n,t);Jm(r,e)}function Jm(t,n){sd(t)&&Ou(t,n)}function Ou(t,n){let r=t[K],i=t[j],o=t[st],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&Mc(o)),s||=!1,o&&(o.dirty=!1),t[j]&=-9217,s)wD(r,t,r.template,t[xt]);else if(i&8192){Zm(t),Qm(t,1);let a=r.components;a!==null&&Xm(t,a,1)}}function Xm(t,n,e){for(let r=0;r<n.length;r++)CD(t,n[r],e)}function Vd(t,n){let e=Vg()?64:1088;for(t[on].changeDetectionScheduler?.notify(n);t;){t[j]|=e;let r=Xn(t);if(hu(t)&&!r)return t;t=r}return null}var nr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[K];return wa(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[xt]}get dirty(){return!!(this._lView[j]&9280)||!!this._lView[st]?.dirty}set context(n){this._lView[xt]=n}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ze];if(ln(n)){let e=n[ca],r=e?e.indexOf(this):-1;r>-1&&(Au(n,r),ia(e,r))}this._attachedToViewContainer=!1}Im(this._lView[K],this._lView)}onDestroy(n){Og(this._lView,n)}markForCheck(){Vd(this._cdRefInjectingView||this._lView,4)}markForRefresh(){ad(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){gu(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,Km(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=hu(this._lView),e=this._lView[Wr];e!==null&&!n&&Td(e,this._lView),Em(this._lView[K],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n;let e=hu(this._lView),r=this._lView[Wr];r!==null&&!e&&bm(r,this._lView),gu(this._lView)}},Za=(()=>{class t{static __NG_ELEMENT_ID__=bD}return t})(),DD=Za,ED=class extends DD{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=cD(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new nr(i)}};function bD(){return ev(He(),ne())}function ev(t,n){return t.type&4?new ED(n,t,Ba(t,n)):null}var YO=new RegExp(`^(\\d+)*(${$S}|${jS})*(.*)`);var ID=()=>null;function $p(t,n){return ID(t,n)}var Pu=class{},Sa=class{},Fu=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Ye(n)}.`)}},Jr=class{static NULL=new Fu},Xr=class{},Xe=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>xD()}return t})();function xD(){let t=ne(),n=He(),e=Pn(n.index,t);return(In(e)?e:t)[xe]}var TD=(()=>{class t{static \u0275prov=I({token:t,providedIn:"root",factory:()=>null})}return t})();function Ca(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=hp(i,a);else if(o==2){let l=a,c=n[++s];r=hp(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}var Da=class extends Jr{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=xn(n);return new ei(e,this.ngModule)}};function Bp(t,n){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:An.None;n?e.push({propName:s,templateName:r,isSignal:(a&An.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function MD(t){let n=t.toLowerCase();return n==="svg"?jw:n==="math"?$w:null}var ei=class extends Sa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let n=this.componentDef,e=n.inputTransforms,r=Bp(n.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return Bp(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=kC(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=te(null);try{i=i||this.ngModule;let s=i instanceof at?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new _u(n,s):n,l=a.get(Xr,null);if(l===null)throw new R(407,!1);let c=a.get(TD,null),u=a.get(Qr,null),d={rendererFactory:l,sanitizer:c,changeDetectionScheduler:u},y=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",f=r?LC(y,r,this.componentDef.encapsulation,a):Dm(y,g,MD(g)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let M=null;f!==null&&(M=bd(f,a,!0));let P=Od(0,null,null,1,0,null,null,null,null,null,null),se=Wa(null,P,null,C,null,null,d,y,a,null,M);ud(se);let ae,ce,Ce=null;try{let me=this.componentDef,J,F=null;me.findHostDirectiveDefs?(J=[],F=new Map,me.findHostDirectiveDefs(me,J,F),J.push(me)):J=[me];let Dt=AD(se,f);Ce=ND(Dt,f,me,J,se,d,y),ce=Ng(P,gt),f&&OD(y,me,f,r),e!==void 0&&PD(ce,this.ngContentSelectors,e),ae=RD(Ce,me,J,F,se,[FD]),Ld(P,se,null)}catch(me){throw Ce!==null&&xu(Ce),xu(se),me}finally{dd()}return new Lu(this.componentType,ae,Ba(ce,se),se,ce)}finally{te(o)}}},Lu=class extends Pu{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new nr(i,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;Fd(o[K],o,i,n,e),this.previousInputValues.set(n,e);let s=Pn(this._tNode.index,o);Vd(s,1)}}get injector(){return new Kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function AD(t,n){let e=t[K],r=gt;return t[r]=n,uo(e,r,2,"#host",null)}function ND(t,n,e,r,i,o,s){let a=i[K];kD(r,t,n,s);let l=null;n!==null&&(l=bd(n,i[qr]));let c=o.rendererFactory.createRenderer(n,e),u=Wa(i,Vm(e),null,Um(e),i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&ku(a,t,r.length-1),Ya(i,u),i[t.index]=u}function kD(t,n,e,r){for(let i of t)n.mergedAttrs=to(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(Ca(n,n.mergedAttrs,!0),e!==null&&Nm(r,e,n))}function RD(t,n,e,r,i,o){let s=He(),a=i[K],l=vt(s,i);$m(a,i,s,e,null,r);for(let u=0;u<e.length;u++){let d=s.directiveStart+u,y=Kr(i,a,d,s);Mn(y,i)}Bm(a,i,s),l&&Mn(l,i);let c=Kr(i,a,s.directiveStart+s.componentOffset,s);if(t[xt]=i[xt]=c,o!==null)for(let u of o)u(c,n);return Nd(a,s,i),c}function OD(t,n,e,r){if(r)yu(t,e,["ng-version","19.0.5"]);else{let{attrs:i,classes:o}=RC(n.selectors[0]);i&&yu(t,e,i),o&&o.length>0&&Am(t,e,o.join(" "))}}function PD(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}function FD(){let t=He();$a(ne()[K],t)}var ii=(()=>{class t{static __NG_ELEMENT_ID__=LD}return t})();function LD(){let t=He();return jD(t,ne())}var VD=ii,tv=class extends VD{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Kn(this._hostTNode,this._hostLView)}get parentInjector(){let n=hd(this._hostTNode,this._hostLView);if(Zg(n)){let e=ha(n,this._hostLView),r=fa(n),i=e[K].data[r+8];return new Kn(i,e)}else return new Kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=Up(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$p(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,jp(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!Pw(n),a;if(s)a=e;else{let f=e||{};a=f.index,r=f.injector,i=f.projectableNodes,o=f.environmentInjector||f.ngModuleRef}let l=s?n:new ei(xn(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let C=(s?c:this.parentInjector).get(at,null);C&&(o=C)}let u=xn(l.componentType??{}),d=$p(this._lContainer,u?.id??null),y=d?.firstChild??null,g=l.create(c,i,y,o);return this.insertImpl(g.hostView,a,jp(this._hostTNode,d)),g}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(Bw(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[Ze],c=new tv(l,l[At],l[Ze]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return uD(s,i,o,r),n.attachToViewContainerRef(),fg(tu(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=Up(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=Au(this._lContainer,e);r&&(ia(tu(this._lContainer),e),Im(r[K],r))}detach(n){let e=this._adjustIndex(n,-1),r=Au(this._lContainer,e);return r&&ia(tu(this._lContainer),e)!=null?new nr(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function Up(t){return t[ca]}function tu(t){return t[ca]||(t[ca]=[])}function jD(t,n){let e,r=n[t.index];return ln(r)?e=r:(e=Hm(r,n,null,t),n[t.index]=e,Ya(n,e)),BD(e,n,t,r),new tv(e,t,n)}function $D(t,n){let e=t[xe],r=e.createComment(""),i=vt(n,t),o=Tm(e,i);return _a(e,o,r,pC(e,i),!1),r}var BD=GD,UD=()=>!1;function HD(t,n,e){return UD(t,n,e)}function GD(t,n,e,r){if(t[Jn])return;let i;e.type&8?i=Bt(r):i=$D(n,e),t[Jn]=i}function zD(t){return typeof t=="function"&&t[rt]!==void 0}function oi(t,n){lo("NgSignals");let e=Bh(t),r=e[rt];return n?.equal&&(r.equal=n.equal),e.set=i=>Ds(r,i),e.update=i=>Uh(r,i),e.asReadonly=qD.bind(e),e}function qD(){let t=this[rt];if(t.readonlyFn===void 0){let n=()=>this();n[rt]=t,t.readonlyFn=n}return t.readonlyFn}function nv(t){return zD(t)&&typeof t.set=="function"}var Nn=class{},no=class{};var Vu=class extends Nn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Da(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=gg(n);this._bootstrapComponents=Cm(o.bootstrap),this._r3Injector=im(n,e,[{provide:Nn,useValue:this},{provide:Jr,useValue:this.componentFactoryResolver},...r],Ye(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},ju=class extends no{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Vu(this.moduleType,n,[])}};var Ea=class extends Nn{injector;componentFactoryResolver=new Da(this);instance=null;constructor(n){super();let e=new Xi([...n.providers,{provide:Nn,useValue:this},{provide:Jr,useValue:this.componentFactoryResolver}],n.parent||id(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ka(t,n,e=null){return new Ea({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var WD=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=_g(!1,e.type),i=r.length>0?Ka([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:t,providedIn:"environment",factory:()=>new t(k(at))})}return t})();function ye(t){return io(()=>{let n=rv(t),e=Y(E({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(WD).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ut.Emulated,styles:t.styles||ht,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&lo("NgStandalone"),iv(e);let r=t.dependencies;return e.directiveDefs=Gp(r,!1),e.pipeDefs=Gp(r,!0),e.id=KD(e),e})}function YD(t){return xn(t)||mg(t)}function ZD(t){return t!==null}function Fn(t){return io(()=>({type:t.type,bootstrap:t.bootstrap||ht,declarations:t.declarations||ht,imports:t.imports||ht,exports:t.exports||ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hp(t,n){if(t==null)return Hr;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=An.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(e[o]=a!==An.None?[r,a]:r,n[o]=s):e[o]=r}return e}function he(t){return io(()=>{let n=rv(t);return iv(n),n})}function Qa(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function rv(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Hr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hp(t.inputs,n),outputs:Hp(t.outputs),debugInfo:null}}function iv(t){t.features?.forEach(n=>n(t))}function Gp(t,n){if(!t)return null;let e=n?vg:YD;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(ZD)}function KD(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function QD(t){return Object.getPrototypeOf(t.prototype).constructor}function Nt(t){let n=QD(t.type),e=!0,r=[t];for(;n;){let i;if(Tn(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=Zs(t.inputs),s.inputTransforms=Zs(t.inputTransforms),s.declaredInputs=Zs(t.declaredInputs),s.outputs=Zs(t.outputs);let a=i.hostBindings;a&&nE(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&eE(t,l),c&&tE(t,c),JD(t,i),tw(t.outputs,i.outputs),Tn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Nt&&(e=!1)}}n=Object.getPrototypeOf(n)}XD(r)}function JD(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];if(r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function XD(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=to(i.hostAttrs,e=to(e,i.hostAttrs))}}function Zs(t){return t===Hr?{}:t===ht?[]:t}function eE(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function tE(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function nE(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function jd(t){let n=t.inputConfig,e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}t.inputTransforms=e}function ov(t){return $d(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function rE(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function $d(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function sv(t,n,e){return t[n]=e}function kn(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function av(t,n,e,r){let i=kn(t,n,e);return kn(t,n+1,r)||i}function iE(t){return(t.flags&32)===32}function oE(t,n,e,r,i,o,s,a,l){let c=n.consts,u=uo(n,t,4,s||null,a||null);Pd(n,e,u,Zr(c,l)),$a(n,u);let d=u.tView=Od(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function sE(t,n,e,r,i,o,s,a,l,c){let u=e+gt,d=n.firstCreatePass?oE(u,n,t,r,i,o,s,a,l):n.data[u];or(d,!1);let y=aE(n,t,d,e);Va()&&za(n,t,y,d),Mn(y,t);let g=Hm(y,t,y,d);return t[u]=g,Ya(t,g),HD(g,d,t),Oa(d)&&kd(n,t,d),l!=null&&Rd(t,d,c),d}function H(t,n,e,r,i,o,s,a){let l=ne(),c=Ue(),u=Zr(c.consts,o);return sE(l,c,t,n,e,r,i,u,s,a),H}var aE=lE;function lE(t,n,e,r){return ja(!0),n[xe].createComment("")}var Ja=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var lv=new O("");function lr(t){return!!t&&typeof t.then=="function"}function cv(t){return!!t&&typeof t.subscribe=="function"}var si=new O("");var uv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=D(si,{optional:!0})??[];injector=D(Tt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=mt(this.injector,i);if(lr(o))e.push(o);else if(cv(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cE=(()=>{class t{static \u0275prov=I({token:t,providedIn:"root",factory:()=>new $u})}return t})(),$u=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}},Xa=new O("");function uE(){$h(()=>{throw new R(600,!1)})}function dE(t){return t.isBoundToModule}var fE=10;function hE(t,n,e){try{let r=e();return lr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var Rn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(NS);afterRenderManager=D(ym);zonelessEnabled=D(md);rootEffectScheduler=D(cE);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ke;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=D(ri).hasPendingTasks.pipe(Z(e=>!e));constructor(){D(Ua,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=D(at);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof Sa;if(!this._injector.get(uv).done){let y=!i&&yg(e),g=!1;throw new R(405,g)}let s;i?s=e:s=this._injector.get(Jr).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=dE(s)?void 0:this._injector.get(Nn),l=r||s.selector,c=s.create(Tt.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(lv,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),ea(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Dd.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new R(101,!1);let e=te(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,te(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<fE;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)pE(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Pa(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;ea(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Xa,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ea(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new R(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ea(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function pE(t,n,e,r){if(!e&&!Pa(t))return;Km(t,n,e&&!r?0:1)}function el(t,n,e,r){let i=ne(),o=La();if(kn(i,o,n)){let s=Ue(),a=fd();eD(a,i,t,n,e,r)}return el}function gE(t,n,e,r){return kn(t,La(),e)?n+Ur(e)+r:cn}function mE(t,n,e,r,i,o){let s=Jw(),a=av(t,s,e,i);return jg(2),a?n+Ur(e)+r+Ur(i)+o:cn}function Ks(t,n){return t<<17|n<<2}function rr(t){return t>>17&32767}function vE(t){return(t&2)==2}function yE(t,n){return t&131071|n<<17}function Bu(t){return t|2}function ti(t){return(t&131068)>>2}function nu(t,n){return t&-131069|n<<2}function _E(t){return(t&1)===1}function Uu(t){return t|1}function wE(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=rr(s),l=ti(s);t[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||so(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let y=rr(t[a+1]);t[r+1]=Ks(y,a),y!==0&&(t[y+1]=nu(t[y+1],r)),t[a+1]=yE(t[a+1],r)}else t[r+1]=Ks(a,0),a!==0&&(t[a+1]=nu(t[a+1],r)),a=r;else t[r+1]=Ks(l,0),a===0?a=r:t[l+1]=nu(t[l+1],r),l=r;c&&(t[r+1]=Bu(t[r+1])),zp(t,u,r,!0),zp(t,u,r,!1),SE(n,u,t,r,o),s=Ks(a,l),o?n.classBindings=s:n.styleBindings=s}function SE(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&so(o,n)>=0&&(e[r+1]=Uu(e[r+1]))}function zp(t,n,e,r){let i=t[e+1],o=n===null,s=r?rr(i):ti(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];CE(l,n)&&(a=!0,t[s+1]=r?Uu(c):Bu(c)),s=r?rr(c):ti(c)}a&&(t[e+1]=r?Bu(i):Uu(i))}function CE(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?so(t,n)>=0:!1}function N(t,n,e){let r=ne(),i=La();if(kn(r,i,n)){let o=Ue(),s=fd();jm(o,s,r,t,n,r[xe],e,!1)}return N}function qp(t,n,e,r,i){let o=n.inputs,s=i?"class":"style";Fd(t,e,o[s],s,r)}function tl(t,n){return DE(t,n,null,!0),tl}function DE(t,n,e,r){let i=ne(),o=Ue(),s=jg(2);if(o.firstUpdatePass&&bE(o,t,s,r),n!==cn&&kn(i,s,n)){let a=o.data[sr()];AE(o,a,i,i[xe],t,i[s+1]=NE(n,e),r,s)}}function EE(t,n){return n>=t.expandoStartIndex}function bE(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[sr()],s=EE(t,e);kE(o,r)&&n===null&&!s&&(n=!1),n=IE(i,o,n,r),wE(i,o,n,e,s,r)}}function IE(t,n,e,r){let i=rS(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=ru(null,t,n,e,r),e=ro(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=ru(i,t,n,e,r),o===null){let l=xE(t,n,r);l!==void 0&&Array.isArray(l)&&(l=ru(null,t,n,l[1],r),l=ro(l,n.attrs,r),TE(t,n,r,l))}else o=ME(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function xE(t,n,e){let r=e?n.classBindings:n.styleBindings;if(ti(r)!==0)return t[rr(r)]}function TE(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[rr(i)]=r}function ME(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ro(r,s,e)}return ro(r,n.attrs,e)}function ru(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=ro(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function ro(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Sw(t,s,e?!0:n[++o]))}return t===void 0?null:t}function AE(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],u=_E(c)?Wp(l,n,e,i,ti(c),s):void 0;if(!ba(u)){ba(o)||vE(c)&&(o=Wp(l,null,e,i,a,s));let d=Ag(sr(),e);SC(r,s,d,i,o)}}function Wp(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,y=e[i+1];y===cn&&(y=d?ht:void 0);let g=d?Yc(y,r):u===r?y:void 0;if(c&&!ba(g)&&(g=Yc(l,r)),ba(g)&&(a=g,s))return a;let f=t[i+1];i=s?rr(f):ti(f)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=Yc(l,r))}return a}function ba(t){return t!==void 0}function NE(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Ye(co(t)))),t}function kE(t,n){return(t.flags&(n?8:16))!==0}function RE(t,n,e,r,i,o){let s=n.consts,a=Zr(s,i),l=uo(n,t,2,r,a);return Pd(n,e,l,Zr(s,o)),l.attrs!==null&&Ca(l,l.attrs,!1),l.mergedAttrs!==null&&Ca(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function p(t,n,e,r){let i=ne(),o=Ue(),s=gt+t,a=i[xe],l=o.firstCreatePass?RE(s,o,i,n,e,r):o.data[s],c=OE(o,i,l,a,n,t);i[s]=c;let u=Oa(l);return or(l,!0),Nm(a,c,l),!iE(l)&&Va()&&za(o,i,c,l),Gw()===0&&Mn(c,i),zw(),u&&(kd(o,i,l),Nd(o,l,i)),r!==null&&Rd(i,l),p}function m(){let t=He();ld()?Lg():(t=t.parent,or(t,!1));let n=t;Yw(n)&&Zw(),qw();let e=Ue();return e.firstCreatePass&&($a(e,t),od(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&uS(n)&&qp(e,n,ne(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&dS(n)&&qp(e,n,ne(),n.stylesWithoutHost,!1),m}function de(t,n,e,r){return p(t,n,e,r),m(),de}var OE=(t,n,e,r,i,o)=>(ja(!0),Dm(r,i,sS()));function PE(t,n,e,r,i){let o=n.consts,s=Zr(o,r),a=uo(n,t,8,"ng-container",s);s!==null&&Ca(a,s,!0);let l=Zr(o,i);return Pd(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function Ln(t,n,e){let r=ne(),i=Ue(),o=t+gt,s=i.firstCreatePass?PE(o,i,r,n,e):i.data[o];or(s,!0);let a=FE(i,r,s,t);return r[o]=a,Va()&&za(i,r,a,s),Mn(a,r),Oa(s)&&(kd(i,r,s),Nd(i,s,r)),e!=null&&Rd(r,s),Ln}function Vn(){let t=He(),n=Ue();return ld()?Lg():(t=t.parent,or(t,!1)),n.firstCreatePass&&($a(n,t),od(t)&&n.queries.elementEnd(t)),Vn}var FE=(t,n,e,r)=>(ja(!0),oC(n[xe],""));function pe(){return ne()}var Ia="en-US";var LE=Ia;function VE(t){typeof t=="string"&&(LE=t.toLowerCase().replace(/_/g,"-"))}var jE=(t,n,e)=>{};function A(t,n,e,r){let i=ne(),o=Ue(),s=He();return dv(o,i,i[xe],s,t,n,r),A}function $E(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[aa],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function dv(t,n,e,r,i,o,s){let a=Oa(r),c=t.firstCreatePass&&oD(t),u=n[xt],d=iD(n),y=!0;if(r.type&3||s){let C=vt(r,n),M=s?s(C):C,P=d.length,se=s?ce=>s(Bt(ce[r.index])):r.index,ae=null;if(!s&&a&&(ae=$E(t,n,i,r.index)),ae!==null){let ce=ae.__ngLastListenerFn__||ae;ce.__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,y=!1}else{o=Zp(r,n,u,o),jE(C,i,o);let ce=e.listen(M,i,o);d.push(o,ce),c&&c.push(i,se,P,P+1)}}else o=Zp(r,n,u,o);let g=r.outputs,f;if(y&&g!==null&&(f=g[i])){let C=f.length;if(C)for(let M=0;M<C;M+=2){let P=f[M],se=f[M+1],Ce=n[P][se].subscribe(o),me=d.length;d.push(o,Ce),c&&c.push(i,r.index,me,-(me+1))}}}function Yp(t,n,e,r){let i=te(null);try{return Vt(6,n,e),e(r)!==!1}catch(o){return zm(t,o),!1}finally{Vt(7,n,e),te(i)}}function Zp(t,n,e,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Pn(t.index,n):n;Vd(s,5);let a=Yp(n,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Yp(n,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function S(t=1){return oS(t)}function BE(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function fv(t){let n=Qw();return kg(n,gt+t)}function _(t,n=""){let e=ne(),r=Ue(),i=t+gt,o=r.firstCreatePass?uo(r,i,1,n,null):r.data[i],s=UE(r,e,o,n,t);e[i]=s,Va()&&za(r,e,s,o),or(o,!1)}var UE=(t,n,e,r,i)=>(ja(!0),rC(n[xe],r));function jn(t){return Oe("",t,""),jn}function Oe(t,n,e){let r=ne(),i=gE(r,t,n,e);return i!==cn&&qm(r,sr(),i),Oe}function Ge(t,n,e,r,i){let o=ne(),s=mE(o,t,n,e,r,i);return s!==cn&&qm(o,sr(),s),Ge}function L(t,n,e){nv(n)&&(n=n());let r=ne(),i=La();if(kn(r,i,n)){let o=Ue(),s=fd();jm(o,s,r,t,n,r[xe],e,!1)}return L}function $(t,n){let e=nv(t);return e&&t.set(n),e}function V(t,n){let e=ne(),r=Ue(),i=He();return dv(r,e,e[xe],i,t,n),V}function HE(t,n,e){let r=Ue();if(r.firstCreatePass){let i=Tn(t);Hu(e,r.data,r.blueprint,i,!0),Hu(n,r.data,r.blueprint,i,!1)}}function Hu(t,n,e,r,i){if(t=We(t),Array.isArray(t))for(let o=0;o<t.length;o++)Hu(t[o],n,e,r,i);else{let o=Ue(),s=ne(),a=He(),l=zr(t)?t:We(t.provide),c=Cg(t),u=a.providerIndexes&1048575,d=a.directiveStart,y=a.providerIndexes>>20;if(zr(t)||!t.multi){let g=new tr(c,i,b),f=ou(l,n,i?u:u+y,d);f===-1?(Su(ga(a,s),o,l),iu(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[f]=g,s[f]=g)}else{let g=ou(l,n,u+y,d),f=ou(l,n,u,u+y),C=g>=0&&e[g],M=f>=0&&e[f];if(i&&!M||!i&&!C){Su(ga(a,s),o,l);let P=qE(i?zE:GE,e.length,i,r,c);!i&&M&&(e[f].providerFactory=P),iu(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(P),s.push(P)}else{let P=hv(e[i?f:g],c,!i&&r);iu(o,t,g>-1?g:f,P)}!i&&r&&M&&e[f].componentProviders++}}}function iu(t,n,e,r){let i=zr(n),o=xw(n);if(i||o){let l=(o?We(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function hv(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function ou(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function GE(t,n,e,r){return Gu(this.multi,[])}function zE(t,n,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Kr(e,e[K],this.providerFactory.index,r);o=a.slice(0,s),Gu(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Gu(i,o);return o}function Gu(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function qE(t,n,e,r,i){let o=new tr(t,e,b);return o.multi=[],o.index=n,o.componentProviders=0,hv(o,i,r&&!e),o}function zt(t,n=[]){return e=>{e.providersResolver=(r,i)=>HE(r,i?i(t):t,n)}}function kt(t,n,e,r){return mv(ne(),cd(),t,n,e,r)}function pv(t,n,e,r,i){return WE(ne(),cd(),t,n,e,r,i)}function gv(t,n){let e=t[n];return e===cn?void 0:e}function mv(t,n,e,r,i,o){let s=n+e;return kn(t,s,i)?sv(t,s+1,o?r.call(o,i):r(i)):gv(t,s+1)}function WE(t,n,e,r,i,o,s){let a=n+e;return av(t,a,i,o)?sv(t,a+2,s?r.call(s,i,o):r(i,o)):gv(t,a+2)}function ai(t,n){let e=Ue(),r,i=t+gt;e.firstCreatePass?(r=YE(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Qn(r.type,!0)),s,a=Je(b);try{let l=pa(!1),c=o();return pa(l),BE(e,ne(),i,c),c}finally{Je(a)}}function YE(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function li(t,n,e){let r=t+gt,i=ne(),o=kg(i,r);return ZE(i,r)?mv(i,cd(),n,o.transform,e,o):o.transform(e)}function ZE(t,n){return t[K].data[n].pure}function vv(t,n){return ev(t,n)}var zu=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},nl=(()=>{class t{compileModuleSync(e){return new ju(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=gg(e),o=Cm(i.declarations).reduce((s,a)=>{let l=xn(a);return l&&s.push(new ei(l)),s},[]);return new zu(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var KE=(()=>{class t{zone=D(we);changeDetectionScheduler=D(Qr);applicationRef=D(Rn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QE({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new we(Y(E({},JE()),{scheduleInRootZone:e})),[{provide:we,useFactory:t},{provide:Gr,multi:!0,useFactory:()=>{let r=D(KE,{optional:!0});return()=>r.initialize()}},{provide:Gr,multi:!0,useFactory:()=>{let r=D(XE);return()=>{r.initialize()}}},n===!0?{provide:sm,useValue:!0}:[],{provide:am,useValue:e??om}]}function JE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var XE=(()=>{class t{subscription=new Ee;initialized=!1;zone=D(we);pendingTasks=D(ri);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var eb=(()=>{class t{appRef=D(Rn);taskService=D(ri);ngZone=D(we);zonelessEnabled=D(md);tracing=D(Ua,{optional:!0});disableScheduling=D(sm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ee;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(va):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(am,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Iu||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?xp:lm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(va+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tb(){return typeof $localize<"u"&&$localize.locale||Ia}var Bd=new O("",{providedIn:"root",factory:()=>D(Bd,q.Optional|q.SkipSelf)||tb()});var qu=new O(""),nb=new O("");function Yi(t){return!t.moduleRef}function rb(t){let n=Yi(t)?t.r3Injector:t.moduleRef.injector,e=n.get(we);return e.run(()=>{Yi(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(sn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Yi(t)){let o=()=>n.destroy(),s=t.platformInjector.get(qu);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(qu);s.add(o),t.moduleRef.onDestroy(()=>{ea(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return hE(r,e,()=>{let o=n.get(uv);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Bd,Ia);if(VE(s||Ia),!n.get(nb,!0))return Yi(t)?n.get(Rn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Yi(t)){let l=n.get(Rn);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return ib(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function ib(t,n){let e=t.injector.get(Rn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new R(-403,!1);n.push(t)}var ta=null;function ob(t=[],n){return Tt.create({name:n,providers:[{provide:Na,useValue:"platform"},{provide:qu,useValue:new Set([()=>ta=null])},...t]})}function sb(t=[]){if(ta)return ta;let n=ob(t);return ta=n,uE(),ab(n),n}function ab(t){let n=t.get(Sd,null);mt(t,()=>{n?.forEach(e=>e())})}var cr=(()=>{class t{static __NG_ELEMENT_ID__=lb}return t})();function lb(t){return cb(He(),ne(),(t&16)===16)}function cb(t,n,e){if(Ra(t)&&!e){let r=Pn(t.index,n);return new nr(r,r)}else if(t.type&175){let r=n[$t];return new nr(r,n)}return null}var Wu=class{constructor(){}supports(n){return ov(n)}create(n){return new Yu(n)}},ub=(t,n)=>n,Yu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||ub}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Kp(r,i,o)?e:r,a=Kp(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let y=0;y<c;y++){let g=y<o.length?o[y]:o[y]=0,f=g+y;u<=f&&f<c&&(o[y]=g+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!ov(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,rE(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new Zu(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new xa),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xa),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Zu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},Ku=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},xa=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Ku,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Kp(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}var Qu=class{constructor(){}supports(n){return n instanceof Map||$d(n)}create(){return new Ju}},Ju=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||$d(n)))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Xu(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}},Xu=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function Qp(){return new Ud([new Wu])}var Ud=(()=>{class t{factories;static \u0275prov=I({token:t,providedIn:"root",factory:Qp});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Qp()),deps:[[t,new Aa,new oo]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new R(901,!1)}}return t})();function Jp(){return new Hd([new Qu])}var Hd=(()=>{class t{static \u0275prov=I({token:t,providedIn:"root",factory:Jp});factories;constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Jp()),deps:[[t,new Aa,new oo]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new R(901,!1)}}return t})();function yv(t){try{let{rootComponent:n,appProviders:e,platformProviders:r}=t,i=sb(r),o=[QE({}),{provide:Qr,useExisting:eb},...e||[]],s=new Ea({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return rb({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function ur(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function fo(t,n){lo("NgSignals");let e=Lh(t);return n?.equal&&(e[rt].equal=n.equal),e}function un(t){let n=te(null);try{return t()}finally{te(n)}}var Xp=class{[rt];constructor(n){this[rt]=n}destroy(){this[rt].destroy()}};function _v(t){let n=xn(t);if(!n)return null;let e=new ei(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Ev=null;function fn(){return Ev}function bv(t){Ev??=t}var rl=class{};var ze=new O(""),Zd=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>D(db),providedIn:"platform"})}return t})(),Iv=new O(""),db=(()=>{class t extends Zd{_location;_history;_doc=D(ze);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fn().getBaseHref(this._doc)}onPopState(e){let r=fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Kd(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function wv(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,r=e-(t[e-1]==="/"?1:0);return t.slice(0,r)+t.slice(e)}function dn(t){return t&&t[0]!=="?"?"?"+t:t}var hn=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>D(Qd),providedIn:"root"})}return t})(),xv=new O(""),Qd=(()=>{class t extends hn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Kd(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+dn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+dn(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+dn(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(k(Zd),k(xv,8))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tv=(()=>{class t extends hn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Kd(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(k(Zd),k(xv,8))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),ci=(()=>{class t{_subject=new ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=pb(wv(Sv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+dn(r))}normalize(e){return t.stripTrailingSlash(hb(this._basePath,Sv(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+dn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+dn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=dn;static joinWithSlash=Kd;static stripTrailingSlash=wv;static \u0275fac=function(r){return new(r||t)(k(hn))};static \u0275prov=I({token:t,factory:()=>fb(),providedIn:"root"})}return t})();function fb(){return new ci(k(hn))}function hb(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function Sv(t){return t.replace(/\/index.html$/,"")}function pb(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}function Mv(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Gd=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qe=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Gd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Cv(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Cv(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(b(ii),b(Za),b(Ud))};static \u0275dir=he({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Cv(t,n){t.context.$implicit=n.item}var yt=(()=>{class t{_viewContainer;_context=new zd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Dv("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Dv("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(b(ii),b(Za))};static \u0275dir=he({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),zd=class{$implicit=null;ngIf=null};function Dv(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ye(n)}'.`)}var Av=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),s=i.indexOf("-")===-1?void 0:Ht.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(b(Ke),b(Hd),b(Xe))};static \u0275dir=he({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();var Se=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fn({type:t});static \u0275inj=On({})}return t})(),Jd="browser",gb="server";function mb(t){return t===Jd}function Xd(t){return t===gb}var Nv=(()=>{class t{static \u0275prov=I({token:t,providedIn:"root",factory:()=>mb(D(ar))?new qd(D(ze),window):new Wd})}return t})(),qd=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=vb(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function vb(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Wd=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},il=class{};var tf=class extends rl{supportsDOMEvents=!0},nf=class t extends tf{static makeCurrent(){bv(new t)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=yb();return e==null?null:_b(e)}resetBaseElement(){ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Mv(document.cookie,n)}},ho=null;function yb(){return ho=ho||document.querySelector("base"),ho?ho.getAttribute("href"):null}function _b(t){return new URL(t,document.baseURI).pathname}var wb=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),rf=new O(""),Lv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(k(rf),k(we))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),sl=class{_doc;constructor(n){this._doc=n}manager},ol="ng-app-id";function kv(t){for(let n of t)n.remove()}function Rv(t,n){let e=n.createElement("style");return e.textContent=t,e}function Sb(t,n,e,r){let i=t.head?.querySelectorAll(`style[${ol}="${n}"],link[${ol}="${n}"]`);if(i)for(let o of i)o.removeAttribute(ol),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function of(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Vv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Xd(o),Sb(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,Rv);r?.forEach(i=>this.addUsage(i,this.external,of))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(kv(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])kv(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,Rv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,of(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ol,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(k(ze),k(wd),k(Cd,8),k(ar))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),ef={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},af=/%COMP%/g,jv="%COMP%",Cb=`_nghost-${jv}`,Db=`_ngcontent-${jv}`,Eb=!0,bb=new O("",{providedIn:"root",factory:()=>Eb});function Ib(t){return Db.replace(af,t)}function xb(t){return Cb.replace(af,t)}function $v(t,n){return n.map(e=>e.replace(af,t))}var Ov=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.platformIsServer=Xd(a),this.defaultRenderer=new po(e,s,l,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ut.ShadowDom&&(r=Y(E({},r),{encapsulation:Ut.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof al?i.applyToHost(e):i instanceof go&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ut.Emulated:o=new al(l,c,r,this.appId,u,s,a,d);break;case Ut.ShadowDom:return new sf(l,c,e,r,s,a,this.nonce,d);default:o=new go(l,c,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||t)(k(Lv),k(Vv),k(wd),k(bb),k(ze),k(ar),k(we),k(Cd))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),po=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(ef[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Pv(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Pv(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new R(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=ef[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=ef[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Ht.DashCase|Ht.Important)?n.style.setProperty(e,r,i&Ht.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Ht.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r){if(typeof n=="string"&&(n=fn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function Pv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var sf=class extends po{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=$v(i.id,i.styles);for(let d of c){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=d,this.shadowRoot.appendChild(y)}let u=i.getExternalStyles?.();if(u)for(let d of u){let y=of(d,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},go=class extends po{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=l?$v(l,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},al=class extends go{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,l){let c=i+"-"+r.id;super(n,e,r,o,s,a,l,c),this.contentAttr=Ib(c),this.hostAttr=xb(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}},Tb=(()=>{class t extends sl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||t)(k(ze))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),Fv=["alt","control","meta","shift"],Mb={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ab={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Nb=(()=>{class t extends sl{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fn().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Fv.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=Mb[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Fv.forEach(s=>{if(s!==i){let a=Ab[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(k(ze))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();function Bv(t,n){return yv(E({rootComponent:t},kb(n)))}function kb(t){return{appProviders:[...Lb,...t?.providers??[]],platformProviders:Fb}}function Rb(){nf.makeCurrent()}function Ob(){return new sn}function Pb(){return mm(document),document}var Fb=[{provide:ar,useValue:Jd},{provide:Sd,useValue:Rb,multi:!0},{provide:ze,useFactory:Pb,deps:[]}];var Lb=[{provide:Na,useValue:"root"},{provide:sn,useFactory:Ob,deps:[]},{provide:rf,useClass:Tb,multi:!0,deps:[ze,we,ar]},{provide:rf,useClass:Nb,multi:!0,deps:[ze]},Ov,Vv,Lv,{provide:Xr,useExisting:Ov},{provide:il,useClass:wb,deps:[]},[]];var Uv=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(k(ze))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var z="primary",Ao=Symbol("RouteTitle"),ff=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function gi(t){return new ff(t)}function jb(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $b(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!qt(t[e],n[e]))return!1;return!0}function qt(t,n){let e=t?hf(t):void 0,r=n?hf(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Xv(t[i],n[i]))return!1;return!0}function hf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Xv(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function ey(t){return t.length>0?t[t.length-1]:null}function Bn(t){return Bc(t)?t:lr(t)?ge(Promise.resolve(t)):B(t)}var Bb={exact:ny,subset:ry},ty={exact:Ub,subset:Hb,ignored:()=>!0};function Hv(t,n,e){return Bb[e.paths](t.root,n.root,e.matrixParams)&&ty[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function Ub(t,n){return qt(t,n)}function ny(t,n,e){if(!fr(t.segments,n.segments)||!ul(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!ny(t.children[r],n.children[r],e))return!1;return!0}function Hb(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Xv(t[e],n[e]))}function ry(t,n,e){return iy(t,n,n.segments,e)}function iy(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!fr(i,e)||n.hasChildren()||!ul(i,e,r))}else if(t.segments.length===e.length){if(!fr(t.segments,e)||!ul(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!ry(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!fr(t.segments,i)||!ul(t.segments,i,r)||!t.children[z]?!1:iy(t.children[z],n,o,r)}}function ul(t,n,e){return n.every((r,i)=>ty[e](t[i].parameters,r.parameters))}var gn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ie([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=gi(this.queryParams),this._queryParamMap}toString(){return qb.serialize(this)}},ie=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dl(this)}},dr=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=gi(this.parameters),this._parameterMap}toString(){return sy(this)}};function Gb(t,n){return fr(t,n)&&t.every((e,r)=>qt(e.parameters,n[r].parameters))}function fr(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function zb(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(e=e.concat(n(i,r)))}),e}var No=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>new mi,providedIn:"root"})}return t})(),mi=class{parse(n){let e=new gf(n);return new gn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${mo(n.root,!0)}`,r=Zb(n.queryParams),i=typeof n.fragment=="string"?`#${Wb(n.fragment)}`:"";return`${e}${r}${i}`}},qb=new mi;function dl(t){return t.segments.map(n=>sy(n)).join("/")}function mo(t,n){if(!t.hasChildren())return dl(t);if(n){let e=t.children[z]?mo(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${mo(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=zb(t,(r,i)=>i===z?[mo(t.children[z],!1)]:[`${i}:${mo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${dl(t)}/${e[0]}`:`${dl(t)}/(${e.join("//")})`}}function oy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ll(t){return oy(t).replace(/%3B/gi,";")}function Wb(t){return encodeURI(t)}function pf(t){return oy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fl(t){return decodeURIComponent(t)}function Gv(t){return fl(t.replace(/\+/g,"%20"))}function sy(t){return`${pf(t.path)}${Yb(t.parameters)}`}function Yb(t){return Object.entries(t).map(([n,e])=>`;${pf(n)}=${pf(e)}`).join("")}function Zb(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${ll(e)}=${ll(i)}`).join("&"):`${ll(e)}=${ll(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var Kb=/^[^\/()?;#]+/;function lf(t){let n=t.match(Kb);return n?n[0]:""}var Qb=/^[^\/()?;=#]+/;function Jb(t){let n=t.match(Qb);return n?n[0]:""}var Xb=/^[^=?&#]+/;function eI(t){let n=t.match(Xb);return n?n[0]:""}var tI=/^[^&#]+/;function nI(t){let n=t.match(tI);return n?n[0]:""}var gf=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[z]=new ie(n,e)),r}parseSegment(){let n=lf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new dr(fl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=Jb(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=lf(this.remaining);i&&(r=i,this.capture(r))}n[fl(e)]=fl(r)}parseQueryParam(n){let e=eI(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=nI(this.remaining);s&&(r=s,this.capture(r))}let i=Gv(e),o=Gv(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=z);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[z]:new ie([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}};function ay(t){return t.segments.length>0?new ie([],{[z]:t}):t}function ly(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=ly(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new ie(t.segments,n);return rI(e)}function rI(t){if(t.numberOfChildren===1&&t.children[z]){let n=t.children[z];return new ie(t.segments.concat(n.segments),n.children)}return t}function hr(t){return t instanceof gn}function iI(t,n,e=null,r=null){let i=cy(t);return uy(i,n,e,r)}function cy(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new ie(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=ay(r);return n??i}function uy(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return cf(i,i,i,e,r);let o=oI(n);if(o.toRoot())return cf(i,i,new ie([],{}),e,r);let s=sI(o,i,t),a=s.processChildren?_o(s.segmentGroup,s.index,o.commands):fy(s.segmentGroup,s.index,o.commands);return cf(i,s.segmentGroup,a,e,r)}function hl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Co(t){return typeof t=="object"&&t!=null&&t.outlets}function cf(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===n?s=e:s=dy(t,n,e);let a=ay(ly(s));return new gn(a,o,i)}function dy(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=dy(o,n,e)}),new ie(t.segments,r)}var pl=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&hl(r[0]))throw new R(4003,!1);let i=r.find(Co);if(i&&i!==ey(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oI(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pl(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new pl(e,n,r)}var fi=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function sI(t,n,e){if(t.isAbsolute)return new fi(n,!0,0);if(!e)return new fi(n,!1,NaN);if(e.parent===null)return new fi(e,!0,0);let r=hl(t.commands[0])?0:1,i=e.segments.length-1+r;return aI(e,i,t.numberOfDoubleDots)}function aI(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new fi(r,!1,i-o)}function lI(t){return Co(t[0])?t[0].outlets:{[z]:t}}function fy(t,n,e){if(t??=new ie([],{}),t.segments.length===0&&t.hasChildren())return _o(t,n,e);let r=cI(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ie(t.segments.slice(0,r.pathIndex),{});return o.children[z]=new ie(t.segments.slice(r.pathIndex),t.children),_o(o,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?mf(t,n,e):r.match?_o(t,0,i):mf(t,n,e)}function _o(t,n,e){if(e.length===0)return new ie(t.segments,{});{let r=lI(e),i={};if(Object.keys(r).some(o=>o!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let o=_o(t.children[z],n,e);return new ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fy(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ie(t.segments,i)}}function cI(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(Co(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!qv(l,c,s))return o;r+=2}else{if(!qv(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mf(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(Co(o)){let l=uI(o.outlets);return new ie(r,l)}if(i===0&&hl(e[0])){let l=t.segments[n];r.push(new dr(l.path,zv(e[0]))),i++;continue}let s=Co(o)?o.outlets[z]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&hl(a)?(r.push(new dr(s,zv(a))),i+=2):(r.push(new dr(s,{})),i++)}return new ie(r,{})}function uI(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=mf(new ie([],{}),0,r))}),n}function zv(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function qv(t,n,e){return t==e.path&&qt(n,e.parameters)}var wo="imperative",Pe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pe||{}),_t=class{id;url;constructor(n,e){this.id=n,this.url=e}},vi=class extends _t{type=Pe.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wt=class extends _t{urlAfterRedirects;type=Pe.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ct=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ct||{}),gl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(gl||{}),pn=class extends _t{reason;code;type=Pe.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$n=class extends _t{reason;code;type=Pe.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},Do=class extends _t{error;target;type=Pe.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ml=class extends _t{urlAfterRedirects;state;type=Pe.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class extends _t{urlAfterRedirects;state;type=Pe.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends _t{urlAfterRedirects;state;shouldActivate;type=Pe.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_f=class extends _t{urlAfterRedirects;state;type=Pe.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wf=class extends _t{urlAfterRedirects;state;type=Pe.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sf=class{route;type=Pe.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Cf=class{route;type=Pe.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Df=class{snapshot;type=Pe.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ef=class{snapshot;type=Pe.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bf=class{snapshot;type=Pe.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},If=class{snapshot;type=Pe.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vl=class{routerEvent;position;anchor;type=Pe.Scroll;constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Eo=class{},yi=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function dI(t,n){return t.providers&&!t._injector&&(t._injector=Ka(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Ot(t){return t.outlet||z}function fI(t,n){let e=t.filter(r=>Ot(r)===n);return e.push(...t.filter(r=>Ot(r)!==n)),e}function ko(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var xf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ko(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Ro(this.rootInjector)}},Ro=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new xf(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(k(at))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Tf(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=Tf(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Mf(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Mf(n,this._root).map(e=>e.value)}};function Tf(t,n){if(t===n.value)return n;for(let e of n.children){let r=Tf(t,e);if(r)return r}return null}function Mf(t,n){if(t===n.value)return[n];for(let e of n.children){let r=Mf(t,e);if(r.length)return r.unshift(n),r}return[]}var lt=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function di(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var _l=class extends yl{snapshot;constructor(n,e){super(n),this.snapshot=e,Vf(this,n)}toString(){return this.snapshot.toString()}};function hy(t){let n=hI(t),e=new Ve([new dr("",{})]),r=new Ve({}),i=new Ve({}),o=new Ve({}),s=new Ve(""),a=new et(e,r,o,s,i,z,t,n.root);return a.snapshot=n.root,new _l(new lt(a,[]),n)}function hI(t){let n={},e={},r={},i="",o=new hi([],n,r,i,e,z,t,null,{});return new Sl("",new lt(o,[]))}var et=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Z(c=>c[Ao]))??B(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(n=>gi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(n=>gi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wl(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:E(E({},n.params),t.params),data:E(E({},n.data),t.data),resolve:E(E(E(E({},t.data),n.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&gy(i)&&(r.resolve[Ao]=i.title),r}var hi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ao]}constructor(n,e,r,i,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Sl=class extends yl{url;constructor(n,e){super(e),this.url=n,Vf(this,e)}toString(){return py(this._root)}};function Vf(t,n){n.value._routerState=t,n.children.forEach(e=>Vf(t,e))}function py(t){let n=t.children.length>0?` { ${t.children.map(py).join(", ")} } `:"";return`${t.value}${n}`}function uf(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,qt(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),qt(n.params,e.params)||t.paramsSubject.next(e.params),$b(n.url,e.url)||t.urlSubject.next(e.url),qt(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Af(t,n){let e=qt(t.params,n.params)&&Gb(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||Af(t.parent,n.parent))}function gy(t){return typeof t.title=="string"||t.title===null}var pI=new O(""),jf=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new ve;deactivateEvents=new ve;attachEvents=new ve;detachEvents=new ve;routerOutletData=_d(void 0);parentContexts=D(Ro);location=D(ii);changeDetector=D(cr);inputBinder=D(bl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Nf(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=he({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ir]})}return t})(),Nf=class t{route;childContexts;parent;outletData;__ngOutletInjector(n){return new t(this.route,this.childContexts,n,this.outletData)}constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===et?this.route:n===Ro?this.childContexts:n===pI?this.outletData:this.parent.get(n,e)}},bl=new O(""),Wv=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=qi([r.queryParams,r.params,r.data]).pipe(ft(([o,s,a],l)=>(a=E(E(E({},o),s),a),l===0?B(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=_v(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();function gI(t,n,e){let r=bo(t,n._root,e?e._root:void 0);return new _l(r,n)}function bo(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=mI(t,n,e);return new lt(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>bo(t,a)),s}}let r=vI(n.value),i=n.children.map(o=>bo(t,o));return new lt(r,i)}}function mI(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bo(t,r,i);return bo(t,r)})}function vI(t){return new et(new Ve(t.url),new Ve(t.params),new Ve(t.queryParams),new Ve(t.fragment),new Ve(t.data),t.outlet,t.component,t)}var Io=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},my="ngNavigationCancelingError";function Cl(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=hr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=vy(!1,ct.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function vy(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[my]=!0,e.cancellationCode=n,e}function yI(t){return yy(t)&&hr(t.url)}function yy(t){return!!t&&t[my]}var _I=(t,n,e,r)=>Z(i=>(new kf(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),kf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),uf(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=di(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=di(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=di(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=di(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new If(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Ef(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(uf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uf(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Dl=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},pi=class{component;route;constructor(n,e){this.component=n,this.route=e}};function wI(t,n,e){let r=t._root,i=n?n._root:null;return vo(r,i,e,[r.value])}function SI(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function wi(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!og(t)?t:n.get(t):r}function vo(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=di(n);return t.children.forEach(s=>{CI(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>So(a,e.getContext(s),i)),i}function CI(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=DI(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Dl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?vo(t,n,a?a.children:null,r,i):vo(t,n,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pi(a.outlet.component,s))}else s&&So(n,a,i),i.canActivateChecks.push(new Dl(r)),o.component?vo(t,null,a?a.children:null,r,i):vo(t,null,e,r,i);return i}function DI(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!fr(t.url,n.url);case"pathParamsOrQueryParamsChange":return!fr(t.url,n.url)||!qt(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Af(t,n)||!qt(t.queryParams,n.queryParams);case"paramsChange":default:return!Af(t,n)}}function So(t,n,e){let r=di(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?So(s,n.children.getContext(o),e):So(s,null,e):So(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new pi(n.outlet.component,i)):e.canDeactivateChecks.push(new pi(null,i)):e.canDeactivateChecks.push(new pi(null,i))}function Oo(t){return typeof t=="function"}function EI(t){return typeof t=="boolean"}function bI(t){return t&&Oo(t.canLoad)}function II(t){return t&&Oo(t.canActivate)}function xI(t){return t&&Oo(t.canActivateChild)}function TI(t){return t&&Oo(t.canDeactivate)}function MI(t){return t&&Oo(t.canMatch)}function _y(t){return t instanceof tn||t?.name==="EmptyError"}var cl=Symbol("INITIAL_VALUE");function _i(){return ft(t=>qi(t.map(n=>n.pipe(nn(1),qc(cl)))).pipe(Z(n=>{for(let e of n)if(e!==!0){if(e===cl)return cl;if(e===!1||AI(e))return e}return!0}),dt(n=>n!==cl),nn(1)))}function AI(t){return hr(t)||t instanceof Io}function NI(t,n){return Ie(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?B(Y(E({},e),{guardsResult:!0})):kI(s,r,i,t).pipe(Ie(a=>a&&EI(a)?RI(r,o,t,n):B(a)),Z(a=>Y(E({},e),{guardsResult:a})))})}function kI(t,n,e,r){return ge(t).pipe(Ie(i=>VI(i.component,i.route,e,n,r)),rn(i=>i!==!0,!0))}function RI(t,n,e,r){return ge(n).pipe(Zn(i=>Or(PI(i.route.parent,r),OI(i.route,r),LI(t,i.path,e),FI(t,i.route,e))),rn(i=>i!==!0,!0))}function OI(t,n){return t!==null&&n&&n(new bf(t)),B(!0)}function PI(t,n){return t!==null&&n&&n(new Df(t)),B(!0)}function FI(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let i=r.map(o=>zs(()=>{let s=ko(n)??e,a=wi(o,s),l=II(a)?a.canActivate(n,t):mt(s,()=>a(n,t));return Bn(l).pipe(rn())}));return B(i).pipe(_i())}function LI(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>SI(s)).filter(s=>s!==null).map(s=>zs(()=>{let a=s.guards.map(l=>{let c=ko(s.node)??e,u=wi(l,c),d=xI(u)?u.canActivateChild(r,t):mt(c,()=>u(r,t));return Bn(d).pipe(rn())});return B(a).pipe(_i())}));return B(o).pipe(_i())}function VI(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return B(!0);let s=o.map(a=>{let l=ko(n)??i,c=wi(a,l),u=TI(c)?c.canDeactivate(t,n,e,r):mt(l,()=>c(t,n,e,r));return Bn(u).pipe(rn())});return B(s).pipe(_i())}function jI(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return B(!0);let o=i.map(s=>{let a=wi(s,t),l=bI(a)?a.canLoad(n,e):mt(t,()=>a(n,e));return Bn(l)});return B(o).pipe(_i(),wy(r))}function wy(t){return Lc(je(n=>{if(typeof n!="boolean")throw Cl(t,n)}),Z(n=>n===!0))}function $I(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return B(!0);let o=i.map(s=>{let a=wi(s,t),l=MI(a)?a.canMatch(n,e):mt(t,()=>a(n,e));return Bn(l)});return B(o).pipe(_i(),wy(r))}var xo=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},To=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function ui(t){return kr(new xo(t))}function BI(t){return kr(new R(4e3,!1))}function UI(t){return kr(vy(!1,ct.GuardRejected))}var Rf=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return B(r);if(i.numberOfChildren>1||!i.children[z])return BI(`${n.redirectTo}`);i=i.children[z]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:y,params:g,data:f,title:C}=i,M=mt(o,()=>a({params:g,data:f,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:y,title:C}));if(M instanceof gn)throw new To(M);e=M}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new To(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new gn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ie(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},Of={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HI(t,n,e,r,i){let o=Sy(t,n,e);return o.matched?(r=dI(n,r),$I(r,n,e,i).pipe(Z(s=>s===!0?o:E({},Of)))):B(o)}function Sy(t,n,e){if(n.path==="**")return GI(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?E({},Of):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||jb)(e,t,n);if(!i)return E({},Of);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function GI(t){return{matched:!0,parameters:t.length>0?ey(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Yv(t,n,e,r){return e.length>0&&WI(t,e,r)?{segmentGroup:new ie(n,qI(r,new ie(e,t.children))),slicedSegments:[]}:e.length===0&&YI(t,e,r)?{segmentGroup:new ie(t.segments,zI(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:e}}function zI(t,n,e,r){let i={};for(let o of e)if(Il(t,n,o)&&!r[Ot(o)]){let s=new ie([],{});i[Ot(o)]=s}return E(E({},r),i)}function qI(t,n){let e={};e[z]=n;for(let r of t)if(r.path===""&&Ot(r)!==z){let i=new ie([],{});e[Ot(r)]=i}return e}function WI(t,n,e){return e.some(r=>Il(t,n,r)&&Ot(r)!==z)}function YI(t,n,e){return e.some(r=>Il(t,n,r))}function Il(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ZI(t,n,e){return n.length===0&&!t.children[e]}var Pf=class{};function KI(t,n,e,r,i,o,s="emptyOnly"){return new Ff(t,n,e,r,i,s,o).recognize()}var QI=31,Ff=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Rf(this.urlSerializer,this.urlTree)}noMatchError(n){return new R(4002,`'${n.segmentGroup}'`)}recognize(){let n=Yv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Z(({children:e,rootSnapshot:r})=>{let i=new lt(r,e),o=new Sl("",i),s=iI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new hi([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,z,e).pipe(Z(r=>({children:r,rootSnapshot:e})),Cn(r=>{if(r instanceof To)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xo?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(Z(s=>s instanceof lt?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ge(o).pipe(Zn(s=>{let a=r.children[s],l=fI(e,s);return this.processSegmentGroup(n,l,a,s,i)}),zc((s,a)=>(s.push(...a),s)),Dn(null),Gc(),Ie(s=>{if(s===null)return ui(r);let a=Cy(s);return JI(a),B(a)}))}processSegment(n,e,r,i,o,s,a){return ge(e).pipe(Zn(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,s,a).pipe(Cn(c=>{if(c instanceof xo)return B(null);throw c}))),rn(l=>!!l),Cn(l=>{if(_y(l))return ZI(r,i,o)?B(new Pf):ui(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,l){return Ot(r)!==s&&(s===z||!Il(i,o,r))?ui(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,l):ui(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:y}=Sy(e,i,o);if(!l)return ui(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QI&&(this.allowRedirects=!1));let g=new hi(o,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Zv(i),Ot(i),i.component??i._loadedComponent??null,i,Kv(i)),f=wl(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(f.params),g.data=Object.freeze(f.data);let C=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,n);return this.applyRedirects.lineralizeSegments(i,C).pipe(Ie(M=>this.processSegment(n,r,e,M.concat(y),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=HI(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(ft(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(ft(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:y,remainingSegments:g}=l,f=new hi(y,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Zv(r),Ot(r),r.component??r._loadedComponent??null,r,Kv(r)),C=wl(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(C.params),f.data=Object.freeze(C.data);let{segmentGroup:M,slicedSegments:P}=Yv(e,y,g,c);if(P.length===0&&M.hasChildren())return this.processChildren(u,c,M,f).pipe(Z(ae=>new lt(f,ae)));if(c.length===0&&P.length===0)return B(new lt(f,[]));let se=Ot(r)===o;return this.processSegment(u,c,M,P,se?z:o,!0,f).pipe(Z(ae=>new lt(f,ae instanceof lt?[ae]:[])))}))):ui(e)))}getChildConfig(n,e,r){return e.children?B({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?B({routes:e._loadedRoutes,injector:e._loadedInjector}):jI(n,e,r,this.urlSerializer).pipe(Ie(i=>i?this.configLoader.loadChildren(n,e).pipe(je(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):UI(e))):B({routes:[],injector:n})}};function JI(t){t.sort((n,e)=>n.value.outlet===z?-1:e.value.outlet===z?1:n.value.outlet.localeCompare(e.value.outlet))}function XI(t){let n=t.value.routeConfig;return n&&n.path===""}function Cy(t){let n=[],e=new Set;for(let r of t){if(!XI(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=Cy(r.children);n.push(new lt(r.value,i))}return n.filter(r=>!e.has(r))}function Zv(t){return t.data||{}}function Kv(t){return t.resolve||{}}function ex(t,n,e,r,i,o){return Ie(s=>KI(t,n,e,r,s.extractedUrl,i,o).pipe(Z(({state:a,tree:l})=>Y(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function tx(t,n){return Ie(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return B(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Dy(l))s.add(c);let a=0;return ge(s).pipe(Zn(l=>o.has(l)?nx(l,r,t,n):(l.data=wl(l,l.parent,t).resolve,B(void 0))),je(()=>a++),Pr(1),Ie(l=>a===s.size?B(e):ot))})}function Dy(t){let n=t.children.map(e=>Dy(e)).flat();return[t,...n]}function nx(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!gy(i)&&(o[Ao]=i.title),rx(o,t,n,r).pipe(Z(s=>(t._resolvedData=s,t.data=wl(t,t.parent,e).resolve,null)))}function rx(t,n,e,r){let i=hf(t);if(i.length===0)return B({});let o={};return ge(i).pipe(Ie(s=>ix(t[s],n,e,r).pipe(rn(),je(a=>{if(a instanceof Io)throw Cl(new mi,a);o[s]=a}))),Pr(1),Hc(o),Cn(s=>_y(s)?ot:kr(s)))}function ix(t,n,e,r){let i=ko(n)??r,o=wi(t,i),s=o.resolve?o.resolve(n,e):mt(i,()=>o(n,e));return Bn(s)}function df(t){return ft(n=>{let e=t(n);return e?ge(e).pipe(Z(()=>n)):B(n)})}var Ey=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(e){return e.data[Ao]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>D(ox),providedIn:"root"})}return t})(),ox=(()=>{class t extends Ey{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(k(Uv))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Po=new O("",{providedIn:"root",factory:()=>({})}),sx=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ye({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){r&1&&de(0,"router-outlet")},dependencies:[jf],encapsulation:2})}return t})();function $f(t){let n=t.children&&t.children.map($f),e=n?Y(E({},t),{children:n}):E({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==z&&(e.component=sx),e}var Mo=new O(""),Bf=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(nl);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return B(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Bn(e.loadComponent()).pipe(Z(by),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Wi(()=>{this.componentLoaders.delete(e)})),i=new Nr(r,()=>new ke).pipe(Ar());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ax(r,this.compiler,e,this.onLoadEndListener).pipe(Wi(()=>{this.childrenLoaders.delete(r)})),s=new Nr(o,()=>new ke).pipe(Ar());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ax(t,n,e,r){return Bn(t.loadChildren()).pipe(Z(by),Ie(i=>i instanceof no||Array.isArray(i)?B(i):ge(n.compileModuleAsync(i))),Z(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Mo,[],{optional:!0,self:!0}).flat()),{routes:s.map($f),injector:o}}))}function lx(t){return t&&typeof t=="object"&&"default"in t}function by(t){return lx(t)?t.default:t}var Uf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>D(cx),providedIn:"root"})}return t})(),cx=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Iy=new O(""),xy=new O("");function ux(t,n,e){let r=t.get(xy),i=t.get(ze);return t.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),dx(t))),{onViewTransitionCreated:l}=r;return l&&mt(t,()=>l({transition:a,from:n,to:e})),s})}function dx(t){return new Promise(n=>{Ed({read:()=>setTimeout(n)},{injector:t})})}var Ty=new O(""),Hf=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ke;transitionAbortSubject=new ke;configLoader=D(Bf);environmentInjector=D(at);urlSerializer=D(No);rootContexts=D(Ro);location=D(ci);inputBindingEnabled=D(bl,{optional:!0})!==null;titleStrategy=D(Ey);options=D(Po,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(Uf);createViewTransition=D(Iy,{optional:!0});navigationErrorHandler=D(Ty,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;constructor(){let e=i=>this.events.next(new Sf(i)),r=i=>this.events.next(new Cf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(Y(E(E({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new Ve({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dt(o=>o.id!==0),Z(o=>Y(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ft(o=>{let s=!1,a=!1;return B(o).pipe(ft(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),ot;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Y(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new $n(l.id,this.urlSerializer.serialize(l.rawUrl),d,gl.IgnoredSameUrlNavigation)),l.resolve(!1),ot}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return B(l).pipe(ft(d=>{let y=this.transitions?.getValue();return this.events.next(new vi(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),y!==this.transitions?.getValue()?ot:Promise.resolve(d)}),ex(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),je(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Y(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let y=new ml(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(y)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:y,source:g,restoredState:f,extras:C}=l,M=new vi(d,this.urlSerializer.serialize(y),g,f);this.events.next(M);let P=hy(this.rootComponentType).snapshot;return this.currentTransition=o=Y(E({},l),{targetSnapshot:P,urlAfterRedirects:y,extras:Y(E({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,B(o)}else{let d="";return this.events.next(new $n(l.id,this.urlSerializer.serialize(l.extractedUrl),d,gl.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ot}}),je(l=>{let c=new vf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Z(l=>(this.currentTransition=o=Y(E({},l),{guards:wI(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),NI(this.environmentInjector,l=>this.events.next(l)),je(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Cl(this.urlSerializer,l.guardsResult);let c=new yf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),dt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ct.GuardRejected),!1)),df(l=>{if(l.guards.canActivateChecks.length)return B(l).pipe(je(c=>{let u=new _f(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ft(c=>{let u=!1;return B(c).pipe(tx(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ct.NoDataFromResolver)}}))}),je(c=>{let u=new wf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),df(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(je(y=>{u.component=y}),Z(()=>{})));for(let y of u.children)d.push(...c(y));return d};return qi(c(l.targetSnapshot.root)).pipe(Dn(null),nn(1))}),df(()=>this.afterPreactivation()),ft(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ge(u).pipe(Z(()=>o)):B(o)}),Z(l=>{let c=gI(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Y(E({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),je(()=>{this.events.next(new Eo)}),_I(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),nn(1),je({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Wc(this.transitionAbortSubject.pipe(je(l=>{throw l}))),Wi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Cn(l=>{if(a=!0,yy(l))this.events.next(new pn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),yI(l)?this.events.next(new yi(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Do(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Io){let{message:d,cancellationCode:y}=Cl(this.urlSerializer,u);this.events.next(new pn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,y)),this.events.next(new yi(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return ot}))}))}cancelNavigationTransition(e,r,i){let o=new pn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fx(t){return t!==wo}var hx=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>D(px),providedIn:"root"})}return t})(),Lf=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},px=(()=>{class t extends Lf{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Gt(t)))(i||t)}})();static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),My=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>D(gx),providedIn:"root"})}return t})(),gx=(()=>{class t extends My{location=D(ci);urlSerializer=D(No);options=D(Po,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=D(Uf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=hy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof vi)this.stateMemento=this.createStateMemento();else if(e instanceof $n)this.rawUrlTree=r.initialUrl;else if(e instanceof ml){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof Eo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof pn&&(e.code===ct.GuardRejected||e.code===ct.NoDataFromResolver)?this.restoreHistory(r):e instanceof Do?this.restoreHistory(r,!0):e instanceof Wt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof gn?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Gt(t)))(i||t)}})();static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(yo||{});function Ay(t,n){t.events.pipe(dt(e=>e instanceof Wt||e instanceof pn||e instanceof Do||e instanceof $n),Z(e=>e instanceof Wt||e instanceof $n?yo.COMPLETE:(e instanceof pn?e.code===ct.Redirect||e.code===ct.SupersededByNewNavigation:!1)?yo.REDIRECTING:yo.FAILED),dt(e=>e!==yo.REDIRECTING),nn(1)).subscribe(()=>{n()})}var mx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$e=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(Ja);stateManager=D(My);options=D(Po,{optional:!0})||{};pendingTasks=D(ri);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(Hf);urlSerializer=D(No);location=D(ci);urlHandlingStrategy=D(Uf);_events=new ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(hx);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(Mo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(bl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ee;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pn&&r.code!==ct.Redirect&&r.code!==ct.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wt)this.navigated=!0;else if(r instanceof yi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fx(i.source)},s);this.scheduleNavigation(a,wo,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_x(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map($f),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let y=i?i.snapshot:this.routerState.snapshot.root;d=cy(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return uy(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=hr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wo,null,r)}navigate(e,r={skipLocationChange:!1}){return yx(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=E({},mx):r===!1?i=E({},vx):i=r,hr(e))return Hv(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Hv(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,y)=>{a=d,l=y});let u=this.pendingTasks.add();return Ay(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yx(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new R(4008,!1)}function _x(t){return!(t instanceof Eo)&&!(t instanceof yi)}var wt=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ke;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Wt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(hr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:wm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:hr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(b($e),b(et),pd("tabindex"),b(Xe),b(Ke),b(hn))};static \u0275dir=he({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&A("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&el("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ur],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ur],replaceUrl:[2,"replaceUrl","replaceUrl",ur],routerLink:"routerLink"},features:[jd,ir]})}return t})();var El=class{};var wx=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(dt(e=>e instanceof Wt),Zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ka(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ge(i).pipe(Rr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=B(null);let o=i.pipe(Ie(s=>s===null?B(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ge([o,s]).pipe(Rr())}else return o})}static \u0275fac=function(r){return new(r||t)(k($e),k(nl),k(at),k(El),k(Bf))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ny=new O(""),Sx=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Wt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof $n&&e.code===gl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vl&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vl(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Om()};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();function ky(t,...n){return ao([{provide:Mo,multi:!0,useValue:t},[],{provide:et,useFactory:Ry,deps:[$e]},{provide:Xa,multi:!0,useFactory:Oy},n.map(e=>e.\u0275providers)])}function Ry(t){return t.routerState.root}function Fo(t,n){return{\u0275kind:t,\u0275providers:n}}function Oy(){let t=D(Tt);return n=>{let e=t.get(Rn);if(n!==e.components[0])return;let r=t.get($e),i=t.get(Py);t.get(Gf)===1&&r.initialNavigation(),t.get(Fy,null,q.Optional)?.setUpPreloading(),t.get(Ny,null,q.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Py=new O("",{factory:()=>new ke}),Gf=new O("",{providedIn:"root",factory:()=>1});function Cx(){return Fo(2,[{provide:Gf,useValue:0},{provide:si,multi:!0,deps:[Tt],useFactory:n=>{let e=n.get(Iv,Promise.resolve());return()=>e.then(()=>new Promise(r=>{let i=n.get($e),o=n.get(Py);Ay(i,()=>{r(!0)}),n.get(Hf).afterPreactivation=()=>(r(!0),o.closed?B(void 0):o),i.initialNavigation()}))}}])}function Dx(){return Fo(3,[{provide:si,multi:!0,useFactory:()=>{let n=D($e);return()=>{n.setUpLocationChangeListener()}}},{provide:Gf,useValue:2}])}var Fy=new O("");function Ex(t){return Fo(0,[{provide:Fy,useExisting:wx},{provide:El,useExisting:t}])}function bx(){return Fo(8,[Wv,{provide:bl,useExisting:Wv}])}function Ix(t){let n=[{provide:Iy,useValue:ux},{provide:xy,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return Fo(9,n)}var Qv=new O("ROUTER_FORROOT_GUARD"),xx=[ci,{provide:No,useClass:mi},$e,Ro,{provide:et,useFactory:Ry,deps:[$e]},Bf,[]],Ly=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[xx,[],{provide:Mo,multi:!0,useValue:e},{provide:Qv,useFactory:Nx,deps:[[$e,new oo,new Aa]]},r?.errorHandler?{provide:Ty,useValue:r.errorHandler}:[],{provide:Po,useValue:r||{}},r?.useHash?Mx():Ax(),Tx(),r?.preloadingStrategy?Ex(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?kx(r):[],r?.bindToComponentInputs?bx().\u0275providers:[],r?.enableViewTransitions?Ix().\u0275providers:[],Rx()]}}static forChild(e){return{ngModule:t,providers:[{provide:Mo,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)(k(Qv,8))};static \u0275mod=Fn({type:t});static \u0275inj=On({})}return t})();function Tx(){return{provide:Ny,useFactory:()=>{let t=D(Nv),n=D(we),e=D(Po),r=D(Hf),i=D(No);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Sx(i,r,t,n,e)}}}function Mx(){return{provide:hn,useClass:Tv}}function Ax(){return{provide:hn,useClass:Qd}}function Nx(t){return"guarded"}function kx(t){return[t.initialNavigation==="disabled"?Dx().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Cx().\u0275providers:[]]}var Jv=new O("");function Rx(){return[{provide:Jv,useFactory:Oy},{provide:Xa,multi:!0,useExisting:Jv}]}var Vy=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)};var Lo=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},xl=class extends Lo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Tl=class extends Lo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Ml=class extends Lo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},zf=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(zf||{});var Ox=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Vo=class{constructor(n,{headers:e={},customFetch:r,region:i=zf.Any}={}){this.url=n,this.headers=e,this.region=i,this.fetch=Vy(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,e={}){var r;return Ox(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(f=>{throw new xl(f)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Tl(u);if(!u.ok)throw new Ml(u);let y=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield u.json():y==="application/octet-stream"?g=yield u.blob():y==="text/event-stream"?g=u:y==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}};var Qy=D0(Ky(),1),{PostgrestClient:Jy,PostgrestQueryBuilder:AF,PostgrestFilterBuilder:NF,PostgrestTransformBuilder:kF,PostgrestBuilder:RF,PostgrestError:OF}=Qy.default;var Xy="2.11.2";var e_={"X-Client-Info":`realtime-js/${Xy}`},t_="1.0.0",Rl=1e4,n_=1e3,Di=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(Di||{}),ut=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(ut||{}),St=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(St||{}),rh=function(t){return t.websocket="websocket",t}(rh||{}),pr=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(pr||{});var Ol=class{constructor(){this.HEADER_LENGTH=1}decode(n,e){return n.constructor===ArrayBuffer?e(this._binaryDecode(n)):e(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let e=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,e,r)}_decodeBroadcast(n,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let l=r.decode(n.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Ei=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var fe=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(fe||{}),oh=(t,n,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=qx(s,t,n,i),o),{})},qx=(t,n,e,r)=>{let i=n.find(a=>a.name===t),o=i?.type,s=e[t];return o&&!r.includes(o)?r_(o,s):ih(s)},r_=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return Kx(n,e)}switch(t){case fe.bool:return Wx(n);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return Yx(n);case fe.json:case fe.jsonb:return Zx(n);case fe.timestamp:return Qx(n);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return ih(n);default:return ih(n)}},ih=t=>t,Wx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Yx=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},Zx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},Kx=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>r_(n,a))}return t},Qx=t=>typeof t=="string"?t.replace(" ","T"):t,Pl=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var bi=class{constructor(n,e,r={},i=Rl){this.channel=n,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var zo=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,i){let o=this.cloneDeep(n),s=this.transformState(e),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let y=u.map(M=>M.presence_ref),g=d.map(M=>M.presence_ref),f=u.filter(M=>g.indexOf(M.presence_ref)<0),C=d.filter(M=>y.indexOf(M.presence_ref)<0);f.length>0&&(a[c]=f),C.length>0&&(l[c]=C)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(g=>g.presence_ref),y=u.filter(g=>d.indexOf(g.presence_ref)<0);n[a].unshift(...y)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let i=n[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var mn=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(mn||{});var qo=class t{constructor(n,e={config:{}},r){this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new bi(this,St.join,this.params,this.timeout),this.rejoinTimer=new Ei(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(St.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new zo(this),this.broadcastEndpointURL=Pl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(mn.CHANNEL_ERROR,u)),this._onClose(()=>n?.(mn.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var y;if(this.socket.setAuth(),u===void 0){n?.(mn.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,f=(y=g?.length)!==null&&y!==void 0?y:0,C=[];for(let M=0;M<f;M++){let P=g[M],{filter:{event:se,schema:ae,table:ce,filter:Ce}}=P,me=u&&u[M];if(me&&me.event===se&&me.schema===ae&&me.table===ce&&me.filter===Ce)C.push(Object.assign(Object.assign({},P),{id:me.id}));else{this.unsubscribe(),n?.(mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(mn.SUBSCRIBED);return}})).receive("error",u=>{n?.(mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(n,e={}){return yield this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,e,r){return this._on(n,e,r)}send(r){return h(this,arguments,function*(n,e={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ut.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(St.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new bi(this,St.leave,{},n);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(n,e,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bi(this,n,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=St;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,e,r);if(e&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var f,C,M;return((f=g.filter)===null||f===void 0?void 0:f.event)==="*"||((M=(C=g.filter)===null||C===void 0?void 0:C.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===s}).map(g=>g.callback(y,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var f,C,M,P,se,ae;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){let ce=g.id,Ce=(f=g.filter)===null||f===void 0?void 0:f.event;return ce&&((C=e.ids)===null||C===void 0?void 0:C.includes(ce))&&(Ce==="*"||Ce?.toLocaleLowerCase()===((M=e.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{let ce=(se=(P=g?.filter)===null||P===void 0?void 0:P.event)===null||se===void 0?void 0:se.toLocaleLowerCase();return ce==="*"||ce===((ae=e?.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof y=="object"&&"ids"in y){let f=y.data,{schema:C,table:M,commit_timestamp:P,type:se,errors:ae}=f;y=Object.assign(Object.assign({},{schema:C,table:M,commit_timestamp:P,eventType:se,new:{},old:{},errors:ae}),this._getPayloadRecords(f))}g.callback(y,r)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let i=n.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,e))}),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(St.close,{},n)}_onError(n){this._on(St.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=oh(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=oh(n.columns,n.old_record)),e}};var Xx=()=>{},eT=typeof WebSocket<"u",tT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Wo=class{constructor(n,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=e_,this.params={},this.timeout=Rl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Xx,this.conn=null,this.sendBuffer=[],this.serializer=new Ol,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${rh.websocket}`,this.httpEndpoint=Pl(n),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ei(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(eT){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-BBCAVWXX.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t_}))}disconnect(n,e){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return h(this,null,function*(){let e=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return h(this,null,function*(){let n=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),n})}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Di.connecting:return pr.Connecting;case Di.open:return pr.Open;case Di.closing:return pr.Closing;default:return pr.Closed}}isConnected(){return this.connectionState()===pr.Open}channel(n,e={config:{}}){let r=new qo(`realtime:${n}`,e,this);return this.channels.push(r),r}push(n){let{topic:e,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return h(this,null,function*(){let e=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(St.access_token,{access_token:e})})}})}sendHeartbeat(){return h(this,null,function*(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(n_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){return h(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(St.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${n}${r}${i}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([tT],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var sh=class{constructor(n,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Di.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var Ii=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Fl=class extends Ii{constructor(n,e){super(n),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},gr=class extends Ii{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};var nT=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Vl=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},i_=()=>nT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),Ll=t=>{if(Array.isArray(t))return t.map(e=>Ll(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=Ll(r)}),n};var mr=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},ah=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rT=(t,n,e)=>mr(void 0,void 0,void 0,function*(){let r=yield i_();t instanceof r&&!e?.noResolveJson?t.json().then(i=>{n(new Fl(ah(i),t.status||500))}).catch(i=>{n(new gr(ah(i),i))}):n(new gr(ah(t),t))}),iT=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Yo(t,n,e,r,i,o){return mr(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,iT(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>rT(l,a,r))})})}function xi(t,n,e,r){return mr(this,void 0,void 0,function*(){return Yo(t,"GET",n,e,r)})}function Yt(t,n,e,r,i){return mr(this,void 0,void 0,function*(){return Yo(t,"POST",n,r,i,e)})}function o_(t,n,e,r,i){return mr(this,void 0,void 0,function*(){return Yo(t,"PUT",n,r,i,e)})}function s_(t,n,e,r){return mr(this,void 0,void 0,function*(){return Yo(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function jl(t,n,e,r,i){return mr(this,void 0,void 0,function*(){return Yo(t,"DELETE",n,r,i,e)})}var tt=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},oT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},a_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},$l=class{constructor(n,e={},r,i){this.url=n,this.headers=e,this.bucketId=r,this.fetch=Vl(i)}uploadOrUpdate(n,e,r,i){return tt(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},a_),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),y=yield d.json();return d.ok?{data:{path:c,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(o){if(Te(o))return{data:null,error:o};throw o}})}upload(n,e,r){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,i){return tt(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:a_.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),y=yield d.json();return d.ok?{data:{path:o,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(Te(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,e){return tt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Ii("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}update(n,e,r){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return tt(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}})}copy(n,e,r){return tt(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}})}createSignedUrl(n,e,r){return tt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Yt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}})}createSignedUrls(n,e,r){return tt(this,void 0,void 0,function*(){try{let i=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}})}download(n,e){return tt(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield xi(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Te(a))return{data:null,error:a};throw a}})}info(n){return tt(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield xi(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Ll(r),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}exists(n){return tt(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield s_(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Te(r)&&r instanceof gr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return tt(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(Te(e))return{data:null,error:e};throw e}})}list(n,e,r){return tt(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},oT),e),{prefix:n||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};var l_="2.7.1";var c_={"X-Client-Info":`storage-js/${l_}`};var Ti=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Bl=class{constructor(n,e={},r){this.url=n,this.headers=Object.assign(Object.assign({},c_),e),this.fetch=Vl(r)}listBuckets(){return Ti(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}getBucket(n){return Ti(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(Te(e))return{data:null,error:e};throw e}})}createBucket(n,e={public:!1}){return Ti(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}updateBucket(n,e){return Ti(this,void 0,void 0,function*(){try{return{data:yield o_(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Ti(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Te(e))return{data:null,error:e};throw e}})}deleteBucket(n){return Ti(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(Te(e))return{data:null,error:e};throw e}})}};var Zo=class extends Bl{constructor(n,e={},r){super(n,e,r)}from(n){return new $l(this.url,this.headers,n,this.fetch)}};var u_="2.47.10";var Ko="";typeof Deno<"u"?Ko="deno":typeof document<"u"?Ko="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ko="react-native":Ko="node";var sT={"X-Client-Info":`supabase-js-${Ko}/${u_}`},d_={headers:sT},f_={schema:"public"},h_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p_={};Ah();var aT=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},lT=t=>{let n;return t?n=t:typeof fetch>"u"?n=Th:n=fetch,(...e)=>n(...e)},cT=()=>typeof Headers>"u"?Mh:Headers,g_=(t,n,e)=>{let r=lT(e),i=cT();return(o,s)=>aT(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:t,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var uT=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})};function m_(t){return t.replace(/\/$/,"")}function v_(t,n){let{db:e,auth:r,realtime:i,global:o}=t,{db:s,auth:a,realtime:l,global:c}=n,u={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>uT(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}var Ul="2.67.3";var y_="http://localhost:9999",__="supabase.auth.token";var w_={"X-Client-Info":`gotrue-js/${Ul}`},lh=10;var Qo="X-Supabase-Api-Version",ch={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function S_(t){return Math.round(Date.now()/1e3)+t}function C_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}var Pt=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},Un=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function D_(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{n[i]=r}),n}var Hl=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},E_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uh=(t,n,e)=>h(void 0,null,function*(){yield t.setItem(n,JSON.stringify(e))}),Xo=(t,n)=>h(void 0,null,function*(){let e=yield t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),es=(t,n)=>h(void 0,null,function*(){yield t.removeItem(n)});function dT(t){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",r,i,o,s,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)s=n.indexOf(t.charAt(u++)),a=n.indexOf(t.charAt(u++)),l=n.indexOf(t.charAt(u++)),c=n.indexOf(t.charAt(u++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|c,e=e+String.fromCharCode(r),l!=64&&i!=0&&(e=e+String.fromCharCode(i)),c!=64&&o!=0&&(e=e+String.fromCharCode(o));return e}var Jo=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};Jo.promiseConstructor=Promise;function dh(t){let n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=t.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=e[1];return JSON.parse(dT(r))}function b_(t){return h(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),t)})})}function I_(t,n){return new Promise((r,i)=>{h(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function fT(t){return("0"+t.toString(16)).substr(-2)}function hT(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,fT).join("")}function pT(t){return h(this,null,function*(){let e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function gT(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function mT(t){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=yield pT(t);return gT(e)})}function yr(t,n,e=!1){return h(this,null,function*(){let r=hT(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield uh(t,`${n}-code-verifier`,i);let o=yield mT(r);return[o,r===o?"plain":"s256"]})}var vT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x_(t){let n=t.headers.get(Qo);if(!n||!n.match(vT))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}var ts=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function G(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Gl=class extends ts{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function T_(t){return G(t)&&t.name==="AuthApiError"}var Mi=class extends ts{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},vn=class extends ts{constructor(n,e,r,i){super(n,r,i),this.name=e,this.status=r}},Ct=class extends vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function M_(t){return G(t)&&t.name==="AuthSessionMissingError"}var Ai=class extends vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},_r=class extends vn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},wr=class extends vn{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function A_(t){return G(t)&&t.name==="AuthImplicitGrantRedirectError"}var ns=class extends vn{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ni=class extends vn{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};function zl(t){return G(t)&&t.name==="AuthRetryableFetchError"}var rs=class extends vn{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var yT=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},Sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_T=[502,503,504];function N_(t){return h(this,null,function*(){var n;if(!E_(t))throw new Ni(Sr(t),0);if(_T.includes(t.status))throw new Ni(Sr(t),t.status);let e;try{e=yield t.json()}catch(o){throw new Mi(Sr(o),o)}let r,i=x_(t);if(i&&i.getTime()>=ch["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new rs(Sr(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Ct}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new rs(Sr(e),t.status,e.weak_password.reasons);throw new Gl(Sr(e),t.status||500,r)})}var wT=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function Q(t,n,e,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Qo]||(o[Qo]=ch["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield ST(t,n,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function ST(t,n,e,r,i,o){return h(this,null,function*(){let s=wT(n,r,i,o),a;try{a=yield t(e,Object.assign({},s))}catch(l){throw console.error(l),new Ni(Sr(l),0)}if(a.ok||(yield N_(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield N_(l)}})}function yn(t){var n;let e=null;CT(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=S_(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function fh(t){let n=yn(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function Zt(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function k_(t){return{data:t,error:null}}function R_(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=t,s=yT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function O_(t){return t}function CT(t){return t.access_token&&t.refresh_token&&t.expires_in}var DT=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},ki=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=Hl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,e="global"){return h(this,null,function*(){try{return yield Q(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return h(this,arguments,function*(n,e={}){try{return yield Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Zt})}catch(i){if(G(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return h(this,null,function*(){try{let{options:e}=n,r=DT(n,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:R_,redirectTo:e?.redirectTo})}catch(e){if(G(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(n){return h(this,null,function*(){try{return yield Q(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Zt})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}})}listUsers(n){return h(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:O_});if(u.error)throw u.error;let d=yield u.json(),y=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(f=>{let C=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(f.split(";")[1].split("=")[1]);c[`${M}Page`]=C}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(G(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return h(this,null,function*(){try{return yield Q(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Zt})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}})}updateUserById(n,e){return h(this,null,function*(){try{return yield Q(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:Zt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,e=!1){return h(this,null,function*(){try{return yield Q(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:Zt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return h(this,null,function*(){try{let{data:e,error:r}=yield Q(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(G(e))return{data:null,error:e};throw e}})}_deleteFactor(n){return h(this,null,function*(){try{return{data:yield Q(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if(G(e))return{data:null,error:e};throw e}})}};var P_={getItem:t=>Un()?globalThis.localStorage.getItem(t):null,setItem:(t,n)=>{Un()&&globalThis.localStorage.setItem(t,n)},removeItem:t=>{Un()&&globalThis.localStorage.removeItem(t)}};function hh(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}function F_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Cr={debug:!!(globalThis&&Un()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},is=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},ql=class extends is{};function ph(t,n,e){return h(this,null,function*(){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(this,null,function*(){if(i){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield e()}finally{Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ql(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Cr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}F_();var ET={url:y_,storageKey:__,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},os=30*1e3,L_=3;function V_(t,n,e){return h(this,null,function*(){return yield e()})}var gh=(()=>{class t{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},ET),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ki({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Hl(o.fetch),this.lock=o.lock||V_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Pt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ph:this.lock=V_,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Un()?this.storage=P_:(this.memoryStorage={},this.storage=hh(this.memoryStorage)):(this.memoryStorage={},this.storage=hh(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ul}) ${new Date().toISOString()}`,...e),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var e;try{let r=D_(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Pt()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),A_(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?{error:r}:{error:new Mi("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return h(this,null,function*(){var r,i,o;try{let s=yield Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:yn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return h(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:y,options:g}=e,f=null,C=null;this.flowType==="pkce"&&([f,C]=yield yr(this.storage,this.storageKey)),s=yield Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:d,password:y,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:f,code_challenge_method:C},xform:yn})}else if("phone"in e){let{phone:d,password:y,options:g}=e;s=yield Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:y,data:(i=g?.data)!==null&&i!==void 0?i:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:yn})}else throw new _r("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return h(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:fh})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:fh})}else throw new _r("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Ai}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return h(this,null,function*(){let r=yield Xo(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:yn});if(yield es(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ai}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(G(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:yn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ai}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield yr(this.storage,this.storageKey));let{error:y}=yield Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:d}=yield Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new _r("You must provide either an email or phone number.")}catch(l){if(G(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return h(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:yn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return h(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield yr(this.storage,this.storageKey)),yield Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:k_})}catch(s){if(G(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Ct;let{error:o}=yield Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if(G(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield Q(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new _r("You must provide either an email or phone number and a type")}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(e,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield Xo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return h(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return h(this,null,function*(){try{return e?yield Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zt}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:yield Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Zt})}))}catch(r){if(G(r))return M_(r)&&(yield this._removeSession(),yield es(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return h(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return h(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Ct;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield yr(this.storage,this.storageKey));let{data:d,error:y}=yield Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Zt});if(y)throw y;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(G(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(e){return dh(e)}setSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return h(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new Ct;let r=Date.now()/1e3,i=r,o=!0,s=null,a=dh(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(G(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Ct;let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return h(this,null,function*(){try{if(!Pt())throw new wr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ns("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ns("No code detected.");let{data:ae,error:ce}=yield this._exchangeCodeForSession(e.code);if(ce)throw ce;let Ce=new URL(window.location.href);return Ce.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Ce.toString()),{data:{session:ae.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new wr("No session defined in URL");let d=Math.round(Date.now()/1e3),y=parseInt(l),g=d+y;c&&(g=parseInt(c));let f=g-d;f*1e3<=os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${y}s`);let C=g-y;d-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,g,d):d-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,g,d);let{data:M,error:P}=yield this._getUser(s);if(P)throw P;let se={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:y,expires_at:g,refresh_token:a,token_type:u,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:se,redirectType:e.type},error:null}}catch(i){if(G(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return h(this,null,function*(){let r=yield Xo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return h(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return h(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(T_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield es(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=C_(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield yr(this.storage,this.storageKey,!0));try{return yield Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(G(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}})}linkIdentity(e){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,d;let{data:y,error:g}=s;if(g)throw g;let f=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield Q(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=y.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Pt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(G(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(G(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return h(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield I_(o=>h(this,null,function*(){return o>0&&(yield b_(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yn})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&zl(s)&&Date.now()+a-i<os})}catch(i){if(this._debug(r,"error",i),G(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Pt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield Xo(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<o+lh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${lh}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),zl(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return h(this,null,function*(){var r,i;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Jo;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ct;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),G(s)){let a={session:null,error:s};return zl(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return h(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield uh(this.storage,this.storageKey,e)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield es(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),os);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${os}ms, refresh threshold is ${L_} ticks`),o<=L_&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof is)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return h(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield yr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(G(r))return{data:null,error:r};throw r}})}_enroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=yield Q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(G(r))return{data:null,error:r};throw r}})}_verify(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(G(r))return{data:null,error:r};throw r}}))})}_challenge(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(G(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(e=>h(this,null,function*(){var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var bT=gh,mh=bT;var Wl=class extends mh{constructor(n){super(n)}};var IT=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Yl=class{constructor(n,e,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=e,!n)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=m_(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:f_,realtime:p_,auth:Object.assign(Object.assign({},h_),{storageKey:l}),global:d_},u=v_(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=g_(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Jy(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Vo(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zo(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,e;return IT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){var d;let y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wl({url:this.authUrl,headers:Object.assign(Object.assign({},y),c),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(n){return new Wo(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var j_=(t,n,e)=>new Yl(t,n,e);var vh={production:!1,supabaseUrl:"https://nrapqjwyqvwopwoxevlw.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yYXBxand5cXZ3b3B3b3hldmx3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA4MDU2MzQsImV4cCI6MjA0NjM4MTYzNH0.hq-X6YEAD7DG9WIiJhqwRb3ZtMruaEzAbr0Wm4TBoQU"};var _e=class t{supabase;constructor(){this.supabase=j_(vh.supabaseUrl,vh.supabaseKey,{auth:{persistSession:!0}})}get client(){return this.supabase}static \u0275fac=function(e){return new(e||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var Qt=class t{constructor(n){this.supabase=n;this.initSession(),this.supabase.client.auth.onAuthStateChange((e,r)=>{this._session=r,this._user=r?.user??null})}_user=null;_session=null;initSession(){return h(this,null,function*(){let{data:n,error:e}=yield this.supabase.client.auth.getSession();!e&&n.session&&(this._session=n.session,this._user=n.session.user)})}signUp(n,e){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.client.auth.signUp({email:n,password:e});if(i)throw i;return r})}signIn(n,e){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.client.auth.signInWithPassword({email:n,password:e});if(i)throw i;return r})}signOut(){return h(this,null,function*(){let{error:n}=yield this.supabase.client.auth.signOut();if(n)throw n})}get session(){return this._session}get user(){return this._user}isLoggedIn(){return!!this._user}static \u0275fac=function(e){return new(e||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};function xT(t,n){if(t&1){let e=pe();Ln(0),p(1,"nav")(2,"a",1)(3,"b"),_(4,"PANOU ADMINISTRARE"),m()(),p(5,"a",2),_(6,"Toate Rug\u0103ciunile"),m(),p(7,"a",3),_(8,"Tipuri de Rug\u0103ciuni"),m(),p(9,"a",4),_(10,"Sec\u021Biuni"),m(),p(11,"a",5),_(12,"Texte"),m(),p(13,"div",6)(14,"span"),_(15),m(),p(16,"button",7),A("click",function(){x(e);let i=S();return T(i.onLogout())}),_(17,"Delogare"),m()()(),de(18,"hr"),Vn()}if(t&2){let e=S();w(15),jn(e.auth.user==null?null:e.auth.user.email)}}var Zl=class t{constructor(n,e){this.auth=n;this.router=e}title="my-prayer-admin";onLogout(){return h(this,null,function*(){try{yield this.auth.signOut(),this.router.navigate(["/login"])}catch(n){console.error("Error logging out:",n)}})}static \u0275fac=function(e){return new(e||t)(b(Qt),b($e))};static \u0275cmp=ye({type:t,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"],[2,"display","inline","color","black"],["routerLink","/prayers"],["routerLink","/prayerTypes"],["routerLink","/sections"],["routerLink","/liturgicalTexts"],[2,"display","flex","float","right","width","min-content","gap","1rem"],[3,"click"]],template:function(e,r){e&1&&(H(0,xT,19,1,"ng-container",0),de(1,"router-outlet")),e&2&&N("ngIf",r.auth.isLoggedIn())},dependencies:[Se,yt,jf,wt],styles:["nav[_ngcontent-%COMP%]{margin:1rem}a[_ngcontent-%COMP%]{margin-right:1rem;text-decoration:none;color:#790822}"]})};var Y_=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(b(Xe),b(Ke))};static \u0275dir=he({type:t})}return t})(),rc=(()=>{class t extends Y_{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Gt(t)))(i||t)}})();static \u0275dir=he({type:t,features:[Nt]})}return t})(),Dr=new O("");var TT={provide:Dr,useExisting:Mt(()=>Me),multi:!0};function MT(){let t=fn()?fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var AT=new O(""),Me=(()=>{class t extends Y_{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!MT())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(b(Xe),b(Ke),b(AT,8))};static \u0275dir=he({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[zt([TT]),Nt]})}return t})();var Z_=new O(""),K_=new O("");function Q_(t){return t!=null}function J_(t){return lr(t)?ge(t):t}function X_(t){let n={};return t.forEach(e=>{n=e!=null?E(E({},n),e):n}),Object.keys(n).length===0?null:n}function e0(t,n){return n.map(e=>e(t))}function NT(t){return!t.validate}function t0(t){return t.map(n=>NT(n)?n:e=>n.validate(e))}function kT(t){if(!t)return null;let n=t.filter(Q_);return n.length==0?null:function(e){return X_(e0(e,n))}}function wh(t){return t!=null?kT(t0(t)):null}function RT(t){if(!t)return null;let n=t.filter(Q_);return n.length==0?null:function(e){let r=e0(e,n).map(J_);return Uc(r).pipe(Z(X_))}}function Sh(t){return t!=null?RT(t0(t)):null}function $_(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function OT(t){return t._rawValidators}function PT(t){return t._rawAsyncValidators}function _h(t){return t?Array.isArray(t)?t:[t]:[]}function Ql(t,n){return Array.isArray(t)?t.includes(n):t===n}function B_(t,n){let e=_h(n);return _h(t).forEach(i=>{Ql(e,i)||e.push(i)}),e}function U_(t,n){return _h(n).filter(e=>!Ql(t,e))}var Jl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=wh(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Sh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Pi=class extends Jl{name;get formDirective(){return null}get path(){return null}},ds=class extends Jl{_parent=null;name=null;valueAccessor=null},Xl=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},FT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Sj=Y(E({},FT),{"[class.ng-submitted]":"isSubmitted"}),Fe=(()=>{class t extends Xl{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(b(ds,2))};static \u0275dir=he({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&tl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Nt]})}return t})(),n0=(()=>{class t extends Xl{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(b(Pi,10))};static \u0275dir=he({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&tl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Nt]})}return t})();var ss="VALID",Kl="INVALID",Ri="PENDING",as="DISABLED",Fi=class{},ec=class extends Fi{value;source;constructor(n,e){super(),this.value=n,this.source=e}},cs=class extends Fi{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},us=class extends Fi{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},Oi=class extends Fi{status;source;constructor(n,e){super(),this.status=n,this.source=e}};function r0(t){return(ic(t)?t.validators:t)||null}function LT(t){return Array.isArray(t)?wh(t):t||null}function i0(t,n){return(ic(n)?n.asyncValidators:t)||null}function VT(t){return Array.isArray(t)?Sh(t):t||null}function ic(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function jT(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new R(1e3,"");if(!r[e])throw new R(1001,"")}function $T(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new R(1002,"")})}var tc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return un(this.statusReactive)}set status(n){un(()=>this.statusReactive.set(n))}_status=fo(()=>this.statusReactive());statusReactive=oi(void 0);get valid(){return this.status===ss}get invalid(){return this.status===Kl}get pending(){return this.status==Ri}get disabled(){return this.status===as}get enabled(){return this.status!==as}errors;get pristine(){return un(this.pristineReactive)}set pristine(n){un(()=>this.pristineReactive.set(n))}_pristine=fo(()=>this.pristineReactive());pristineReactive=oi(!0);get dirty(){return!this.pristine}get touched(){return un(this.touchedReactive)}set touched(n){un(()=>this.touchedReactive.set(n))}_touched=fo(()=>this.touchedReactive());touchedReactive=oi(!1);get untouched(){return!this.touched}_events=new ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(B_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(B_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(U_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(U_(n,this._rawAsyncValidators))}hasValidator(n){return Ql(this._rawValidators,n)}hasAsyncValidator(n){return Ql(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Y(E({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new us(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new us(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Y(E({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new cs(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new cs(!0,r))}markAsPending(n={}){this.status=Ri;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Oi(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Y(E({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=as,this.errors=null,this._forEachChild(i=>{i.disable(Y(E({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ec(this.value,r)),this._events.next(new Oi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(E({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ss,this._forEachChild(r=>{r.enable(Y(E({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Y(E({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ss||this.status===Ri)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ec(this.value,e)),this._events.next(new Oi(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Y(E({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?as:ss}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Ri,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=J_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Oi(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?as:this.errors?Kl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ri)?Ri:this._anyControlsHaveStatus(Kl)?Kl:ss}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new cs(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new us(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ic(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=LT(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=VT(this._rawAsyncValidators)}},nc=class extends tc{constructor(n,e,r){super(r0(e),i0(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){$T(this,!0,n),Object.keys(n).forEach(r=>{jT(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Ch=new O("CallSetDisabledState",{providedIn:"root",factory:()=>Dh}),Dh="always";function BT(t,n){return[...n.path,t]}function o0(t,n,e=Dh){s0(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),HT(t,n),zT(t,n),GT(t,n),UT(t,n)}function H_(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function UT(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function s0(t,n){let e=OT(t);n.validator!==null?t.setValidators($_(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=PT(t);n.asyncValidator!==null?t.setAsyncValidators($_(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();H_(n._rawValidators,i),H_(n._rawAsyncValidators,i)}function HT(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&a0(t,n)})}function GT(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&a0(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function a0(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zT(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function qT(t,n){t==null,s0(t,n)}function WT(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function YT(t){return Object.getPrototypeOf(t.constructor)===rc}function ZT(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function KT(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===Me?e=o:YT(o)?r=o:i=o}),i||r||e||null}var QT={provide:Pi,useExisting:Mt(()=>Eh)},ls=Promise.resolve(),Eh=(()=>{class t extends Pi{callSetDisabledState;get submitted(){return un(this.submittedReactive)}_submitted=fo(()=>this.submittedReactive());submittedReactive=oi(!1);_directives=new Set;form;ngSubmit=new ve;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new nc({},wh(e),Sh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ls.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),o0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ls.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ls.then(()=>{let r=this._findContainer(e.path),i=new nc({});qT(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ls.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){ls.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),ZT(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(b(Z_,10),b(K_,10),b(Ch,8))};static \u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&A("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[zt([QT]),Nt]})}return t})();function G_(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function z_(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var JT=class extends tc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(r0(e),i0(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ic(e)&&(e.nonNullable||e.initialValueIsDefault)&&(z_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){G_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){G_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){z_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var XT={provide:ds,useExisting:Mt(()=>Re)},q_=Promise.resolve(),Re=(()=>{class t extends ds{_changeDetectorRef;callSetDisabledState;control=new JT;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ve;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=KT(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),WT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){o0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){q_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&ur(r);q_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?BT(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(b(Pi,9),b(Z_,10),b(K_,10),b(Dr,10),b(cr,8),b(Ch,8))};static \u0275dir=he({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[zt([XT]),Nt,ir]})}return t})(),l0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),eM={provide:Dr,useExisting:Mt(()=>fs),multi:!0},fs=(()=>{class t extends rc{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Gt(t)))(i||t)}})();static \u0275dir=he({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[zt([eM]),Nt]})}return t})();var tM={provide:Dr,useExisting:Mt(()=>Li),multi:!0};function c0(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function nM(t){return t.split(":")[0]}var Li=(()=>{class t extends rc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=c0(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=nM(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Gt(t)))(i||t)}})();static \u0275dir=he({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[zt([tM]),Nt]})}return t})(),oc=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(c0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(b(Ke),b(Xe),b(Li,9))};static \u0275dir=he({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),rM={provide:Dr,useExisting:Mt(()=>u0),multi:!0};function W_(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function iM(t){return t.split(":")[0]}var u0=(()=>{class t extends rc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=iM(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Gt(t)))(i||t)}})();static \u0275dir=he({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[zt([rM]),Nt]})}return t})(),sc=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(W_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(W_(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(b(Ke),b(Xe),b(u0,9))};static \u0275dir=he({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var oM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fn({type:t});static \u0275inj=On({})}return t})();var Le=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ch,useValue:e.callSetDisabledState??Dh}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fn({type:t});static \u0275inj=On({imports:[oM]})}return t})();var Ae=class{constructor(n){this.supabase=n}get client(){return this.supabase.client}getAll(){return h(this,null,function*(){let{data:n,error:e}=yield this.client.from(this.tableName).select("*").order("created_at",{ascending:!0});if(e)throw e;return n??[]})}getById(n){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*").eq("id",n).single();if(r)throw r;return e})}create(n){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).insert([n]).select().single();if(r)throw r;return e})}update(n,e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).update(e).eq("id",n).select().single();if(i)throw i;return r})}delete(n){return h(this,null,function*(){let{error:e}=yield this.client.from(this.tableName).delete().eq("id",n);if(e)throw e})}};var Vi=class t extends Ae{constructor(e){super(e);this.supabase=e}tableName="prayers";getAll(){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*").order("prayer_type_id",{ascending:!0}).order("sequence",{ascending:!0});if(r)throw r;return e??[]})}getById(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).select("*, sections: prayers_sections(*, section: sections(*)), date_groups: prayer_date_group(*, date_group(*))").order("sequence",{foreignTable:"prayers_sections"}).eq("id",e).single();if(i)throw i;return r})}getParyerWithSectionsRecursively(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.rpc("get_prayer_with_sections_recursive",{request_prayer_id:e});if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var Jt=class t extends Ae{constructor(e){super(e);this.supabase=e}tableName="prayer_type";getAll(){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*");if(r)throw r;return e??[]})}getTree(){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.client.rpc("get_prayer_types");if(r)throw console.error("Error calling get_prayer_types:",r),r;return e})}static \u0275fac=function(r){return new(r||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var sM=t=>["/prayers",t];function aM(t,n){if(t&1&&(p(0,"li")(1,"a",6),_(2),m()()),t&2){let e=n.$implicit;w(),N("routerLink",kt(3,sM,e.id)),w(),Ge("",e.title," ",e.subtitle!=null&&e.subtitle.length?"- "+e.subtitle:"","")}}var lc=class t{constructor(n,e){this.prayersService=n;this.prayerTypesService=e}prayerTypes=[];prayers=[];newPrayer=null;ngOnInit(){return h(this,null,function*(){this.newPrayer={title:"",subtitle:"",sequence:1},this.prayers=yield this.prayersService.getAll(),this.prayerTypes=yield this.prayerTypesService.getAll()})}addPrayer(){let n=this.newPrayer?.title.trim();n&&this.prayersService.create({title:n}).then(e=>{this.newPrayer={title:"",subtitle:"",sequence:1},this.prayers.splice(0,0,e)}).catch(e=>{alert("Error creating prayer: "+e)})}static \u0275fac=function(e){return new(e||t)(b(Vi),b(Jt))};static \u0275cmp=ye({type:t,selectors:[["app-prayers-list"]],decls:17,vars:2,consts:[[2,"margin-bottom","1rem"],[2,"border-collapse","collapse"],["for","title"],["id","title","type","text","placeholder","Titlu rug\u0103ciune",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(p(0,"h2"),_(1,"Rug\u0103ciuni"),m(),p(2,"div",0)(3,"h3"),_(4,"Adaug\u0103 o rug\u0103ciune nou\u0103"),m(),p(5,"table",1)(6,"tr")(7,"td")(8,"label",2),_(9,"Titlu: "),m()(),p(10,"td")(11,"input",3),V("ngModelChange",function(o){return $(r.newPrayer.title,o)||(r.newPrayer.title=o),o}),m()()()(),p(12,"button",4),A("click",function(){return r.addPrayer()}),_(13,"Adaug\u0103"),m()(),de(14,"hr"),p(15,"ul"),H(16,aM,3,5,"li",5),m()),e&2&&(w(11),L("ngModel",r.newPrayer.title),w(5),N("ngForOf",r.prayers))},dependencies:[Se,qe,wt,Le,Me,Fe,Re],encapsulation:2})};var cc=class t extends Ae{constructor(e){super(e);this.supabase=e}tableName="prayers_sections";create(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).insert([e]).select("*, section: sections(*)").single();if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var Hn=class t extends Ae{constructor(e){super(e);this.supabase=e}tableName="sections";static \u0275fac=function(r){return new(r||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var uc=class t extends Ae{constructor(e){super(e);this.supabase=e}tableName="prayer_date_group";create(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).insert([e]).select("*, date_group(*, date_group_type(*))").single();if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var dc=class t extends Ae{constructor(e){super(e);this.supabase=e}tableName="date_group";getAll(){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*, date_group_type(*)").order("date_group_type_id",{ascending:!0});if(r)throw r;return e??[]})}static \u0275fac=function(r){return new(r||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var f0=t=>["/sections",t];function dM(t,n){if(t&1&&(p(0,"option",13),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),jn(e.type)}}function fM(t,n){t&1&&(p(0,"p"),_(1,"Nu sunt sec\u021Biuni ad\u0103ugate"),m())}function hM(t,n){if(t&1){let e=pe();p(0,"li")(1,"p")(2,"a",14),_(3),m(),p(4,"button",1),A("click",function(){let i=x(e).$implicit,o=S().$implicit,s=S(2);return T(s.deleteSection(i.id,o.id))}),p(5,"i",15),_(6,"delete"),m()()()()}if(t&2){let e=n.$implicit;w(2),N("routerLink",kt(3,f0,e.section==null?null:e.section.id)),w(),Ge("",e.section==null?null:e.section.title," - ",e.section==null?null:e.section.subtitle,"")}}function pM(t,n){if(t&1&&(p(0,"option",13),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),jn(e.title)}}function gM(t,n){if(t&1){let e=pe();p(0,"li")(1,"label",16),_(2,"Sec\u021Biune existent\u0103:"),m(),p(3,"select",4),V("ngModelChange",function(i){x(e);let o=S(3);return $(o.newPrayerSection.section_id,i)||(o.newPrayerSection.section_id=i),T(i)}),p(4,"option",17),_(5,"-- Alege\u021Bi --"),m(),H(6,pM,2,2,"option",6),m(),p(7,"button",1),A("click",function(){x(e);let i=S().$implicit,o=S(2);return T(o.addPrayerSection(i.id))}),p(8,"i",15),_(9,"save"),m()(),p(10,"button",1),A("click",function(){x(e);let i=S(3);return T(i.hideNewSubsectionForm())}),p(11,"i",15),_(12,"delete"),m()()()}if(t&2){let e=S(3);w(3),L("ngModel",e.newPrayerSection.section_id),w(3),N("ngForOf",e.sections)}}function mM(t,n){if(t&1){let e=pe();p(0,"li")(1,"label",16),_(2,"Titlu sec\u021Biune nou\u0103:"),m(),p(3,"input",9),V("ngModelChange",function(i){x(e);let o=S(3);return $(o.newSectionTitle,i)||(o.newSectionTitle=i),T(i)}),m(),p(4,"button",1),A("click",function(){x(e);let i=S().$implicit,o=S(2);return T(o.addNewPrayerSection(i.id))}),p(5,"i",15),_(6,"save"),m()(),p(7,"button",1),A("click",function(){x(e);let i=S(3);return T(i.hideNewSubsectionForm())}),p(8,"i",15),_(9,"delete"),m()()()}if(t&2){let e=S(3);w(3),L("ngModel",e.newSectionTitle)}}function vM(t,n){if(t&1){let e=pe();p(0,"li")(1,"p")(2,"a",14),_(3),m(),p(4,"button",1),A("click",function(){let i=x(e).$implicit,o=S(2);return T(o.deleteSection(i.id))}),p(5,"i",15),_(6,"delete"),m()(),p(7,"button",1),A("click",function(){let i=x(e).$implicit,o=S(2);return T(o.displayNewSubsectionForm(i.id))}),p(8,"i",15),_(9,"add"),m()()(),p(10,"ul"),H(11,hM,7,5,"li",7)(12,gM,13,2,"li",0)(13,mM,10,1,"li",0),m()()}if(t&2){let e=n.$implicit,r=S(2);w(2),N("routerLink",kt(6,f0,e.section==null?null:e.section.id)),w(),Ge("",e.section==null?null:e.section.title," ",!(e.section==null||e.section.subtitle==null)&&e.section.subtitle.length?"-"+(e.section==null?null:e.section.subtitle):"",""),w(8),N("ngForOf",e.subsections),w(),N("ngIf",(r.newPrayerSection==null?null:r.newPrayerSection.parent_id)===e.id),w(),N("ngIf",(r.newPrayerSection==null?null:r.newPrayerSection.parent_id)===e.id)}}function yM(t,n){if(t&1&&(p(0,"option",13),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),Ge("",e.title," ",e.subtitle!=null&&e.subtitle.length?"- "+e.subtitle:"","")}}function _M(t,n){t&1&&(p(0,"p"),_(1,"Nu sunt grupe de dat\u0103 ad\u0103ugate"),m())}function wM(t,n){if(t&1){let e=pe();p(0,"li")(1,"p"),_(2),p(3,"button",1),A("click",function(){let i=x(e).$implicit,o=S(2);return T(o.deletePrayerDateGroup(i.id))}),p(4,"i",15),_(5,"delete"),m()()()()}if(t&2){let e=n.$implicit;w(2),Ge(" ",e.date_group==null||e.date_group.date_group_type==null?null:e.date_group.date_group_type.name," - ",e.date_group==null?null:e.date_group.title," ")}}function SM(t,n){if(t&1&&(p(0,"option",13),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),Ge("",e.date_group_type==null?null:e.date_group_type.name," - ",e.title,"")}}function CM(t,n){if(t&1){let e=pe();p(0,"div")(1,"div")(2,"h2")(3,"button",1),A("click",function(){x(e);let i=S();return T(i.goBack())}),p(4,"i",2),_(5,"arrow_back"),m()(),_(6),p(7,"button",1),A("click",function(){x(e);let i=S();return T(i.deletePrayer())}),p(8,"i",2),_(9,"delete"),m()()(),p(10,"h3"),_(11,"Detalii rug\u0103ciune"),m(),p(12,"table",3)(13,"tr")(14,"td"),_(15,"Titlu:"),m(),p(16,"td")(17,"input",4),V("ngModelChange",function(i){x(e);let o=S();return $(o.prayer.title,i)||(o.prayer.title=i),T(i)}),m()()(),p(18,"tr")(19,"td"),_(20,"Subtitlu:"),m(),p(21,"td")(22,"input",4),V("ngModelChange",function(i){x(e);let o=S();return $(o.prayer.subtitle,i)||(o.prayer.subtitle=i),T(i)}),m()()(),p(23,"tr")(24,"td"),_(25,"Ordine:"),m(),p(26,"td")(27,"input",5),V("ngModelChange",function(i){x(e);let o=S();return $(o.prayer.sequence,i)||(o.prayer.sequence=i),T(i)}),m()()(),p(28,"tr")(29,"td"),_(30,"Tip:"),m(),p(31,"td")(32,"select",4),V("ngModelChange",function(i){x(e);let o=S();return $(o.prayer.prayer_type_id,i)||(o.prayer.prayer_type_id=i),T(i)}),H(33,dM,2,2,"option",6),m()()()(),p(34,"button",1),A("click",function(){x(e);let i=S();return T(i.updatePrayer())}),_(35,"Salveaz\u0103"),m()(),de(36,"hr"),p(37,"div")(38,"h3"),_(39,"Sec\u021Biuni"),m(),H(40,fM,2,0,"p",0),p(41,"ul"),H(42,vM,14,8,"li",7),m(),de(43,"hr"),p(44,"h4"),_(45,"Adaug\u0103 o sec\u021Biune existent\u0103"),m(),p(46,"select",4),V("ngModelChange",function(i){x(e);let o=S();return $(o.newPrayerSection.section_id,i)||(o.newPrayerSection.section_id=i),T(i)}),p(47,"option",8),_(48,"-- Alege\u021Bi --"),m(),H(49,yM,2,3,"option",6),m(),p(50,"button",1),A("click",function(){x(e);let i=S();return T(i.addPrayerSection())}),_(51,"Adaug\u0103"),m(),p(52,"h4"),_(53,"Creeaza \u0219i adaug\u0103 o sec\u021Biune nou\u0103"),m(),p(54,"input",9),V("ngModelChange",function(i){x(e);let o=S();return $(o.newSectionTitle,i)||(o.newSectionTitle=i),T(i)}),m(),p(55,"button",1),A("click",function(){x(e);let i=S();return T(i.addNewPrayerSection())}),_(56,"Adaug\u0103"),m()(),de(57,"hr"),p(58,"div")(59,"h3"),_(60,"Grupe de dat\u0103"),m(),H(61,_M,2,0,"p",0),p(62,"ul"),H(63,wM,6,2,"li",7),m(),p(64,"h4"),_(65,"Adaug\u0103 o nou\u0103 grup\u0103 de dat\u0103"),m(),p(66,"label",10),_(67,"Grup\u0103 de dat\u0103: "),m(),p(68,"select",11),V("ngModelChange",function(i){x(e);let o=S();return $(o.newPrayerDateGroup.date_group_id,i)||(o.newPrayerDateGroup.date_group_id=i),T(i)}),p(69,"option",12),_(70,"-- Alege\u021Bi --"),m(),H(71,SM,2,3,"option",6),m(),de(72,"br"),p(73,"button",1),A("click",function(){x(e);let i=S();return T(i.addPrayerDateGroup())}),_(74,"Adaug\u0103"),m()()()}if(t&2){let e=S();w(6),Oe("",e.prayer.title," "),w(11),L("ngModel",e.prayer.title),w(5),L("ngModel",e.prayer.subtitle),w(5),L("ngModel",e.prayer.sequence),w(5),L("ngModel",e.prayer.prayer_type_id),w(),N("ngForOf",e.prayerTypes),w(7),N("ngIf",!(!(e.prayer==null||e.prayer.sections==null)&&e.prayer.sections.length)),w(2),N("ngForOf",e.prayer==null?null:e.prayer.sections),w(4),L("ngModel",e.newPrayerSection.section_id),w(3),N("ngForOf",e.sections),w(5),L("ngModel",e.newSectionTitle),w(7),N("ngIf",!(!(e.prayer==null||e.prayer.date_groups==null)&&e.prayer.date_groups.length)),w(2),N("ngForOf",e.prayer==null?null:e.prayer.date_groups),w(5),L("ngModel",e.newPrayerDateGroup.date_group_id),w(3),N("ngForOf",e.dateGroups)}}var fc=class t{constructor(n,e,r,i,o,s,a){this.route=n;this.prayersService=e;this.prayerTypesService=r;this.prayerSectionService=i;this.sectionsService=o;this.prayerDateGroupService=s;this.dateGroupService=a}dateGroups=[];prayerTypes=[];sections=[];prayer=null;id;newPrayerSection=null;newSectionTitle="";newPrayerDateGroup=null;ngOnInit(){return h(this,null,function*(){this.id=this.route.snapshot.paramMap.get("id")||"",this.prayer=yield this.prayersService.getParyerWithSectionsRecursively(this.id),this.newPrayerSection={prayer_id:this.id,section_id:"",sequence:1},this.newPrayerDateGroup={prayer_id:this.id,date_group_id:0,sequence:1},yield this.getPrayerTypes(),yield this.getSections(),yield this.getDateGroups()})}getDateGroups(){return h(this,null,function*(){this.dateGroups=yield this.dateGroupService.getAll()})}getPrayerTypes(){return h(this,null,function*(){this.prayerTypes=yield this.prayerTypesService.getAll()})}getSections(){return h(this,null,function*(){this.sections=yield this.sectionsService.getAll()})}updatePrayer(){return h(this,null,function*(){if(!this.prayer)return;(yield this.prayersService.update(this.prayer.id,{title:this.prayer.title,subtitle:this.prayer.subtitle,sequence:this.prayer.sequence,prayer_type_id:this.prayer.prayer_type_id}))&&alert("Prayer updated successfully!")})}deletePrayer(){return h(this,null,function*(){if(this.prayer&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi aceast\u0103 rug\u0103ciune?"))try{yield this.prayersService.delete(this.prayer.id),location.href="/prayers"}catch(n){alert("Eroare la \u0219tergerea rug\u0103ciunii: "+n)}})}deleteSection(n,e=null){return h(this,null,function*(){if(this.prayer&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi aceast\u0103 sec\u021Biune?"))try{if(yield this.prayerSectionService.delete(n),e){let r=this.prayer.sections.find(i=>i.id===e);r&&(r.subsections=r.subsections?.filter(i=>i.id!==n)??[])}else this.prayer.sections=this.prayer.sections?.filter(r=>r.id!==n)??[]}catch(r){alert("Eroare la \u0219tergerea sec\u021Biunii: "+r)}})}displayNewSubsectionForm(n){this.newPrayerSection.parent_id=n}hideNewSubsectionForm(){this.newPrayerSection.parent_id=null,this.newPrayerSection.section_id=""}addPrayerSection(n=null){this.prayer&&(this.newPrayerSection=Y(E({},this.newPrayerSection),{parent_id:n,sequence:1}),this.prayerSectionService.create(this.newPrayerSection).then(e=>{if(this.newPrayerSection={prayer_id:this.id,section_id:"",sequence:1},n){let r=this.prayer.sections.find(i=>i.id===n);r&&r.subsections.push(e)}else this.prayer.sections.push(e)}).catch(e=>{alert("Error creating subsection: "+e)}))}addNewPrayerSection(n=null){this.newSectionTitle&&this.sectionsService.create({title:this.newSectionTitle,audio_url:""}).then(e=>{this.newPrayerSection={prayer_id:this.id,section_id:e.id,sequence:1},this.addPrayerSection(n),this.newSectionTitle=""}).catch(e=>{alert("Error creating section: "+e)})}goBack(){window.history.back()}goToSection(n){location.href=`/sections/${n}`}deletePrayerDateGroup(n){if(this.prayer&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi aceast\u0103 grup\u0103 de dat\u0103?"))try{this.prayerDateGroupService.delete(n),this.prayer.date_groups=this.prayer.date_groups?.filter(e=>e.id!==n)??[]}catch(e){alert("Eroare la \u0219tergerea datei: "+e)}}addPrayerDateGroup(){this.prayer&&this.prayerDateGroupService.create(this.newPrayerDateGroup).then(n=>{this.newPrayerDateGroup={prayer_id:this.id,date_group_id:0,sequence:1},this.prayer.date_groups.push(n)}).catch(n=>{alert("Error creating date group: "+n)})}static \u0275fac=function(e){return new(e||t)(b(et),b(Vi),b(Jt),b(cc),b(Hn),b(uc),b(dc))};static \u0275cmp=ye({type:t,selectors:[["app-prayer-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click"],[1,"material-icons",2,"font-size","16px"],[2,"border-collapse","collapse","background","transparent"],[3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["value",""],["placeholder","Titlu",3,"ngModelChange","ngModel"],["for","date_group"],["id","date_group",3,"ngModelChange","ngModel"],["value","0"],[3,"value"],[3,"routerLink"],[1,"material-icons",2,"font-size","12px"],["for","section"],["selected",""]],template:function(e,r){e&1&&H(0,CM,75,15,"div",0),e&2&&N("ngIf",r.prayer)},dependencies:[Se,qe,yt,Le,oc,sc,Me,fs,Li,Fe,Re,Ly,wt],styles:["h2[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};function DM(t,n){if(t&1){let e=pe();Ln(0),p(1,"p"),_(2),p(3,"button",3),A("click",function(){x(e);let i=S();return T(i.enableEdit())}),p(4,"i",4),_(5,"edit"),m()(),p(6,"button",3),A("click",function(){x(e);let i=S();return T(i.addSubtype())}),p(7,"i",4),_(8,"add"),m()(),p(9,"button",3),A("click",function(){x(e);let i=S();return T(i.deleteType())}),p(10,"i",4),_(11,"delete"),m()()(),Vn()}if(t&2){let e=S();w(2),Oe(" ",e.node.type," ")}}function EM(t,n){if(t&1){let e=pe();p(0,"input",5),V("ngModelChange",function(i){x(e);let o=S();return $(o.tempName,i)||(o.tempName=i),T(i)}),m(),p(1,"button",3),A("click",function(){x(e);let i=S();return T(i.saveEdit())}),p(2,"i",4),_(3,"save"),m()(),p(4,"button",3),A("click",function(){x(e);let i=S();return T(i.cancelEdit())}),p(5,"i",4),_(6,"cancel"),m()()}if(t&2){let e=S();L("ngModel",e.tempName)}}function bM(t,n){if(t&1){let e=pe();p(0,"li")(1,"app-prayer-type-subitem",7),A("refreshNeeded",function(){x(e);let i=S(2);return T(i.onChildRefreshNeeded())}),m()()}if(t&2){let e=n.$implicit;w(),N("node",e)}}function IM(t,n){if(t&1&&(p(0,"ul"),H(1,bM,2,1,"li",6),m()),t&2){let e=S();w(),N("ngForOf",e.node.subtypes)}}var hc=class t{constructor(n){this.prayerTypeService=n}node;refreshNeeded=new ve;isEditing=!1;tempName="";enableEdit(){this.isEditing=!0,this.tempName=this.node.type}cancelEdit(){this.isEditing=!1,this.tempName=""}saveEdit(){return h(this,null,function*(){let n=this.tempName.trim();if(!n){alert("Name cannot be empty");return}try{yield this.prayerTypeService.update(this.node.id,{type:n}),this.node.type=n,this.isEditing=!1,this.refreshNeeded.emit()}catch(e){console.error("Error updating prayer type:",e)}})}addSubtype(){return h(this,null,function*(){let n=prompt("Enter subtype name:");if(n)try{yield this.prayerTypeService.create({type:n,parent_type_id:this.node.id,sequence:1}),this.refreshNeeded.emit()}catch(e){console.error("Error creating subtype:",e)}})}deleteType(){return h(this,null,function*(){if(confirm(`Are you sure you want to delete "${this.node.type}"?`))try{yield this.prayerTypeService.delete(this.node.id),this.refreshNeeded.emit()}catch(n){console.error("Error deleting prayer type:",n)}})}onChildRefreshNeeded(){this.refreshNeeded.emit()}static \u0275fac=function(e){return new(e||t)(b(Jt))};static \u0275cmp=ye({type:t,selectors:[["app-prayer-type-subitem"]],inputs:{node:"node"},outputs:{refreshNeeded:"refreshNeeded"},decls:4,vars:3,consts:[["editMode",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"click"],[1,"material-icons",2,"font-size","14px"],[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"refreshNeeded","node"]],template:function(e,r){if(e&1&&H(0,DM,12,1,"ng-container",1)(1,EM,7,1,"ng-template",null,0,vv)(3,IM,2,1,"ul",2),e&2){let i=fv(2);N("ngIf",!r.isEditing)("ngIfElse",i),w(3),N("ngIf",r.node.subtypes==null?null:r.node.subtypes.length)}},dependencies:[t,Se,qe,yt,Le,Me,Fe,Re],encapsulation:2})};function xM(t,n){if(t&1){let e=pe();p(0,"li")(1,"app-prayer-type-subitem",4),A("refreshNeeded",function(){x(e);let i=S();return T(i.onRefreshNeeded())}),m()()}if(t&2){let e=n.$implicit;w(),N("node",e)}}var pc=class t{constructor(n){this.prayerTypeService=n}prayerTypes=[];newRootTypeName="";ngOnInit(){return h(this,null,function*(){yield this.loadData()})}loadData(){return h(this,null,function*(){try{this.prayerTypes=yield this.prayerTypeService.getTree()}catch(n){console.error("Error loading prayer types:",n)}})}addRootType(){return h(this,null,function*(){let n=this.newRootTypeName.trim();if(n)try{yield this.prayerTypeService.create({type:n,parent_type_id:null,sequence:1}),this.newRootTypeName="",yield this.loadData()}catch(e){console.error("Error creating root type:",e)}})}onRefreshNeeded(){return h(this,null,function*(){yield this.loadData()})}static \u0275fac=function(e){return new(e||t)(b(Jt))};static \u0275cmp=ye({type:t,selectors:[["app-prayer-types-list"]],decls:10,vars:2,consts:[[2,"margin-bottom","1rem"],["type","text","placeholder","Nou tip de rug\u0103ciune",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"],[3,"refreshNeeded","node"]],template:function(e,r){e&1&&(p(0,"h2"),_(1,"Tipuri de rug\u0103ciuni"),m(),p(2,"div",0)(3,"h3"),_(4,"Adaug\u0103 un tip nou de rug\u0103ciune"),m(),p(5,"input",1),V("ngModelChange",function(o){return $(r.newRootTypeName,o)||(r.newRootTypeName=o),o}),m(),p(6,"button",2),A("click",function(){return r.addRootType()}),_(7,"Adaug\u0103"),m()(),p(8,"ul"),H(9,xM,2,1,"li",3),m()),e&2&&(w(5),L("ngModel",r.newRootTypeName),w(4),N("ngForOf",r.prayerTypes))},dependencies:[Se,qe,Le,Me,Fe,Re,hc],encapsulation:2})};var Ft=class t{constructor(n,e){this.auth=n;this.router=e}canActivate(){return this.auth.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||t)(k(Qt),k($e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};function TM(t,n){if(t&1&&(p(0,"div",8),_(1),m()),t&2){let e=S();w(),Oe(" ",e.errorMsg," ")}}var gc=class t{constructor(n,e){this.authService=n;this.router=e}email="";password="";errorMsg="";ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/prayer-types"])}onLogin(){return h(this,null,function*(){this.errorMsg="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/prayers"])}catch(n){this.errorMsg=n.message||"Login failed",console.error("Login error:",n)}})}static \u0275fac=function(e){return new(e||t)(b(Qt),b($e))};static \u0275cmp=ye({type:t,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"container"],[1,"login-container"],["style","color:red;",4,"ngIf"],[1,"form-container",3,"ngSubmit"],[1,"input-container"],["name","email","type","email",3,"ngModelChange","ngModel"],["name","password","type","password",3,"ngModelChange","ngModel"],["type","submit"],[2,"color","red"]],template:function(e,r){e&1&&(p(0,"div",0)(1,"div",1)(2,"h2"),_(3,"Admin Login"),m(),H(4,TM,2,1,"div",2),p(5,"form",3),A("ngSubmit",function(){return r.onLogin()}),p(6,"div",4)(7,"label"),_(8,"Email:"),m(),p(9,"input",5),V("ngModelChange",function(o){return $(r.email,o)||(r.email=o),o}),m()(),p(10,"div",4),_(11,"` "),p(12,"label"),_(13,"Password:"),m(),p(14,"input",6),V("ngModelChange",function(o){return $(r.password,o)||(r.password=o),o}),m()(),p(15,"button",7),_(16,"Login"),m()()()()),e&2&&(w(4),N("ngIf",r.errorMsg),w(5),L("ngModel",r.email),w(5),L("ngModel",r.password))},dependencies:[Se,yt,Le,l0,Me,Fe,n0,Re,Eh],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100vw;height:100vh}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;border:1px solid black;padding:1rem;height:min-content;border-radius:5px;gap:.5rem}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border-radius:5px;border:1px solid black}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem;border-radius:5px;border:1px solid black;cursor:pointer;margin-top:1rem}"]})};var ji=class t{constructor(n,e){this.el=n;this.renderer=e;this.renderer.setAttribute(this.el.nativeElement,"placeholder","mm:ss")}_value=0;onChange=()=>{};onTouched=()=>{};onBlur(n){this._value=this.parseValue(n),this.onChange(this._value),this.onTouched();let e=this.formatValue(n);this.renderer.setProperty(this.el.nativeElement,"value",e)}writeValue(n){this._value=n||0;let e=this.formatValueFromSeconds(this._value);this.renderer.setProperty(this.el.nativeElement,"value",e)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}parseValue(n){let e=n.split(":"),r=parseInt(e[0]||"0",10),i=parseInt(e[1]||"0",10);return r*60+i}formatValue(n){let e=n.split(":"),r=parseInt(e[0]||"0",10),i=parseInt(e[1]||"0",10);return i>=60&&(r+=Math.floor(i/60),i=i%60),`${this.pad(r)}:${this.pad(i)}`}formatValueFromSeconds(n){let e=Math.floor(n/60),r=n%60;return`${this.pad(e)}:${this.pad(r)}`}pad(n){return n<10?"0"+n:n.toString()}static \u0275fac=function(e){return new(e||t)(b(Ke),b(Xe))};static \u0275dir=he({type:t,selectors:[["","timeInput",""]],hostBindings:function(e,r){e&1&&A("blur",function(o){return r.onBlur(o.target.value)})},features:[zt([{provide:Dr,useExisting:Mt(()=>t),multi:!0}])]})};var $i=class t{transform(n){let e=Math.floor(n/60),r=n%60;return`${e}:${r.toString().padStart(2,"0")}`}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Qa({name:"timeFormat",type:t,pure:!0})};var Gn=class t extends Ae{constructor(e){super(e);this.supabase=e}tableName="liturgical_texts";getById(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).select("*, texts: text_elements(*)").order("sequence",{foreignTable:"text_elements"}).eq("id",e).single();if(i)throw i;return r})}getAll(){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*").order("title",{ascending:!0});if(r)throw r;return e??[]})}static \u0275fac=function(r){return new(r||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var mc=class t extends Ae{constructor(e){super(e);this.supabase=e}tableName="text_elements";updateSequence(e,r){return h(this,null,function*(){return this.update(e,{sequence:r})})}static \u0275fac=function(r){return new(r||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};function AM(t,n){if(t&1){let e=pe();p(0,"div")(1,"h2")(2,"button",9),A("click",function(){x(e);let i=S();return T(i.goBack())}),p(3,"i",10),_(4,"arrow_back"),m()(),_(5),p(6,"button",9),A("click",function(){x(e);let i=S();return T(i.deleteText())}),p(7,"i",11),_(8,"delete"),m()()(),p(9,"p"),_(10," Schimb\u0103 titlul: "),p(11,"input",12),V("ngModelChange",function(i){x(e);let o=S();return $(o.text.title,i)||(o.text.title=i),T(i)}),m(),de(12,"br"),_(13," Durata audio: "),p(14,"input",13),V("ngModelChange",function(i){x(e);let o=S();return $(o.text.audio_time,i)||(o.text.audio_time=i),T(i)}),m(),de(15,"br"),p(16,"button",9),A("click",function(){x(e);let i=S();return T(i.saveTitle())}),_(17,"Salveaz\u0103"),m()()()}if(t&2){let e=S();w(5),Oe(" ",e.textTitle," "),w(6),L("ngModel",e.text.title),w(3),L("ngModel",e.text.audio_time)}}function NM(t,n){t&1&&(p(0,"p"),_(1,"Nu sunt texte ad\u0103ugate"),m())}function kM(t,n){if(t&1){let e=pe();p(0,"p")(1,"textarea",14),V("ngModelChange",function(i){x(e);let o=S(2);return $(o.editedTextElement.text,i)||(o.editedTextElement.text=i),T(i)}),m(),p(2,"label",7),_(3,"Timp \xEEnceput: "),m(),p(4,"input",15),V("ngModelChange",function(i){x(e);let o=S(2);return $(o.editedTextElement.start_time,i)||(o.editedTextElement.start_time=i),T(i)}),m(),p(5,"label",8),_(6,"Timp sf\xE2r\u0219it: "),m(),p(7,"input",15),V("ngModelChange",function(i){x(e);let o=S(2);return $(o.editedTextElement.end_time,i)||(o.editedTextElement.end_time=i),T(i)}),m(),p(8,"button",9),A("click",function(){x(e);let i=S().index,o=S();return T(o.editTextElement(i))}),p(9,"i",16),_(10,"save"),m()(),p(11,"button",9),A("click",function(){x(e);let i=S(2);return T(i.clearEditedTextElement())}),p(12,"i",16),_(13,"cancel"),m()()()}if(t&2){let e=S(2);w(),L("ngModel",e.editedTextElement.text),w(3),L("ngModel",e.editedTextElement.start_time),w(3),L("ngModel",e.editedTextElement.end_time)}}function RM(t,n){if(t&1&&(p(0,"span"),_(1),ai(2,"timeFormat"),ai(3,"timeFormat"),m()),t&2){let e,r=S(2).$implicit,i=S();w(),Ge("",li(2,2,r.start_time+((e=i.sectionStartTime)!==null&&e!==void 0?e:0))," \u2192 ",li(3,4,r.end_time+((e=i.sectionStartTime)!==null&&e!==void 0?e:0)),"")}}function OM(t,n){if(t&1){let e=pe();p(0,"p"),_(1),H(2,RM,4,6,"span",0),p(3,"span",17)(4,"button",18),A("click",function(){x(e);let i=S().index,o=S();return T(o.moveUp(i))}),_(5,"\u2191"),m(),p(6,"button",19),A("click",function(){x(e);let i=S().index,o=S();return T(o.moveDown(i))}),_(7,"\u2193"),m(),p(8,"button",9),A("click",function(){x(e);let i=S(),o=i.$implicit,s=i.index,a=S();return T(a.deleteTextElement(o.id,s))}),p(9,"i",16),_(10,"delete"),m()(),p(11,"button",9),A("click",function(){x(e);let i=S().$implicit,o=S();return T(o.setEditedTextElement(i))}),p(12,"i",16),_(13,"edit"),m()()()()}if(t&2){let e=S(),r=e.$implicit,i=e.index,o=S();w(),Oe(" ",r.text," "),w(),N("ngIf",r.start_time!=null&&r.end_time!=null),w(2),N("disabled",i===0),w(2),N("disabled",i===(o.text==null?null:o.text.texts.length)-1)}}function PM(t,n){if(t&1&&(p(0,"li"),H(1,kM,14,3,"p",0)(2,OM,14,4,"p",0),m()),t&2){let e=n.$implicit,r=S();w(),N("ngIf",(r.editedTextElement==null?null:r.editedTextElement.id)&&e.id==(r.editedTextElement==null?null:r.editedTextElement.id)),w(),N("ngIf",!(r.editedTextElement!=null&&r.editedTextElement.id)||e.id!=(r.editedTextElement==null?null:r.editedTextElement.id))}}var hs=class t{constructor(n,e,r){this.route=n;this.litTextService=e;this.textElementsService=r}textId;text=null;editedTitle="";newTextElement=null;editedTextElement=null;sectionStartTime=0;textTitle="";ngOnInit(){return h(this,null,function*(){this.textId=this.route.snapshot.paramMap.get("id")||"",this.sectionStartTime=parseInt(this.route.snapshot.paramMap.get("sectionStartTime")||"0"),this.newTextElement={text_id:this.textId},this.editedTextElement={},yield this.loadLiturgicalText()})}loadLiturgicalText(){return h(this,null,function*(){this.text=yield this.litTextService.getById(this.textId),this.textTitle=this.text?.title??"",this.newTextElement.start_time=this.text?.texts?.length?this.text.texts[this.text.texts.length-1].end_time:0})}loadTextElements(){return h(this,null,function*(){if(!this.text)return;let{data:n,error:e}=yield this.textElementsService.client.from("text_elements").select("*").eq("text_id",this.text.id).order("sequence");!e&&n&&(this.text.texts=n)})}saveTitle(){return h(this,null,function*(){if(this.text)try{(yield this.litTextService.update(this.text.id,{title:this.text.title??null,audio_time:this.text.audio_time}))&&(alert("Textul a fost salvat!"),this.textTitle=this.text.title??"")}catch(n){console.error("Error updating title:",n)}})}addTextElement(){return h(this,null,function*(){if(!this.textId)return;let n=this.newTextElement?.text.trim();if(n)try{let e=0;this.text?.texts&&this.text.texts.length>0&&(e=Math.max(...this.text.texts.map(r=>r.sequence))),yield this.textElementsService.create({text:n,sequence:e+1,text_id:this.textId,start_time:(this.newTextElement?.start_time??0)-(this.sectionStartTime??0),end_time:(this.newTextElement?.end_time??0)-(this.sectionStartTime??0)}),this.newTextElement={text_id:this.textId,start_time:this.newTextElement?.end_time,end_time:this.newTextElement?.end_time},yield this.loadTextElements()}catch(e){console.error("Error adding text element:",e)}})}goBack(){history.back()}deleteText(){return h(this,null,function*(){if(this.text&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi acest text? Nu \xEEl po\u021Bi recupera ulterior!"))try{yield this.litTextService.delete(this.text.id),location.href="/liturgicalTexts"}catch(n){console.error("Error deleting text:",n)}})}deleteTextElement(n,e){return h(this,null,function*(){if(confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi acest text? Nu \xEEl po\u021Bi recupera ulterior!"))try{yield this.textElementsService.delete(n),this.text?.texts?.splice(e,1),this.newTextElement.start_time=this.text?.texts?.length?(this.text.texts[this.text.texts.length-1].end_time??0)+(this.sectionStartTime??0):0,this.newTextElement.end_time=this.text?.texts?.length?(this.text.texts[this.text.texts.length-1].end_time??0)+(this.sectionStartTime??0):0}catch(r){console.error("Error deleting text element:",r)}})}setEditedTextElement(n){this.editedTextElement=E({},n)}clearEditedTextElement(){this.editedTextElement={}}editTextElement(n){return h(this,null,function*(){if(!(!this.editedTextElement?.id||!this.editedTextElement.text))try{yield this.textElementsService.update(this.editedTextElement.id,E({},this.editedTextElement)),this.text?.texts?.splice(n,1,E({},this.editedTextElement)),this.editedTextElement={}}catch(e){alert("A intervenit o eroare: "+e.message)}})}moveUp(n){return h(this,null,function*(){if(!this.text?.texts||n===0)return;let e=this.text.texts[n],r=this.text.texts[n-1];try{let i=e.sequence;e.sequence=r.sequence,r.sequence=i,yield this.textElementsService.update(e.id,{sequence:e.sequence}),yield this.textElementsService.update(r.id,{sequence:r.sequence}),this.text.texts[n]=r,this.text.texts[n-1]=e}catch(i){console.error("Error moving element up:",i)}})}moveDown(n){return h(this,null,function*(){if(!this.text?.texts||n===this.text.texts.length-1)return;let e=this.text.texts[n],r=this.text.texts[n+1];try{let i=e.sequence;e.sequence=r.sequence,r.sequence=i,yield this.textElementsService.update(e.id,{sequence:e.sequence}),yield this.textElementsService.update(r.id,{sequence:r.sequence}),this.text.texts[n]=r,this.text.texts[n+1]=e}catch(i){console.error("Error moving element down:",i)}})}secondsToTimeFormat(n){let e=Math.floor(n/60),r=n%60;return`${e}:${r<10?"0"+r:r}`}static \u0275fac=function(e){return new(e||t)(b(et),b(Gn),b(mc))};static \u0275cmp=ye({type:t,selectors:[["app-liturgical-text-detail"]],decls:25,vars:7,consts:[[4,"ngIf"],["for","section_start_time"],["type","text","timeInput","",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[2,"margin-top","1rem"],["for","text"],["id","text","rows","4",2,"width","100%",3,"ngModelChange","ngModel"],["for","start_time"],["for","end_time"],[3,"click"],["title","\xCEnapoi",1,"material-icons",2,"font-size","16px"],["title","\u0218terge",1,"material-icons",2,"font-size","16px"],[2,"width","fit-content",3,"ngModelChange","ngModel"],["timeInput","",2,"width","fit-content",3,"ngModelChange","ngModel"],["rows","4",2,"width","100%",3,"ngModelChange","ngModel"],["timeInput","",3,"ngModelChange","ngModel"],["title","\u0218terge",1,"material-icons",2,"font-size","12px"],[2,"display","inline","margin-left","1rem"],["title","Mut\u0103 \xEEn sus",3,"click","disabled"],["title","Mut\u0103 \xEEn jos",3,"click","disabled"]],template:function(e,r){e&1&&(H(0,AM,18,3,"div",0),de(1,"hr"),p(2,"h3"),_(3,"Texte"),m(),p(4,"label",1),_(5,"Timp \xEEnceput \xEEn sec\u021Biune(orientativ): "),m(),p(6,"input",2),V("ngModelChange",function(o){return $(r.sectionStartTime,o)||(r.sectionStartTime=o),o}),m(),H(7,NM,2,0,"p",0),p(8,"ol"),H(9,PM,3,2,"li",3),m(),p(10,"div",4)(11,"h4"),_(12,"Adaug\u0103 un text nou"),m(),p(13,"label",5),_(14,"Text:"),m(),p(15,"textarea",6),V("ngModelChange",function(o){return $(r.newTextElement.text,o)||(r.newTextElement.text=o),o}),m(),p(16,"label",7),_(17,"Timp \xEEnceput: "),m(),p(18,"input",2),V("ngModelChange",function(o){return $(r.newTextElement.start_time,o)||(r.newTextElement.start_time=o),o}),m(),p(19,"label",8),_(20,"Timp sf\xE2r\u0219it: "),m(),p(21,"input",2),V("ngModelChange",function(o){return $(r.newTextElement.end_time,o)||(r.newTextElement.end_time=o),o}),m(),de(22,"br"),p(23,"button",9),A("click",function(){return r.addTextElement()}),_(24,"Adaug\u0103"),m()()),e&2&&(N("ngIf",r.text),w(6),L("ngModel",r.sectionStartTime),w(),N("ngIf",!(!(r.text==null||r.text.texts==null)&&r.text.texts.length)),w(2),N("ngForOf",r.text==null?null:r.text.texts),w(6),L("ngModel",r.newTextElement.text),w(3),L("ngModel",r.newTextElement.start_time),w(3),L("ngModel",r.newTextElement.end_time))},dependencies:[Se,qe,yt,Le,Me,Fe,Re,ji,$i],encapsulation:2})};var FM=t=>["/liturgicalTexts",t];function LM(t,n){if(t&1&&(p(0,"li")(1,"a",4),_(2),m()()),t&2){let e=n.$implicit;w(),N("routerLink",kt(2,FM,e.id)),w(),Oe(" ",e.title?e.title:"F\u0103r\u0103 Titlu"," ")}}var vc=class t{constructor(n){this.litTextService=n}liturgicalTexts=[];newLiturgicalTextName="";ngOnInit(){return h(this,null,function*(){yield this.loadData()})}loadData(){return h(this,null,function*(){this.liturgicalTexts=yield this.litTextService.getAll()})}addLitirgucalText(){return h(this,null,function*(){let n=this.newLiturgicalTextName.trim()??null;try{let e=yield this.litTextService.create({title:n.length>0?n:void 0});this.newLiturgicalTextName="",this.liturgicalTexts.splice(0,0,e)}catch(e){alert("Error creating root type: "+e)}})}static \u0275fac=function(e){return new(e||t)(b(Gn))};static \u0275cmp=ye({type:t,selectors:[["app-liturgical-texts-list"]],decls:8,vars:2,consts:[[2,"margin-bottom","1rem"],["type","text","placeholder","Text liturgic nou",3,"ngModelChange","ngModel"],[2,"margin-left","1rem",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(p(0,"h2"),_(1,"Texte liturgice"),m(),p(2,"div",0)(3,"input",1),V("ngModelChange",function(o){return $(r.newLiturgicalTextName,o)||(r.newLiturgicalTextName=o),o}),m(),p(4,"button",2),A("click",function(){return r.addLitirgucalText()}),_(5,"Adaug\u0103"),m()(),p(6,"ul"),H(7,LM,3,4,"li",3),m()),e&2&&(w(3),L("ngModel",r.newLiturgicalTextName),w(4),N("ngForOf",r.liturgicalTexts))},dependencies:[Se,qe,wt,Le,Me,Fe,Re],encapsulation:2})};var VM=t=>["/sections",t];function jM(t,n){if(t&1&&(p(0,"li")(1,"a",4)(2,"p"),_(3),m()()()),t&2){let e=n.$implicit;w(),N("routerLink",kt(3,VM,e.id)),w(2),Ge(" ",e.title," ",e.subtitle?" - "+e.subtitle:""," ")}}var yc=class t{constructor(n){this.sectionsService=n}sections=[];newSectionTitle="";ngOnInit(){return h(this,null,function*(){yield this.loadSections()})}loadSections(){return h(this,null,function*(){this.sections=yield this.sectionsService.getAll()})}addSection(){return h(this,null,function*(){let n=this.newSectionTitle.trim();if(n)try{yield this.sectionsService.create({title:n,audio_url:"",subtitle:null,image_url:null}),this.newSectionTitle="",yield this.loadSections()}catch(e){console.error("Eroare la crearea noii sec\u021Biuni:",e)}})}static \u0275fac=function(e){return new(e||t)(b(Hn))};static \u0275cmp=ye({type:t,selectors:[["app-sections-list"]],decls:10,vars:2,consts:[["for","newSectionTitle"],["id","newSectionTitle",3,"ngModelChange","ngModel"],[2,"margin-left","1rem",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(p(0,"h2"),_(1,"Sec\u021Biuni"),m(),p(2,"p")(3,"label",0),_(4,"Ad\u0103uga\u021Bi titlul unei sec\u021Biuni noi: "),m(),p(5,"input",1),V("ngModelChange",function(o){return $(r.newSectionTitle,o)||(r.newSectionTitle=o),o}),m(),p(6,"button",2),A("click",function(){return r.addSection()}),_(7," Ad\u0103uga\u021Bi "),m()(),p(8,"ul"),H(9,jM,4,5,"li",3),m()),e&2&&(w(5),L("ngModel",r.newSectionTitle),w(4),N("ngForOf",r.sections))},dependencies:[Se,qe,Le,Me,Fe,Re,wt],encapsulation:2})};var _c=class t extends Ae{constructor(e){super(e);this.supabase=e}tableName="section_texts";create(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).insert([e]).select("*, text: liturgical_texts(*)").single();if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(k(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var BM=t=>({"background-color":t}),UM=(t,n)=>["/liturgicalTexts",t,n];function HM(t,n){if(t&1&&(p(0,"audio",28),de(1,"source",29),_(2," Your browser does not support the audio element."),m()),t&2){let e=S(2);w(),N("src",e.section.audio_url,Ga)}}function GM(t,n){if(t&1&&de(0,"img",30),t&2){let e=S(2);N("src",e.section.image_url,Ga)}}function zM(t,n){if(t&1&&(p(0,"span"),_(1),p(2,"a",33),_(3),m()()),t&2){let e=S(2).$implicit;w(),Oe(" ",(e==null?null:e.repetition)>1?e.repetition+" x":""," "),w(),N("routerLink",pv(3,UM,e.liturgical_text_id,e.start_time)),w(),Oe(" ",!(e==null||e.text==null||e.text.title==null)&&e.text.title.length?e==null||e.text==null?null:e.text.title:"F\u0103r\u0103 Titlu"," ")}}function qM(t,n){if(t&1){let e=pe();p(0,"td",13)(1,"button",34),A("click",function(){x(e);let i=S(2).index,o=S(2);return T(o.moveUp(i))}),_(2,"\u2191"),m(),p(3,"button",35),A("click",function(){x(e);let i=S(2).index,o=S(2);return T(o.moveDown(i))}),_(4,"\u2193"),m(),p(5,"button",1),A("click",function(){x(e);let i=S(2),o=i.$implicit,s=i.index,a=S(2);return T(a.deleteSectionText(o,s))}),p(6,"i",36),_(7,"delete"),m()(),p(8,"button",1),A("click",function(){x(e);let i=S(2).$implicit,o=S(2);return T(o.setEditingSectionText(i))}),p(9,"i",37),_(10,"edit"),m()()()}if(t&2){let e=S(2).index,r=S(2);w(),N("disabled",e===0),w(2),N("disabled",e===r.sectionTexts.length-1)}}function WM(t,n){if(t&1&&(Ln(0),p(1,"td"),H(2,zM,4,6,"span",0),m(),p(3,"td",13),_(4),ai(5,"timeFormat"),ai(6,"timeFormat"),m(),H(7,qM,11,2,"td",32),Vn()),t&2){let e,r=S().$implicit,i=S(2);w(2),N("ngIf",i.allLitTexts&&i.allLitTexts.length),w(2),Ge(" ",li(5,4,(e=r.start_time)!==null&&e!==void 0?e:0)," \u2192 ",li(6,6,(e=r.end_time)!==null&&e!==void 0?e:0)," "),w(3),N("ngIf",!i.editingSectionText)}}function YM(t,n){if(t&1){let e=pe();Ln(0),p(1,"td"),_(2),p(3,"label"),_(4,"Repet\u0103ri: "),m(),p(5,"input",38),V("ngModelChange",function(i){x(e);let o=S(3);return $(o.editingSectionText.repetition,i)||(o.editingSectionText.repetition=i),T(i)}),m()(),p(6,"td")(7,"input",39),V("ngModelChange",function(i){x(e);let o=S(3);return $(o.editingSectionText.start_time,i)||(o.editingSectionText.start_time=i),T(i)}),m(),_(8," \u2192 "),p(9,"input",40),V("ngModelChange",function(i){x(e);let o=S(3);return $(o.editingSectionText.end_time,i)||(o.editingSectionText.end_time=i),T(i)}),m()(),p(10,"td")(11,"button",1),A("click",function(){x(e);let i=S(3);return T(i.saveEditedSectionText())}),p(12,"i",41),_(13,"save"),m()(),p(14,"button",1),A("click",function(){x(e);let i=S(3);return T(i.clearEditingSectionText())}),p(15,"i",42),_(16,"cancel"),m()()(),Vn()}if(t&2){let e=S().$implicit,r=S(2);w(2),Oe(" ",e.text==null?null:e.text.title,", "),w(3),L("ngModel",r.editingSectionText.repetition),w(2),L("ngModel",r.editingSectionText.start_time),w(2),L("ngModel",r.editingSectionText.end_time)}}function ZM(t,n){if(t&1&&(p(0,"tr",31)(1,"td",13),_(2),m(),H(3,WM,8,8,"ng-container",0)(4,YM,17,4,"ng-container",0),m()),t&2){let e=n.$implicit,r=n.index,i=S(2);N("ngStyle",kt(4,BM,r%2===0?"#f2f2f2":"white")),w(2),jn(r+1),w(),N("ngIf",i.editingSectionText===null||i.editingSectionText.id!==e.id),w(),N("ngIf",i.editingSectionText!==null&&i.editingSectionText.id===e.id)}}function KM(t,n){if(t&1&&(p(0,"option",43),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),Oe(" ",e.title," ")}}function QM(t,n){if(t&1){let e=pe();p(0,"tr")(1,"td")(2,"label",44),_(3,"Titlu:"),m()(),p(4,"td")(5,"input",45),V("ngModelChange",function(i){x(e);let o=S(2);return $(o.newLiturgicalTextTitle,i)||(o.newLiturgicalTextTitle=i),T(i)}),m()()()}if(t&2){let e=S(2);w(5),L("ngModel",e.newLiturgicalTextTitle)}}function JM(t,n){if(t&1){let e=pe();p(0,"div")(1,"h2")(2,"button",1),A("click",function(){x(e);let i=S();return T(i.goBack())}),p(3,"i",2),_(4,"arrow_back"),m()(),_(5),p(6,"button",1),A("click",function(){x(e);let i=S();return T(i.deleteSection())}),p(7,"i",3),_(8,"delete"),m()()(),p(9,"div",4)(10,"div")(11,"table",5)(12,"tr")(13,"td")(14,"label"),_(15,"Titlu:"),m()(),p(16,"td")(17,"input",6),V("ngModelChange",function(i){x(e);let o=S();return $(o.editedTitle,i)||(o.editedTitle=i),T(i)}),m()()(),p(18,"tr")(19,"td")(20,"label"),_(21,"Subtitlu:"),m()(),p(22,"td")(23,"input",6),V("ngModelChange",function(i){x(e);let o=S();return $(o.editedSubtitle,i)||(o.editedSubtitle=i),T(i)}),m()()(),p(24,"tr")(25,"td")(26,"label"),_(27,"Audio URL:"),m()(),p(28,"td")(29,"input",6),V("ngModelChange",function(i){x(e);let o=S();return $(o.editedAudioUrl,i)||(o.editedAudioUrl=i),T(i)}),m()()(),p(30,"tr")(31,"td")(32,"label"),_(33,"Durat\u0103:"),m()(),p(34,"td")(35,"input",7),V("ngModelChange",function(i){x(e);let o=S();return $(o.editedDuration,i)||(o.editedDuration=i),T(i)}),m()()(),p(36,"tr")(37,"td")(38,"label"),_(39,"URL Imagine:"),m()(),p(40,"td")(41,"input",6),V("ngModelChange",function(i){x(e);let o=S();return $(o.editedImageUrl,i)||(o.editedImageUrl=i),T(i)}),m()()(),p(42,"tr")(43,"td",8)(44,"button",1),A("click",function(){x(e);let i=S();return T(i.saveSection())}),de(45,"i",9),_(46," Salveaz\u0103 "),m()()()(),H(47,HM,3,1,"audio",10),m(),H(48,GM,1,1,"img",11),m(),de(49,"hr"),p(50,"h3"),_(51,"Texte \xEEn sec\u021Biune"),m(),p(52,"table",12)(53,"tr")(54,"th",13),_(55,"#"),m(),p(56,"th",13),_(57,"Text"),m(),p(58,"th",13),_(59,"Interval"),m(),p(60,"th",13),_(61,"Ac\u021Biuni"),m()(),H(62,ZM,5,6,"tr",14),m(),de(63,"hr"),p(64,"h3"),_(65,"Ad\u0103uga\u021Bi un text nou \xEEn sec\u021Biune"),m(),p(66,"table",15)(67,"tr")(68,"td")(69,"label",16),_(70,"Selecta\u021Bi un text liturgic:"),m()(),p(71,"td")(72,"select",17),V("ngModelChange",function(i){x(e);let o=S();return $(o.selectedLitTextId,i)||(o.selectedLitTextId=i),T(i)}),p(73,"option",18),_(74,"-- Alege\u021Bi --"),m(),p(75,"option",19),_(76,"-- Text nou --"),m(),H(77,KM,2,2,"option",20),m()()(),H(78,QM,6,1,"tr",0),p(79,"tr")(80,"td")(81,"label",21),_(82,"Timp \xEEnceput:"),m()(),p(83,"td")(84,"input",22),V("ngModelChange",function(i){x(e);let o=S();return $(o.newStartTime,i)||(o.newStartTime=i),T(i)}),m()()(),p(85,"tr")(86,"td")(87,"label",23),_(88,"Timp sf\xE2r\u0219it:"),m()(),p(89,"td")(90,"input",24),V("ngModelChange",function(i){x(e);let o=S();return $(o.newEndTime,i)||(o.newEndTime=i),T(i)}),m()()(),p(91,"tr")(92,"td")(93,"label",25),_(94,"Repet\u0103ri:"),m()(),p(95,"td")(96,"input",26),V("ngModelChange",function(i){x(e);let o=S();return $(o.newRepetitions,i)||(o.newRepetitions=i),T(i)}),m()()()(),p(97,"button",1),A("click",function(){x(e);let i=S();return T(i.addLiturgicalTextToSection())}),de(98,"i",27),_(99," Ad\u0103uga\u021Bi "),m()()}if(t&2){let e=S();w(5),Ge("",e.section.title," ",e.section.subtitle!==null?" - "+e.section.subtitle:""," "),w(12),L("ngModel",e.editedTitle),w(6),L("ngModel",e.editedSubtitle),w(6),L("ngModel",e.editedAudioUrl),w(6),L("ngModel",e.editedDuration),w(6),L("ngModel",e.editedImageUrl),w(6),N("ngIf",e.section.audio_url),w(),N("ngIf",e.section.image_url),w(14),N("ngForOf",e.sectionTexts),w(10),L("ngModel",e.selectedLitTextId),w(5),N("ngForOf",e.allLitTexts),w(),N("ngIf",e.selectedLitTextId==="new"),w(6),L("ngModel",e.newStartTime),w(6),L("ngModel",e.newEndTime),w(6),L("ngModel",e.newRepetitions)}}var wc=class t{constructor(n,e,r,i,o){this.route=n;this.router=e;this.sectionsService=r;this.sectionTextsService=i;this.litTextsService=o}sectionId;section=null;sectionTexts=[];allLitTexts=[];editedTitle="";editedSubtitle="";editedAudioUrl="";editedDuration=null;editedImageUrl="";selectedLitTextId="new";newStartTime=0;newEndTime=0;newRepetitions=1;newLiturgicalTextTitle="";editingSectionText=null;ngOnInit(){return h(this,null,function*(){this.sectionId=this.route.snapshot.paramMap.get("id")||"",yield this.loadSection(),yield this.loadAllLitTexts(),yield this.loadSectionTexts()})}loadSection(){return h(this,null,function*(){this.section=yield this.sectionsService.getById(this.sectionId),this.section&&(this.editedTitle=this.section.title||"",this.editedSubtitle=this.section.subtitle||"",this.editedAudioUrl=this.section.audio_url,this.editedDuration=this.section.duration,this.editedImageUrl=this.section.image_url||"")})}deleteSection(){return h(this,null,function*(){if(confirm("\u0218terge aceast\u0103 sec\u021Biune?"))try{yield this.sectionsService.delete(this.sectionId),alert("Sec\u021Biune \u0219tears\u0103 cu succes!"),this.router.navigate(["/sections"])}catch(n){console.error("Eroare la \u0219tergere:",n)}})}loadAllLitTexts(){return h(this,null,function*(){this.allLitTexts=yield this.litTextsService.getAll()})}loadSectionTexts(){return h(this,null,function*(){let{data:n,error:e}=yield this.sectionTextsService.client.from("section_texts").select("*, text: liturgical_texts(*)").eq("prayer_section_id",this.sectionId).order("sequence",{ascending:!0});!e&&n&&(this.sectionTexts=n,this.newStartTime=this.sectionTexts.length>0?this.sectionTexts[this.sectionTexts.length-1].end_time:0)})}saveSection(){return h(this,null,function*(){if(!this.section)return;let n={title:this.editedTitle.trim()||null,subtitle:this.editedSubtitle.trim()||null,audio_url:this.editedAudioUrl.trim(),duration:this.editedDuration||0,image_url:this.editedImageUrl.trim()||null};try{let e=yield this.sectionsService.update(this.section.id,n);e&&(this.section.title=e.title,this.section.subtitle=e.subtitle,this.section.audio_url=e.audio_url,this.section.duration=e.duration,this.section.image_url=e.image_url,alert("Sec\u021Biune salvat\u0103 cu succes!"))}catch(e){console.error("Eroare la salvarea sec\u021Biunii:",e)}})}addLiturgicalTextToSection(){return h(this,null,function*(){if(!this.selectedLitTextId)return;let n=0;this.sectionTexts.length>0&&(n=Math.max(...this.sectionTexts.map(e=>e.sequence)));try{if(this.selectedLitTextId==="new"){let r=yield this.litTextsService.create({title:this.newLiturgicalTextTitle});this.selectedLitTextId=r.id}let e=yield this.sectionTextsService.create({prayer_section_id:this.sectionId,liturgical_text_id:this.selectedLitTextId,sequence:n+1,repetition:this.newRepetitions,start_time:this.newStartTime??null,end_time:this.newEndTime??null});this.newLiturgicalTextTitle="",this.selectedLitTextId="new",this.newStartTime=this.newEndTime,this.newEndTime=null,this.newRepetitions=1,this.sectionTexts.push(e)}catch(e){console.error("Eroare la ad\u0103ugarea textului:",e)}})}deleteSectionText(n,e){return h(this,null,function*(){if(confirm("\u0218terge acest text din sec\u021Biune?"))try{yield this.sectionTextsService.delete(n.id),this.sectionTexts.splice(e,1)}catch(r){console.error("Eroare la \u0219tergere:",r)}})}moveUp(n){return h(this,null,function*(){if(n===0)return;let e=this.sectionTexts[n],r=this.sectionTexts[n-1],i=e.sequence;e.sequence=r.sequence,r.sequence=i;try{yield this.sectionTextsService.update(e.id,{sequence:e.sequence}),yield this.sectionTextsService.update(r.id,{sequence:r.sequence}),this.sectionTexts[n]=r,this.sectionTexts[n-1]=e}catch(o){console.error("Eroare la mutare \xEEn sus:",o)}})}moveDown(n){return h(this,null,function*(){if(n===this.sectionTexts.length-1)return;let e=this.sectionTexts[n],r=this.sectionTexts[n+1],i=e.sequence;e.sequence=r.sequence,r.sequence=i;try{yield this.sectionTextsService.update(e.id,{sequence:e.sequence}),yield this.sectionTextsService.update(r.id,{sequence:r.sequence}),this.sectionTexts[n]=r,this.sectionTexts[n+1]=e}catch(o){console.error("Eroare la mutare \xEEn jos:",o)}})}setEditingSectionText(n){this.editingSectionText=n}clearEditingSectionText(){this.editingSectionText=null}saveEditedSectionText(){this.editingSectionText&&(this.sectionTextsService.update(this.editingSectionText.id,{start_time:this.editingSectionText.start_time,end_time:this.editingSectionText.end_time,repetition:this.editingSectionText.repetition}),this.editingSectionText=null)}goBack(){window.history.back()}static \u0275fac=function(e){return new(e||t)(b(et),b($e),b(Hn),b(_c),b(Gn))};static \u0275cmp=ye({type:t,selectors:[["app-section-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click"],["title","\xCEnapoi",1,"material-icons",2,"font-size","16px"],["title","\u0218terge",1,"material-icons",2,"font-size","16px"],[2,"display","flex","justify-content","space-between"],[1,"section-edit-fields",2,"border-collapse","collapse"],[3,"ngModelChange","ngModel"],["type","text","timeInput","",3,"ngModelChange","ngModel"],["colspan","2",2,"text-align","left"],[1,"fa","fa-save"],["controls","",4,"ngIf"],["alt","Section Image","style","margin-left: 20px; max-width: 200px; max-height: 200px;",3,"src",4,"ngIf"],[1,"sections-texts",2,"border-collapse","collapse","margin-top","20px"],[2,"padding","8px"],[3,"ngStyle",4,"ngFor","ngForOf"],[2,"border-collapse","collapse"],["for","litTextSelect"],["id","litTextSelect",3,"ngModelChange","ngModel"],["value",""],["value","new","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","startTime"],["id","startTime","type","text","placeholder","Ex: 0","timeInput","",3,"ngModelChange","ngModel"],["for","endTime"],["id","endTime","type","text","placeholder","Ex: 20","timeInput","",3,"ngModelChange","ngModel"],["for","repetitions"],["id","repetitions","type","number","placeholder","Ex: 1",3,"ngModelChange","ngModel"],[1,"fa","fa-plus"],["controls",""],["type","audio/mpeg",3,"src"],["alt","Section Image",2,"margin-left","20px","max-width","200px","max-height","200px",3,"src"],[3,"ngStyle"],["style","padding: 8px;",4,"ngIf"],[3,"routerLink"],["title","Mut\u0103 \xEEn sus",3,"click","disabled"],["title","Mut\u0103 \xEEn jos",3,"click","disabled"],["title","\u0218terge",1,"material-icons",2,"font-size","12px"],["title","Editeaz\u0103",1,"material-icons",2,"font-size","12px"],["type","number",2,"width","60px",3,"ngModelChange","ngModel"],["id","startTime","type","text","timeInput","",2,"width","60px",3,"ngModelChange","ngModel"],["id","endTime","type","text","timeInput","",2,"width","60px",3,"ngModelChange","ngModel"],["title","Salveaza",1,"material-icons",2,"font-size","12px"],["title","Renun\u021B\u0103",1,"material-icons",2,"font-size","12px"],[3,"value"],["for","newTextTitle"],["id","newTextTitle","type","text","placeholder","Ex: N\u0103sc\u0103toare de Dumnezeu",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&H(0,JM,100,16,"div",0),e&2&&N("ngIf",r.section)},dependencies:[Se,qe,yt,Av,Le,oc,sc,Me,fs,Li,Fe,Re,wt,ji,$i],styles:["td[_ngcontent-%COMP%]{text-align:left;align-items:center}table.sections-texts[_ngcontent-%COMP%]   :is(tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]){border:1px solid #790822;background-color:#ffe5ad;color:#790822}"]})};var h0=[{path:"",redirectTo:"prayers",pathMatch:"full"},{path:"prayers",component:lc,canActivate:[Ft]},{path:"prayers/:id",component:fc,canActivate:[Ft]},{path:"prayerTypes",component:pc,canActivate:[Ft]},{path:"liturgicalTexts",component:vc,canActivate:[Ft]},{path:"liturgicalTexts/:id/:sectionStartTime",component:hs,canActivate:[Ft]},{path:"liturgicalTexts/:id",component:hs,canActivate:[Ft]},{path:"sections",component:yc,canActivate:[Ft]},{path:"sections/:id",component:wc,canActivate:[Ft]},{path:"login",component:gc}];var v=function(t){return t.SEPARATOR="separator",t.PERCENT="percent",t.IP="IP",t.CPF_CNPJ="CPF_CNPJ",t.MONTH="M",t.MONTHS="M0",t.MINUTE="m",t.HOUR="h",t.HOURS="H",t.MINUTES="m0",t.HOURS_HOUR="Hh",t.SECONDS="s0",t.HOURS_MINUTES_SECONDS="Hh:m0:s0",t.EMAIL_MASK="A*@A*.A*",t.HOURS_MINUTES="Hh:m0",t.MINUTES_SECONDS="m0:s0",t.DAYS_MONTHS_YEARS="d0/M0/0000",t.DAYS_MONTHS="d0/M0",t.DAYS="d0",t.DAY="d",t.SECOND="s",t.LETTER_S="S",t.DOT=".",t.COMMA=",",t.CURLY_BRACKETS_LEFT="{",t.CURLY_BRACKETS_RIGHT="}",t.MINUS="-",t.OR="||",t.HASH="#",t.EMPTY_STRING="",t.SYMBOL_STAR="*",t.SYMBOL_QUESTION="?",t.SLASH="/",t.WHITE_SPACE=" ",t.NUMBER_ZERO="0",t.NUMBER_NINE="9",t.BACKSPACE="Backspace",t.DELETE="Delete",t.ARROW_LEFT="ArrowLeft",t.ARROW_UP="ArrowUp",t.DOUBLE_ZERO="00",t}(v||{}),xh=new O("ngx-mask config"),p0=new O("new ngx-mask config"),g0=new O("initial ngx-mask config"),XM={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:t=>t,outputTransformFn:t=>t,maskFilled:new ve,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},v$=[v.HOURS_MINUTES_SECONDS,v.HOURS_MINUTES,v.MINUTES_SECONDS],y$=[v.PERCENT,v.HOURS_HOUR,v.SECONDS,v.MINUTES,v.SEPARATOR,v.DAYS_MONTHS_YEARS,v.DAYS_MONTHS,v.DAYS,v.MONTHS],eA=(()=>{class t{_config=D(xh);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression="";deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(e,r,i=0,o=!1,s=!1,a=()=>{}){if(!r||typeof e!="string")return v.EMPTY_STRING;let l=0,c="",u=!1,d=!1,y=1,g=!1,f=e,C=i;f.slice(0,this.prefix.length)===this.prefix&&(f=f.slice(this.prefix.length,f.length)),this.suffix&&f.length>0&&(f=this.checkAndRemoveSuffix(f)),f==="("&&this.prefix&&(f="");let M=f.toString().split(v.EMPTY_STRING);if(this.allowNegativeNumbers&&f.slice(l,l+1)===v.MINUS&&(c+=f.slice(l,l+1)),r===v.IP){let J=f.split(v.DOT);this.ipError=this._validIP(J),r="099.099.099.099"}let P=[];for(let J=0;J<f.length;J++)f[J]?.match("\\d")&&P.push(f[J]??v.EMPTY_STRING);if(r===v.CPF_CNPJ&&(this.cpfCnpjError=P.length!==11&&P.length!==14,P.length>11?r="00.000.000/0000-00":r="000.000.000-00"),r.startsWith(v.PERCENT)){if(f.match("[a-z]|[A-Z]")||f.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!s){f=this._stripToDecimal(f);let Dt=this.getPrecision(r);f=this.checkInputPrecision(f,Dt,this.decimalMarker)}let J=typeof this.decimalMarker=="string"?this.decimalMarker:v.DOT;if(f.indexOf(J)>0&&!this.percentage(f.substring(0,f.indexOf(J)))){let Dt=f.substring(0,f.indexOf(J)-1);this.allowNegativeNumbers&&f.slice(l,l+1)===v.MINUS&&!s&&(Dt=f.substring(0,f.indexOf(J))),f=`${Dt}${f.substring(f.indexOf(J),f.length)}`}let F="";this.allowNegativeNumbers&&f.slice(l,l+1)===v.MINUS?F=`${v.MINUS}${f.slice(l+1,l+f.length)}`:F=f,this.percentage(F)?c=this._splitPercentZero(f):c=this._splitPercentZero(f.substring(0,f.length-1))}else if(r.startsWith(v.SEPARATOR)){(f.match("[w\u0430-\u044F\u0410-\u042F]")||f.match("[\u0401\u0451\u0410-\u044F]")||f.match("[a-z]|[A-Z]")||f.match(/[-@#!$%\\^&*()_'+|~=`{}\]:";<>.?/]/)||f.match("[^A-Za-z0-9,]"))&&(f=this._stripToDecimal(f));let J=this.getPrecision(r),F=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?F=this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:F=this.decimalMarker.find(ue=>ue!==this.thousandSeparator)),s){let{decimalMarkerIndex:ue,nonZeroIndex:De}=this._findFirstNonZeroAndDecimalIndex(f,F),Xt=f[0]===v.MINUS,gs=f[0]===v.NUMBER_ZERO,ms=f[0]===F,Bi=f[1]===F;(ms&&!De||Xt&&Bi&&!De||gs&&!ue&&!De)&&(f=v.NUMBER_ZERO),ue&&De&&Xt&&C===1&&(ue<De||ue>De)&&(f=v.MINUS+f.slice(De)),!ue&&De&&f.length>De&&(f=Xt?v.MINUS+f.slice(De):f.slice(De)),ue&&De&&C===0&&(ue<De&&(f=f.slice(ue-1)),ue>De&&(f=f.slice(De)))}J===0?f=this.allowNegativeNumbers?f.length>2&&f[0]===v.MINUS&&f[1]===v.NUMBER_ZERO&&f[2]!==this.thousandSeparator&&f[2]!==v.COMMA&&f[2]!==v.DOT?"-"+f.slice(2,f.length):f[0]===v.NUMBER_ZERO&&f.length>1&&f[1]!==this.thousandSeparator&&f[1]!==v.COMMA&&f[1]!==v.DOT?f.slice(1,f.length):f:f.length>1&&f[0]===v.NUMBER_ZERO&&f[1]!==this.thousandSeparator&&f[1]!==v.COMMA&&f[1]!==v.DOT?f.slice(1,f.length):f:(f[0]===F&&f.length>1&&!s&&(f=v.NUMBER_ZERO+f.slice(0,f.length+1),this.plusOnePosition=!0),f[0]===v.NUMBER_ZERO&&f[1]!==F&&f[1]!==this.thousandSeparator&&!s&&(f=f.length>1?f.slice(0,1)+F+f.slice(1,f.length+1):f,this.plusOnePosition=!0),this.allowNegativeNumbers&&!s&&f[0]===v.MINUS&&(f[1]===F||f[1]===v.NUMBER_ZERO)&&(f=f[1]===F&&f.length>2?f.slice(0,1)+v.NUMBER_ZERO+f.slice(1,f.length):f[1]===v.NUMBER_ZERO&&f.length>2&&f[2]!==F?f.slice(0,2)+F+f.slice(2,f.length):f,this.plusOnePosition=!0));let Dt=this._charToRegExpExpression(this.thousandSeparator),nt='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(Dt,"");if(Array.isArray(this.decimalMarker))for(let ue of this.decimalMarker)nt=nt.replace(this._charToRegExpExpression(ue),v.EMPTY_STRING);else nt=nt.replace(this._charToRegExpExpression(this.decimalMarker),"");let Er=new RegExp("["+nt+"]");f.match(Er)&&(f=f.substring(0,f.length-1)),f=this.checkInputPrecision(f,J,this.decimalMarker);let zn=f.replace(new RegExp(Dt,"g"),"");c=this._formatWithSeparators(zn,this.thousandSeparator,this.decimalMarker,J);let Sc=c.indexOf(v.COMMA)-f.indexOf(v.COMMA),Lt=c.length-f.length,ps=s&&c.length<e.length&&this.separatorLimit;if((c[C-1]===this.thousandSeparator||c[C-this.prefix.length])&&this.prefix&&s)C=C-1;else if(Lt>0&&c[C]!==this.thousandSeparator||ps){d=!0;let ue=0;do this._shift.add(C+ue),ue++;while(ue<Lt)}else c[C-1]===this.thousandSeparator||Lt===-4||Lt===-3||c[C]===this.thousandSeparator?(this._shift.clear(),this._shift.add(C-1)):Sc!==0&&C>0&&!(c.indexOf(v.COMMA)>=C&&C>3)||!(c.indexOf(v.DOT)>=C&&C>3)&&Lt<=0?(this._shift.clear(),d=!0,y=Lt,C+=Lt,this._shift.add(C)):this._shift.clear()}else for(let J=0,F=M[0];J<M.length&&l!==r.length;J++,F=M[J]??v.EMPTY_STRING){let Dt=v.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(F,r[l]??v.EMPTY_STRING)&&r[l+1]===v.SYMBOL_QUESTION)c+=F,l+=2;else if(r[l+1]===v.SYMBOL_STAR&&u&&this._checkSymbolMask(F,r[l+2]??v.EMPTY_STRING))c+=F,l+=3,u=!1;else if(this._checkSymbolMask(F,r[l]??v.EMPTY_STRING)&&r[l+1]===v.SYMBOL_STAR&&!Dt)c+=F,u=!0;else if(r[l+1]===v.SYMBOL_QUESTION&&this._checkSymbolMask(F,r[l+2]??v.EMPTY_STRING))c+=F,l+=3;else if(this._checkSymbolMask(F,r[l]??v.EMPTY_STRING)){if(r[l]===v.HOURS&&(this.apm?Number(F)>9:Number(F)>2)){C=this.leadZeroDateTime?C:C+1,l+=1,this._shiftStep(l),J--,this.leadZeroDateTime&&(c+="0");continue}if(r[l]===v.HOUR&&(this.apm?c.length===1&&Number(c)>1||c==="1"&&Number(F)>2||f.slice(l-1,l).length===1&&Number(f.slice(l-1,l))>2||f.slice(l-1,l)==="1"&&Number(F)>2:c==="2"&&Number(F)>3||(c.slice(l-2,l)==="2"||c.slice(l-3,l)==="2"||c.slice(l-4,l)==="2"||c.slice(l-1,l)==="2")&&Number(F)>3&&l>10)){C=C+1,l+=1,J--;continue}if((r[l]===v.MINUTE||r[l]===v.SECOND)&&Number(F)>5){C=this.leadZeroDateTime?C:C+1,l+=1,this._shiftStep(l),J--,this.leadZeroDateTime&&(c+="0");continue}let nt=31,Er=f[l],zn=f[l+1],Sc=f[l+2],Lt=f[l-1],ps=f[l-2],ue=f.slice(l-3,l-1),De=f.slice(l-1,l+1),Xt=f.slice(l,l+2),gs=f.slice(l-2,l);if(r[l]===v.DAY){let ms=r.slice(0,2)===v.MONTHS,Bi=r.slice(0,2)===v.MONTHS&&this.specialCharacters.includes(ps);if(Number(F)>3&&this.leadZeroDateTime||!ms&&(Number(Xt)>nt||Number(De)>nt||this.specialCharacters.includes(zn))||(Bi?Number(De)>nt||!this.specialCharacters.includes(Er)&&this.specialCharacters.includes(Sc)||this.specialCharacters.includes(Er):Number(Xt)>nt||this.specialCharacters.includes(zn)&&!s)){C=this.leadZeroDateTime?C:C+1,l+=1,this._shiftStep(l),J--,this.leadZeroDateTime&&(c+="0");continue}}if(r[l]===v.MONTH){let Bi=l===0&&(Number(F)>2||Number(Xt)>12||this.specialCharacters.includes(zn)&&!s),v0=r.slice(l+2,l+3),y0=ue.includes(v0)&&r.includes("d0")&&(this.specialCharacters.includes(ps)&&Number(De)>12&&!this.specialCharacters.includes(Er)||this.specialCharacters.includes(Er)),_0=Number(ue)<=nt&&!this.specialCharacters.includes(ue)&&this.specialCharacters.includes(Lt)&&(Number(Xt)>12||this.specialCharacters.includes(zn)),w0=Number(Xt)>12&&l===5||this.specialCharacters.includes(zn)&&l===5,S0=Number(ue)>nt&&!this.specialCharacters.includes(ue)&&!this.specialCharacters.includes(gs)&&Number(gs)>12&&r.includes("d0"),C0=Number(ue)<=nt&&!this.specialCharacters.includes(ue)&&!this.specialCharacters.includes(Lt)&&Number(De)>12;if(Number(F)>1&&this.leadZeroDateTime||Bi||y0||C0||S0||_0||w0&&!this.leadZeroDateTime){C=this.leadZeroDateTime?C:C+1,l+=1,this._shiftStep(l),J--,this.leadZeroDateTime&&(c+="0");continue}}c+=F,l++}else this.specialCharacters.includes(F)&&r[l]===F?(c+=F,l++):this.specialCharacters.indexOf(r[l]??v.EMPTY_STRING)!==-1?(c+=r[l],l++,this._shiftStep(l),J--):r[l]===v.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(l):this.patterns[r[l]??v.EMPTY_STRING]&&this.patterns[r[l]??v.EMPTY_STRING]?.optional?(M[l]&&r!=="099.099.099.099"&&r!=="000.000.000-00"&&r!=="00.000.000/0000-00"&&!r.match(/^9+\.0+$/)&&!this.patterns[r[l]??v.EMPTY_STRING]?.optional&&(c+=M[l]),r.includes(v.NUMBER_NINE+v.SYMBOL_STAR)&&r.includes(v.NUMBER_ZERO+v.SYMBOL_STAR)&&l++,l++,J--):this.maskExpression[l+1]===v.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[l+2]??v.EMPTY_STRING)&&this._findSpecialChar(F)===this.maskExpression[l+2]&&u||this.maskExpression[l+1]===v.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[l+2]??v.EMPTY_STRING)&&this._findSpecialChar(F)===this.maskExpression[l+2]&&u?(l+=3,c+=F):this.showMaskTyped&&this.specialCharacters.indexOf(F)<0&&F!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(g=!0)}c[C-1]&&c.length+1===r.length&&this.specialCharacters.indexOf(r[r.length-1]??v.EMPTY_STRING)!==-1&&(c+=r[r.length-1]);let se=C+1;for(;this._shift.has(se);)y++,se++;let ae=o&&!r.startsWith(v.SEPARATOR)?l:this._shift.has(C)?y:0;g&&ae--,a(ae,d),y<0&&this._shift.clear();let ce=!1;s&&(ce=M.every(J=>this.specialCharacters.includes(J)));let Ce=`${this.prefix}${ce?v.EMPTY_STRING:c}${this.showMaskTyped?"":this.suffix}`;c.length===0&&(Ce=this.instantPrefix?`${this.prefix}${c}`:`${c}`);let me=f.length===1&&this.specialCharacters.includes(r[0])&&f!==r[0];if(!this._checkSymbolMask(f,r[1])&&me)return"";if(c.includes(v.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(s&&c===v.MINUS)return"";Ce=`${v.MINUS}${this.prefix}${c.split(v.MINUS).join(v.EMPTY_STRING)}${this.suffix}`}return Ce}_findDropSpecialChar(e){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(r=>r===e):this._findSpecialChar(e)}_findSpecialChar(e){return this.specialCharacters.find(r=>r===e)}_checkSymbolMask(e,r){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[r]?.pattern&&this.patterns[r]?.pattern.test(e))??!1}_formatWithSeparators=(e,r,i,o)=>{let s=[],a="";if(Array.isArray(i)){let y=new RegExp(i.map(g=>"[\\^$.|?*+()".indexOf(g)>=0?`\\${g}`:g).join("|"));s=e.split(y),a=e.match(y)?.[0]??v.EMPTY_STRING}else s=e.split(i),a=i;let l=s.length>1?`${a}${s[1]}`:v.EMPTY_STRING,c=s[0]??v.EMPTY_STRING,u=this.separatorLimit.replace(/\s/g,v.EMPTY_STRING);u&&+u&&(c[0]===v.MINUS?c=`-${c.slice(1,c.length).slice(0,u.length)}`:c=c.slice(0,u.length));let d=/(\d+)(\d{3})/;for(;r&&d.test(c);)c=c.replace(d,"$1"+r+"$2");return typeof o>"u"?c+l:o===0?c:c+l.substring(0,o+1)};percentage=e=>{let r=e.replace(",","."),i=Number(this.allowNegativeNumbers&&e.includes(v.MINUS)?r.slice(1,e.length):r);return!isNaN(i)&&i>=0&&i<=100};getPrecision=e=>{let r=e.split(v.DOT);return r.length>1?Number(r[r.length-1]):1/0};checkAndRemoveSuffix=e=>{for(let r=this.suffix?.length-1;r>=0;r--){let i=this.suffix.substring(r,this.suffix?.length);if(e.includes(i)&&r!==this.suffix?.length-1&&(r-1<0||!e.includes(this.suffix.substring(r-1,this.suffix?.length))))return e.replace(i,v.EMPTY_STRING)}return e};checkInputPrecision=(e,r,i)=>{let o=e,s=i;if(r<1/0){if(Array.isArray(s)){let u=s.find(d=>d!==this.thousandSeparator);s=u||s[0]}let a=new RegExp(this._charToRegExpExpression(s)+`\\d{${r}}.*$`),l=o.match(a),c=(l&&l[0]?.length)??0;if(c-1>r){let u=c-1-r;o=o.substring(0,o.length-u)}r===0&&this._compareOrIncludes(o[o.length-1],s,this.thousandSeparator)&&(o=o.substring(0,o.length-1))}return o};_stripToDecimal(e){return e.split(v.EMPTY_STRING).filter((r,i)=>{let o=typeof this.decimalMarker=="string"?r===this.decimalMarker:this.decimalMarker.includes(r);return r.match("^-?\\d")||r===this.thousandSeparator||o||r===v.MINUS&&i===0&&this.allowNegativeNumbers}).join(v.EMPTY_STRING)}_charToRegExpExpression(e){return e&&(e===" "?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?`\\${e}`:e)}_shiftStep(e){this._shift.add(e+this.prefix.length||0)}_compareOrIncludes(e,r,i){return Array.isArray(r)?r.filter(o=>o!==i).includes(e):e===r}_validIP(e){return!(e.length===4&&!e.some((r,i)=>e.length!==i+1?r===v.EMPTY_STRING||Number(r)>255:r===v.EMPTY_STRING||Number(r.substring(0,3))>255))}_splitPercentZero(e){if(e===v.MINUS&&this.allowNegativeNumbers)return e;let r=typeof this.decimalMarker=="string"?e.indexOf(this.decimalMarker):e.indexOf(v.DOT),i=this.allowNegativeNumbers&&e.includes(v.MINUS)?"-":"";if(r===-1){let o=parseInt(i?e.slice(1,e.length):e,10);return isNaN(o)?v.EMPTY_STRING:`${i}${o}`}else{let o=parseInt(e.replace("-","").substring(0,r),10),s=e.substring(r+1),a=isNaN(o)?"":o.toString(),l=typeof this.decimalMarker=="string"?this.decimalMarker:v.DOT;return a===v.EMPTY_STRING?v.EMPTY_STRING:`${i}${a}${l}${s}`}}_findFirstNonZeroAndDecimalIndex(e,r){let i=null,o=null;for(let s=0;s<e.length;s++){let a=e[s];if(a===r&&i===null&&(i=s),a&&a>="1"&&a<="9"&&o===null&&(o=s),i!==null&&o!==null)break}return{decimalMarkerIndex:i,nonZeroIndex:o}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),tA=(()=>{class t extends eA{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];triggerOnMaskChange=!1;previousValue="";currentValue="";writingValue=!1;_emitValue=!1;_start;_end;onChange=e=>{};_elementRef=D(Ke,{optional:!0});document=D(ze);_config=D(xh);_renderer=D(Xe,{optional:!0});applyMask(e,r,i=0,o=!1,s=!1,a=()=>{}){if(!r)return e!==this.actualValue?this.actualValue:e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():v.EMPTY_STRING,this.maskExpression===v.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||v.HASH)),this.maskExpression===v.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||v.HASH)),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let l=e&&typeof this.selStart=="number"?e[this.selStart]??v.EMPTY_STRING:v.EMPTY_STRING,c="",u=i;if((this.hiddenInput||e&&e.indexOf(v.SYMBOL_STAR)>=0)&&!this.writingValue){let f=e&&e.length===1?e.split(v.EMPTY_STRING):this.actualValue.split(v.EMPTY_STRING);s&&(f=f.slice(0,i).concat(f.slice(i+1))),this.showMaskTyped&&(e=this.removeMask(e),f=this.removeMask(f.join("")).split(v.EMPTY_STRING)),typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):e!==v.EMPTY_STRING&&f.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(e.length>f.length?f.splice(this.selStart,0,l):e.length<f.length&&(f.length-e.length===1?s?f.splice(this.selStart-1,1):f.splice(e.length-1,1):f.splice(this.selStart,this.selEnd-this.selStart))):f=[],this.showMaskTyped&&!this.hiddenInput&&(c=this.removeMask(e)),this.actualValue.length?f.length<e.length?c=this.shiftTypedSymbols(f.join(v.EMPTY_STRING)):f.length===e.length?c=f.join(v.EMPTY_STRING):c=e:c=e}if(o&&(this.hiddenInput||!this.hiddenInput)&&(c=e),s&&this.specialCharacters.indexOf(this.maskExpression[u]??v.EMPTY_STRING)!==-1&&this.showMaskTyped&&!this.prefix&&(c=this.currentValue),this.deletedSpecialCharacter&&u&&(this.specialCharacters.includes(this.actualValue.slice(u,u+1))?u=u+1:r.slice(u-1,u+1)!==v.MONTHS&&(u=u-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(c=this.removeMask(c)),this.maskChanged?c=e:c=c&&c.length?c:e,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!o&&!this.writingValue){let f=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(f),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let d=super.applyMask(c,r,u,o,s,a);if(this.actualValue=this.getActualValue(d),this.thousandSeparator===v.DOT&&this.decimalMarker===v.DOT&&(this.decimalMarker=v.COMMA),this.maskExpression.startsWith(v.SEPARATOR)&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(f=>!this._compareOrIncludes(f,this.decimalMarker,this.thousandSeparator))),(d||d==="")&&(this.previousValue=this.currentValue,this.currentValue=d,this._emitValue=this.previousValue!==this.currentValue||this.maskChanged||this.writingValue||this.previousValue===this.currentValue&&o),this._emitValue&&(this.writingValue&&this.triggerOnMaskChange?requestAnimationFrame(()=>this.formControlResult(d)):this.formControlResult(d)),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(d,this.maskExpression)}${this.maskIsShown.slice(d.length)}`:d;let y=d.length,g=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(v.HOURS)){let f=this._numberSkipedSymbols(d);return`${d}${g.slice(y+f)}`}else if(this.maskExpression===v.IP||this.maskExpression===v.CPF_CNPJ)return`${d}${g}`;return`${d}${g.slice(y)}`}_numberSkipedSymbols(e){let r=/(^|\D)(\d\D)/g,i=r.exec(e),o=0;for(;i!=null;)o+=1,i=r.exec(e);return o}applyValueChanges(e,r,i,o=()=>{}){let s=this._elementRef?.nativeElement;s&&(s.value=this.applyMask(s.value,this.maskExpression,e,r,i,o),s!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(e,r){return e.split(v.EMPTY_STRING).map((i,o)=>this.patterns&&this.patterns[r[o]??v.EMPTY_STRING]&&this.patterns[r[o]??v.EMPTY_STRING]?.symbol?this.patterns[r[o]??v.EMPTY_STRING]?.symbol:i).join(v.EMPTY_STRING)}getActualValue(e){let r=e.split(v.EMPTY_STRING).filter((i,o)=>{let s=this.maskExpression[o]??v.EMPTY_STRING;return this._checkSymbolMask(i,s)||this.specialCharacters.includes(s)&&i===s});return r.join(v.EMPTY_STRING)===e?r.join(v.EMPTY_STRING):e}shiftTypedSymbols(e){let r="";return(e&&e.split(v.EMPTY_STRING).map((o,s)=>{if(this.specialCharacters.includes(e[s+1]??v.EMPTY_STRING)&&e[s+1]!==this.maskExpression[s+1])return r=o,e[s+1];if(r.length){let a=r;return r=v.EMPTY_STRING,a}return o})||[]).join(v.EMPTY_STRING)}numberToString(e){return!e&&e!==0||this.maskExpression.startsWith(v.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(v.SEPARATOR)&&this.separatorLimit.length>14&&String(e).length>14?String(e):Number(e).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${v.MINUS}/`,v.MINUS)}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(e){if(this.maskExpression===v.IP)return this._checkForIp(e);if(this.maskExpression===v.CPF_CNPJ)return this._checkForCpfCnpj(e)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let e=this._elementRef?.nativeElement;e&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(this.placeHolderCharacter,v.EMPTY_STRING).length&&(this.formElementProperty=["value",v.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([e,r]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,e,r))}checkDropSpecialCharAmount(e){return e.split(v.EMPTY_STRING).filter(i=>this._findDropSpecialChar(i)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if(e===v.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let r=[];for(let i=0;i<e.length;i++){let o=e[i]??v.EMPTY_STRING;o&&o.match("\\d")&&r.push(o)}return r.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>3&&r.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>6&&r.length<=9?this.placeHolderCharacter:(r.length>9&&r.length<=12,"")}_checkForCpfCnpj(e){let r=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,i=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(e===v.HASH)return r;let o=[];for(let s=0;s<e.length;s++){let a=e[s]??v.EMPTY_STRING;a&&a.match("\\d")&&o.push(a)}return o.length<=3?r.slice(o.length,r.length):o.length>3&&o.length<=6?r.slice(o.length+1,r.length):o.length>6&&o.length<=9?r.slice(o.length+2,r.length):o.length>9&&o.length<11?r.slice(o.length+3,r.length):o.length===11?"":o.length===12?e.length===17?i.slice(16,i.length):i.slice(15,i.length):o.length>12&&o.length<=14?i.slice(o.length+4,i.length):""}_getActiveElement(e=this.document){let r=e?.activeElement?.shadowRoot;return r?.activeElement?this._getActiveElement(r):e.activeElement}formControlResult(e){if(this.writingValue&&!e){this.onChange(this.outputTransformFn(null));return}if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged){this.triggerOnMaskChange&&this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))),this.writingValue=!1,this.maskChanged=!1;return}Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===e?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))):this.onChange(this.outputTransformFn(this._toNumber(e)))}_toNumber(e){if(!this.isNumberValue||e===v.EMPTY_STRING||this.maskExpression.startsWith(v.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return e;if(String(e).length>14&&this.maskExpression.startsWith(v.SEPARATOR))return String(e);let r=Number(e);if(this.maskExpression.startsWith(v.SEPARATOR)&&Number.isNaN(r)){let i=String(e).replace(",",".");return Number(i)}return Number.isNaN(r)?e:r}_removeMask(e,r){return this.maskExpression.startsWith(v.PERCENT)&&e.includes(v.DOT)?e:e&&e.replace(this._regExpForRemove(r),v.EMPTY_STRING)}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,v.EMPTY_STRING):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,v.EMPTY_STRING):e}_retrieveSeparatorValue(e){let r=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(i=>this.dropSpecialCharacters.includes(i)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&e.includes(v.WHITE_SPACE)&&this.maskExpression.includes(v.SYMBOL_STAR)&&(r=r.filter(i=>i!==v.WHITE_SPACE)),this._removeMask(e,r)}_regExpForRemove(e){return new RegExp(e.map(r=>`\\${r}`).join("|"),"gi")}_replaceDecimalMarkerToDot(e){let r=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return e.replace(this._regExpForRemove(r),v.DOT)}_checkSymbols(e){let r=e;if(r===v.EMPTY_STRING)return r;this.maskExpression.startsWith(v.PERCENT)&&this.decimalMarker===v.COMMA&&(r=r.replace(v.COMMA,v.DOT));let i=this._retrieveSeparatorPrecision(this.maskExpression),o=this.specialCharacters.length===0?this._retrieveSeparatorValue(r):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(r));return this.isNumberValue&&i?r===this.decimalMarker?null:o.length>14?String(o):this._checkPrecision(this.maskExpression,o):o}_checkPatternForSpace(){for(let e in this.patterns)if(this.patterns[e]&&this.patterns[e]?.hasOwnProperty("pattern")){let r=this.patterns[e]?.pattern.toString(),i=this.patterns[e]?.pattern;if(r?.includes(v.WHITE_SPACE)&&i?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(e){let r=e.match(new RegExp("^separator\\.([^d]*)"));return r?Number(r[1]):null}_checkPrecision(e,r){let i=this.getPrecision(e),o=r;return e.indexOf("2")>0||this.leadZero&&Number(i)>0?(this.decimalMarker===v.COMMA&&this.leadZero&&(o=o.replace(",",".")),this.leadZero?Number(o).toFixed(Number(i)):Number(o).toFixed(2)):this.numberToString(o)}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split(v.EMPTY_STRING).reduce((r,i,o)=>{if(this._start=i===v.CURLY_BRACKETS_LEFT?o:this._start,i!==v.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(i)?r+i:r;this._end=o;let s=Number(e.slice(this._start+1,this._end)),a=new Array(s+1).join(e[this._start-1]);if(e.slice(0,this._start).length>1&&e.includes(v.LETTER_S)){let l=e.slice(0,this._start-1);return l.includes(v.CURLY_BRACKETS_LEFT)?r+a:l+r+a}else return r+a},"")||e}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Gt(t)))(i||t)}})();static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();function nA(){let t=D(g0),n=D(p0);return n instanceof Function?E(E({},t),n()):E(E({},t),n)}function rA(t){return[{provide:p0,useValue:t},{provide:g0,useValue:XM},{provide:xh,useFactory:nA},tA]}function m0(t){return ao(rA(t))}function iA(t){return()=>t.initSession()}Bv(Zl,{providers:[ky(h0),m0(),{provide:si,useFactory:iA,deps:[Qt],multi:!0}]});export{iA as initSessionFactory};
