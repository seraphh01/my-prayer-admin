import{b as Hf,c as zf,f as h_,g as Gf}from"./chunk-LJ5XHLMQ.js";import{a as D,b as q,d as Bt,f as d_,g as f_,h as f}from"./chunk-FK42CRUA.js";var uf=Bt(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});var lf=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};cf.default=lf});var ff=Bt(ho=>{"use strict";var Fy=ho&&ho.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ho,"__esModule",{value:!0});var gI=Fy((Gf(),f_(h_))),mI=Fy(uf()),df=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=gI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=Object.assign({},this.headers),this.headers[n]=e,this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>f(this,null,function*(){var s,a,l;let c=null,u=null,d=null,m=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let O=yield o.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=O:u=JSON.parse(O))}let E=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),A=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");E&&A&&A.length>1&&(d=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,m=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let E=yield o.text();try{c=JSON.parse(E),Array.isArray(c)&&o.status===404&&(u=[],c=null,m=200,g="OK")}catch{o.status===404&&E===""?(m=204,g="No Content"):c={message:E}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,g="OK"),c&&this.shouldThrowOnError)throw new mI.default(c)}return{error:c,data:u,count:d,status:m,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}};ho.default=df});var pf=Bt(po=>{"use strict";var yI=po&&po.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(po,"__esModule",{value:!0});var vI=yI(ff()),hf=class extends vI.default{select(n){let e=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};po.default=hf});var Ya=Bt(go=>{"use strict";var _I=go&&go.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(go,"__esModule",{value:!0});var wI=_I(pf()),gf=class extends wI.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};go.default=gf});var yf=Bt(yo=>{"use strict";var DI=yo&&yo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});var mo=DI(Ya()),mf=class{constructor(n,{headers:e={},schema:r,fetch:i}){this.url=n,this.headers=e,this.schema=r,this.fetch=i}select(n,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new mo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new mo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new mo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new mo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let e="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new mo.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yo.default=mf});var Ly=Bt(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.version=void 0;Qa.version="0.0.0-automated"});var Vy=Bt(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.DEFAULT_HEADERS=void 0;var CI=Ly();Ka.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${CI.version}`}});var By=Bt(vo=>{"use strict";var jy=vo&&vo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vo,"__esModule",{value:!0});var bI=jy(yf()),EI=jy(Ya()),SI=Vy(),vf=class t{constructor(n,{headers:e={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},SI.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(n){let e=new URL(`${this.url}/${n}`);return new bI.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=e);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new EI.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};vo.default=vf});var Wy=Bt(Pe=>{"use strict";var ei=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;var $y=ei(By());Pe.PostgrestClient=$y.default;var Uy=ei(yf());Pe.PostgrestQueryBuilder=Uy.default;var Hy=ei(Ya());Pe.PostgrestFilterBuilder=Hy.default;var zy=ei(pf());Pe.PostgrestTransformBuilder=zy.default;var Gy=ei(ff());Pe.PostgrestBuilder=Gy.default;var qy=ei(uf());Pe.PostgrestError=qy.default;Pe.default={PostgrestClient:$y.default,PostgrestQueryBuilder:Uy.default,PostgrestFilterBuilder:Hy.default,PostgrestTransformBuilder:zy.default,PostgrestBuilder:Gy.default,PostgrestError:qy.default}});function Gl(t,n){return Object.is(t,n)}var be=null,$o=!1,ql=1,Ge=Symbol("SIGNAL");function J(t){let n=be;return be=t,n}function qf(){return be}var vi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ho(t){if($o)throw new Error("");if(be===null)return;be.consumerOnSignalRead(t);let n=be.nextProducerIndex++;if(qo(be),n<be.producerNode.length&&be.producerNode[n]!==t&&yi(be)){let e=be.producerNode[n];Go(e,be.producerIndexOfThis[n])}be.producerNode[n]!==t&&(be.producerNode[n]=t,be.producerIndexOfThis[n]=yi(be)?Yf(t,be,n):0),be.producerLastReadVersion[n]=t.version}function p_(){ql++}function Wl(t){if(!(yi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ql)){if(!t.producerMustRecompute(t)&&!Yl(t)){zl(t);return}t.producerRecomputeValue(t),zl(t)}}function Wf(t){if(t.liveConsumerNode===void 0)return;let n=$o;$o=!0;try{for(let e of t.liveConsumerNode)e.dirty||g_(e)}finally{$o=n}}function Zf(){return be?.consumerAllowSignalWrites!==!1}function g_(t){t.dirty=!0,Wf(t),t.consumerMarkedDirty?.(t)}function zl(t){t.dirty=!1,t.lastCleanEpoch=ql}function zo(t){return t&&(t.nextProducerIndex=0),J(t)}function Zl(t,n){if(J(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(yi(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Go(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Yl(t){qo(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(Wl(e),r!==e.version))return!0}return!1}function Ql(t){if(qo(t),yi(t))for(let n=0;n<t.producerNode.length;n++)Go(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yf(t,n,e){if(Qf(t),t.liveConsumerNode.length===0&&Kf(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Yf(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Go(t,n){if(Qf(t),t.liveConsumerNode.length===1&&Kf(t))for(let r=0;r<t.producerNode.length;r++)Go(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];qo(i),i.producerIndexOfThis[r]=n}}function yi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Qf(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Kf(t){return t.producerNode!==void 0}function Jf(t){let n=Object.create(m_);n.computation=t;let e=()=>{if(Wl(n),Ho(n),n.value===Uo)throw n.error;return n.value};return e[Ge]=n,e}var Ul=Symbol("UNSET"),Hl=Symbol("COMPUTING"),Uo=Symbol("ERRORED"),m_=q(D({},vi),{value:Ul,dirty:!0,error:null,equal:Gl,producerMustRecompute(t){return t.value===Ul||t.value===Hl},producerRecomputeValue(t){if(t.value===Hl)throw new Error("Detected cycle in computations.");let n=t.value;t.value=Hl;let e=zo(t),r;try{r=t.computation()}catch(i){r=Uo,t.error=i}finally{Zl(t,e)}if(n!==Ul&&n!==Uo&&r!==Uo&&t.equal(n,r)){t.value=n;return}t.value=r,t.version++}});function y_(){throw new Error}var Xf=y_;function eh(){Xf()}function th(t){Xf=t}var v_=null;function nh(t){let n=Object.create(Kl);n.value=t;let e=()=>(Ho(n),n.value);return e[Ge]=n,e}function Wo(t,n){Zf()||eh(),t.equal(t.value,n)||(t.value=n,__(t))}function rh(t,n){Zf()||eh(),Wo(t,n(t.value))}var Kl=q(D({},vi),{equal:Gl,value:void 0});function __(t){t.version++,p_(),Wf(t),v_?.()}function V(t){return typeof t=="function"}function cr(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Zo=cr(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function _i(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var ye=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(o){n=o instanceof Zo?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ih(o)}catch(s){n=n??[],s instanceof Zo?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Zo(n)}}add(n){var e;if(n&&n!==this)if(this.closed)ih(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&_i(e,n)}remove(n){let{_finalizers:e}=this;e&&_i(e,n),n instanceof t&&n._removeParent(this)}};ye.EMPTY=(()=>{let t=new ye;return t.closed=!0,t})();var Jl=ye.EMPTY;function Yo(t){return t instanceof ye||t&&"closed"in t&&V(t.remove)&&V(t.add)&&V(t.unsubscribe)}function ih(t){V(t)?t():t.unsubscribe()}var ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ur={setTimeout(t,n,...e){let{delegate:r}=ur;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=ur;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qo(t){ur.setTimeout(()=>{let{onUnhandledError:n}=ct;if(n)n(t);else throw t})}function wi(){}var oh=Xl("C",void 0,void 0);function sh(t){return Xl("E",void 0,t)}function ah(t){return Xl("N",t,void 0)}function Xl(t,n,e){return{kind:t,value:n,error:e}}var xn=null;function dr(t){if(ct.useDeprecatedSynchronousErrorHandling){let n=!xn;if(n&&(xn={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=xn;if(xn=null,e)throw r}}else t()}function lh(t){ct.useDeprecatedSynchronousErrorHandling&&xn&&(xn.errorThrown=!0,xn.error=t)}var Tn=class extends ye{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Yo(n)&&n.add(this)):this.destination=C_}static create(n,e,r){return new fr(n,e,r)}next(n){this.isStopped?tc(ah(n),this):this._next(n)}error(n){this.isStopped?tc(sh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?tc(oh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},w_=Function.prototype.bind;function ec(t,n){return w_.call(t,n)}var nc=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Ko(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Ko(r)}else Ko(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ko(e)}}},fr=class extends Tn{constructor(n,e,r){super();let i;if(V(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&ct.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&ec(n.next,o),error:n.error&&ec(n.error,o),complete:n.complete&&ec(n.complete,o)}):i=n}this.destination=new nc(i)}};function Ko(t){ct.useDeprecatedSynchronousErrorHandling?lh(t):Qo(t)}function D_(t){throw t}function tc(t,n){let{onStoppedNotification:e}=ct;e&&ur.setTimeout(()=>e(t,n))}var C_={closed:!0,next:wi,error:D_,complete:wi};var hr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qe(t){return t}function rc(...t){return ic(t)}function ic(t){return t.length===0?qe:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var X=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=E_(e)?e:new fr(e,r,i);return dr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=ch(r),new r((i,o)=>{let s=new fr({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[hr](){return this}pipe(...e){return ic(e)(this)}toPromise(e){return e=ch(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function ch(t){var n;return(n=t??ct.Promise)!==null&&n!==void 0?n:Promise}function b_(t){return t&&V(t.next)&&V(t.error)&&V(t.complete)}function E_(t){return t&&t instanceof Tn||b_(t)&&Yo(t)}function oc(t){return V(t?.lift)}function K(t){return n=>{if(oc(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,n,e,r,i){return new sc(t,n,e,r,i)}var sc=class extends Tn{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function pr(){return K((t,n)=>{let e=null;t._refCount++;let r=Y(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var gr=class extends X{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,oc(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ye;let e=this.getSubject();n.add(this.source.subscribe(Y(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ye.EMPTY)}return n}refCount(){return pr()(this)}};var uh=cr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=(()=>{class t extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Jo(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new uh}next(e){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jl:(this.currentObservers=null,o.push(e),new ye(()=>{this.currentObservers=null,_i(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new X;return e.source=this,e}}return t.create=(n,e)=>new Jo(n,e),t})(),Jo=class extends Ee{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:Jl}};var Ne=class extends Ee{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var We=new X(t=>t.complete());function dh(t){return t&&V(t.schedule)}function fh(t){return t[t.length-1]}function Xo(t){return V(fh(t))?t.pop():void 0}function sn(t){return dh(fh(t))?t.pop():void 0}function ph(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}function hh(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mn(t){return this instanceof Mn?(this.v=t,this):new Mn(t)}function gh(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,d)}}function a(g,_){r[g]&&(i[g]=function(E){return new Promise(function(A,O){o.push([g,E,A,O])>1||l(g,E)})},_&&(i[g]=_(i[g])))}function l(g,_){try{c(r[g](_))}catch(E){m(o[0][3],E)}}function c(g){g.value instanceof Mn?Promise.resolve(g.value.v).then(u,d):m(o[0][2],g)}function u(g){l("next",g)}function d(g){l("throw",g)}function m(g,_){g(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function mh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof hh=="function"?hh(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var es=t=>t&&typeof t.length=="number"&&typeof t!="function";function ts(t){return V(t?.then)}function ns(t){return V(t[hr])}function rs(t){return Symbol.asyncIterator&&V(t?.[Symbol.asyncIterator])}function is(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function S_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var os=S_();function ss(t){return V(t?.[os])}function as(t){return gh(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield Mn(e.read());if(i)return yield Mn(void 0);yield yield Mn(r)}}finally{e.releaseLock()}})}function ls(t){return V(t?.getReader)}function ve(t){if(t instanceof X)return t;if(t!=null){if(ns(t))return I_(t);if(es(t))return x_(t);if(ts(t))return T_(t);if(rs(t))return yh(t);if(ss(t))return M_(t);if(ls(t))return A_(t)}throw is(t)}function I_(t){return new X(n=>{let e=t[hr]();if(V(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function x_(t){return new X(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function T_(t){return new X(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Qo)})}function M_(t){return new X(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function yh(t){return new X(n=>{N_(t,n).catch(e=>n.error(e))})}function A_(t){return yh(as(t))}function N_(t,n){var e,r,i,o;return ph(this,void 0,void 0,function*(){try{for(e=mh(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function Ue(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cs(t,n=0){return K((e,r)=>{e.subscribe(Y(r,i=>Ue(r,t,()=>r.next(i),n),()=>Ue(r,t,()=>r.complete(),n),i=>Ue(r,t,()=>r.error(i),n)))})}function us(t,n=0){return K((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function vh(t,n){return ve(t).pipe(us(n),cs(n))}function _h(t,n){return ve(t).pipe(us(n),cs(n))}function wh(t,n){return new X(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function Dh(t,n){return new X(e=>{let r;return Ue(e,n,()=>{r=t[os](),Ue(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function ds(t,n){if(!t)throw new Error("Iterable cannot be null");return new X(e=>{Ue(e,n,()=>{let r=t[Symbol.asyncIterator]();Ue(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ch(t,n){return ds(as(t),n)}function bh(t,n){if(t!=null){if(ns(t))return vh(t,n);if(es(t))return wh(t,n);if(ts(t))return _h(t,n);if(rs(t))return ds(t,n);if(ss(t))return Dh(t,n);if(ls(t))return Ch(t,n)}throw is(t)}function fe(t,n){return n?bh(t,n):ve(t)}function B(...t){let n=sn(t);return fe(t,n)}function mr(t,n){let e=V(t)?t:()=>t,r=i=>i.error(e());return new X(n?i=>n.schedule(r,0,i):r)}function ac(t){return!!t&&(t instanceof X||V(t.lift)&&V(t.subscribe))}var $t=cr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,n){return K((e,r)=>{let i=0;e.subscribe(Y(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:R_}=Array;function O_(t,n){return R_(n)?t(...n):t(n)}function fs(t){return W(n=>O_(t,n))}var{isArray:P_}=Array,{getPrototypeOf:k_,prototype:F_,keys:L_}=Object;function hs(t){if(t.length===1){let n=t[0];if(P_(n))return{args:n,keys:null};if(V_(n)){let e=L_(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function V_(t){return t&&typeof t=="object"&&k_(t)===F_}function ps(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function gs(...t){let n=sn(t),e=Xo(t),{args:r,keys:i}=hs(t);if(r.length===0)return fe([],n);let o=new X(j_(r,n,i?s=>ps(i,s):qe));return e?o.pipe(fs(e)):o}function j_(t,n,e=qe){return r=>{Eh(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Eh(n,()=>{let c=fe(t[l],n),u=!1;c.subscribe(Y(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Eh(t,n,e){t?Ue(e,t,n):n()}function Sh(t,n,e,r,i,o,s,a){let l=[],c=0,u=0,d=!1,m=()=>{d&&!l.length&&!c&&n.complete()},g=E=>c<r?_(E):l.push(E),_=E=>{o&&n.next(E),c++;let A=!1;ve(e(E,u++)).subscribe(Y(n,O=>{i?.(O),o?g(O):n.next(O)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;l.length&&c<r;){let O=l.shift();s?Ue(n,s,()=>_(O)):_(O)}m()}catch(O){n.error(O)}}))};return t.subscribe(Y(n,g,()=>{d=!0,m()})),()=>{a?.()}}function Se(t,n,e=1/0){return V(n)?Se((r,i)=>W((o,s)=>n(r,o,i,s))(ve(t(r,i))),e):(typeof n=="number"&&(e=n),K((r,i)=>Sh(r,i,t,e)))}function lc(t=1/0){return Se(qe,t)}function Ih(){return lc(1)}function yr(...t){return Ih()(fe(t,sn(t)))}function ms(t){return new X(n=>{ve(t()).subscribe(n)})}function cc(...t){let n=Xo(t),{args:e,keys:r}=hs(t),i=new X(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;ve(e[u]).subscribe(Y(o,m=>{d||(d=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?ps(r,a):a),o.complete())}))}});return n?i.pipe(fs(n)):i}function ut(t,n){return K((e,r)=>{let i=0;e.subscribe(Y(r,o=>t.call(n,o,i++)&&r.next(o)))})}function an(t){return K((n,e)=>{let r=null,i=!1,o;r=n.subscribe(Y(e,void 0,void 0,s=>{o=ve(t(s,an(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function xh(t,n,e,r,i){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(Y(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function vr(t,n){return V(n)?Se(t,n,1):Se(t,1)}function ln(t){return K((n,e)=>{let r=!1;n.subscribe(Y(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Ut(t){return t<=0?()=>We:K((n,e)=>{let r=0;n.subscribe(Y(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function uc(t){return W(()=>t)}function ys(t=B_){return K((n,e)=>{let r=!1;n.subscribe(Y(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function B_(){return new $t}function Di(t){return K((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Ht(t,n){let e=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):qe,Ut(1),e?ln(n):ys(()=>new $t))}function _r(t){return t<=0?()=>We:K((n,e)=>{let r=[];n.subscribe(Y(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function dc(t,n){let e=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):qe,_r(1),e?ln(n):ys(()=>new $t))}function fc(t,n){return K(xh(t,n,arguments.length>=2,!0))}function hc(...t){let n=sn(t);return K((e,r)=>{(n?yr(t,e,n):yr(t,e)).subscribe(r)})}function dt(t,n){return K((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(Y(r,l=>{i?.unsubscribe();let c=0,u=o++;ve(t(l,u)).subscribe(i=Y(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pc(t){return K((n,e)=>{ve(t).subscribe(Y(e,()=>e.complete(),wi)),!e.closed&&n.subscribe(e)})}function Re(t,n,e){let r=V(t)||n||e?{next:t,error:n,complete:e}:t;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Y(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):qe}var mp="https://g.co/ng/security#xss",R=class extends Error{code;constructor(n,e){super(wu(n,e)),this.code=n}};function wu(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}var yp=Symbol("InputSignalNode#UNSET"),$_=q(D({},Kl),{transformFn:void 0,applyValueToInputSignal(t,n){Wo(t,n)}});function vp(t,n){let e=Object.create($_);e.value=t,e.transformFn=n?.transform;function r(){if(Ho(e),e.value===yp)throw new R(-950,!1);return e.value}return r[Ge]=e,r}function Pi(t){return{toString:t}.toString()}var vs="__parameters__";function U_(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function _p(t,n,e){return Pi(()=>{let r=U_(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(vs)?l[vs]:Object.defineProperty(l,vs,{value:[]})[vs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var xc=globalThis;function ne(t){for(let n in t)if(t[n]===ne)return n;throw Error("Could not find renamed property on target object.")}function H_(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Be(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Be).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function Th(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var z_=ne({__forward_ref__:ne});function qt(t){return t.__forward_ref__=qt,t.toString=function(){return Be(this())},t}function je(t){return wp(t)?t():t}function wp(t){return typeof t=="function"&&t.hasOwnProperty(z_)&&t.__forward_ref__===qt}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Js(t){return Mh(t,Cp)||Mh(t,bp)}function Dp(t){return Js(t)!==null}function Mh(t,n){return t.hasOwnProperty(n)?t[n]:null}function G_(t){let n=t&&(t[Cp]||t[bp]);return n||null}function Ah(t){return t&&(t.hasOwnProperty(Nh)||t.hasOwnProperty(q_))?t[Nh]:null}var Cp=ne({\u0275prov:ne}),Nh=ne({\u0275inj:ne}),bp=ne({ngInjectableDef:ne}),q_=ne({ngInjectorDef:ne}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ep(t){return t&&!!t.\u0275providers}var W_=ne({\u0275cmp:ne}),Z_=ne({\u0275dir:ne}),Y_=ne({\u0275pipe:ne}),Q_=ne({\u0275mod:ne}),xs=ne({\u0275fac:ne}),Si=ne({__NG_ELEMENT_ID__:ne}),Rh=ne({__NG_ENV_ID__:ne});function Sr(t){return typeof t=="string"?t:t==null?"":String(t)}function K_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Sr(t)}function J_(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new R(-200,t)}function Du(t,n){throw new R(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),Tc;function Sp(){return Tc}function Xe(t){let n=Tc;return Tc=t,n}function Ip(t,n,e){let r=Js(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&z.Optional)return null;if(n!==void 0)return n;Du(t,"Injector")}var X_={},Ii=X_,Mc="__NG_DI_FLAG__",Ts="ngTempTokenPath",e0="ngTokenPath",t0=/\n/gm,n0="\u0275",Oh="__source",br;function r0(){return br}function cn(t){let n=br;return br=t,n}function i0(t,n=z.Default){if(br===void 0)throw new R(-203,!1);return br===null?Ip(t,void 0,n):br.get(t,n&z.Optional?null:void 0,n)}function N(t,n=z.Default){return(Sp()||i0)(je(t),n)}function b(t,n=z.Default){return N(t,Xs(n))}function Xs(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ac(t){let n=[];for(let e=0;e<t.length;e++){let r=je(t[e]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,o=z.Default;for(let s=0;s<r.length;s++){let a=r[s],l=o0(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(N(i,o))}else n.push(N(r))}return n}function xp(t,n){return t[Mc]=n,t.prototype[Mc]=n,t}function o0(t){return t[Mc]}function s0(t,n,e,r){let i=t[Ts];throw n[Oh]&&i.unshift(n[Oh]),t.message=a0(`
`+t.message,i,e,r),t[e0]=i,t[Ts]=null,t}function a0(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==n0?t.slice(2):t;let i=Be(n);if(Array.isArray(n))i=n.map(Be).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Be(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(t0,`
  `)}`}var ea=xp(_p("Optional"),8);var Cu=xp(_p("SkipSelf"),4);function Ir(t,n){let e=t.hasOwnProperty(xs);return e?t[xs]:null}function bu(t,n){t.forEach(e=>Array.isArray(e)?bu(e,n):n(e))}function Tp(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ms(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function l0(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function c0(t,n,e){let r=ki(t,n);return r>=0?t[r|1]=e:(r=~r,l0(t,r,n,e)),r}function gc(t,n){let e=ki(t,n);if(e>=0)return t[e|1]}function ki(t,n){return u0(t,n,1)}function u0(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var xr={},et=[],Tr=new P(""),Mp=new P("",-1),Ap=new P(""),As=class{get(n,e=Ii){if(e===Ii){let r=new Error(`NullInjectorError: No provider for ${Be(n)}!`);throw r.name="NullInjectorError",r}return e}};function Np(t,n){let e=t[Q_]||null;if(!e&&n===!0)throw new Error(`Type ${Be(t)} does not have '\u0275mod' property.`);return e}function Nn(t){return t[W_]||null}function Rp(t){return t[Z_]||null}function Op(t){return t[Y_]||null}function Pp(t){let n=Nn(t)||Rp(t)||Op(t);return n!==null?n.standalone:!1}function Eu(t){return{\u0275providers:t}}function d0(...t){return{\u0275providers:kp(!0,t),\u0275fromNgModule:!0}}function kp(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return bu(n,s=>{let a=s;Nc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Fp(i,o),e}function Fp(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];Su(i,o=>{n(o,r)})}}function Nc(t,n,e,r){if(t=je(t),!t)return!1;let i=null,o=Ah(t),s=!o&&Nn(t);if(!o&&!s){let l=t.ngModule;if(o=Ah(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Nc(c,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{bu(o.imports,u=>{Nc(u,n,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Fp(c,n)}if(!a){let c=Ir(i)||(()=>new i);n({provide:i,useFactory:c,deps:et},i),n({provide:Ap,useValue:i,multi:!0},i),n({provide:Tr,useValue:()=>N(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Su(l,u=>{n(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Su(t,n){for(let e of t)Ep(e)&&(e=e.\u0275providers),Array.isArray(e)?Su(e,n):n(e)}var f0=ne({provide:String,useValue:ne});function Lp(t){return t!==null&&typeof t=="object"&&f0 in t}function h0(t){return!!(t&&t.useExisting)}function p0(t){return!!(t&&t.useFactory)}function Mr(t){return typeof t=="function"}function g0(t){return!!t.useClass}var ta=new P(""),Cs={},m0={},mc;function Iu(){return mc===void 0&&(mc=new As),mc}var nt=class{},xi=class extends nt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Oc(n,s=>this.processProvider(s)),this.records.set(Mp,wr(void 0,this)),i.has("environment")&&this.records.set(nt,wr(void 0,this));let o=this.records.get(ta);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ap,et,z.Self))}destroy(){bi(this),this._destroyed=!0;let n=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(n)}}onDestroy(n){return bi(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){bi(this);let e=cn(this),r=Xe(void 0),i;try{return n()}finally{cn(e),Xe(r)}}get(n,e=Ii,r=z.Default){if(bi(this),n.hasOwnProperty(Rh))return n[Rh](this);r=Xs(r);let i,o=cn(this),s=Xe(void 0);try{if(!(r&z.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=D0(n)&&Js(n);c&&this.injectableDefInScope(c)?l=wr(Rc(n),Cs):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&z.Self?Iu():this.parent;return e=r&z.Optional&&e===Ii?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Ts]=a[Ts]||[]).unshift(Be(n)),o)throw a;return s0(a,n,"R3InjectorError",this.source)}else throw a}finally{Xe(s),cn(o)}}resolveInjectorInitializers(){let n=J(null),e=cn(this),r=Xe(void 0),i;try{let o=this.get(Tr,et,z.Self);for(let s of o)s()}finally{cn(e),Xe(r),J(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(Be(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=je(n);let e=Mr(n)?n:je(n&&n.provide),r=v0(n);if(!Mr(n)&&n.multi===!0){let i=this.records.get(e);i||(i=wr(void 0,Cs,!0),i.factory=()=>Ac(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){let r=J(null);try{return e.value===Cs&&(e.value=m0,e.value=e.factory()),typeof e.value=="object"&&e.value&&w0(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{J(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=je(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Rc(t){let n=Js(t),e=n!==null?n.factory:Ir(t);if(e!==null)return e;if(t instanceof P)throw new R(204,!1);if(t instanceof Function)return y0(t);throw new R(204,!1)}function y0(t){if(t.length>0)throw new R(204,!1);let e=G_(t);return e!==null?()=>e.factory(t):()=>new t}function v0(t){if(Lp(t))return wr(void 0,t.useValue);{let n=Vp(t);return wr(n,Cs)}}function Vp(t,n,e){let r;if(Mr(t)){let i=je(t);return Ir(i)||Rc(i)}else if(Lp(t))r=()=>je(t.useValue);else if(p0(t))r=()=>t.useFactory(...Ac(t.deps||[]));else if(h0(t))r=()=>N(je(t.useExisting));else{let i=je(t&&(t.useClass||t.provide));if(_0(t))r=()=>new i(...Ac(t.deps));else return Ir(i)||Rc(i)}return r}function bi(t){if(t.destroyed)throw new R(205,!1)}function wr(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function _0(t){return!!t.deps}function w0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function D0(t){return typeof t=="function"||typeof t=="object"&&t instanceof P}function Oc(t,n){for(let e of t)Array.isArray(e)?Oc(e,n):e&&Ep(e)?Oc(e.\u0275providers,n):n(e)}function gt(t,n){t instanceof xi&&bi(t);let e,r=cn(t),i=Xe(void 0);try{return n()}finally{cn(r),Xe(i)}}function C0(){return Sp()!==void 0||r0()!=null}function b0(t){return typeof t=="function"}var Wt=0,Q=1,k=2,$e=3,ht=4,mt=5,Ns=6,Rs=7,pt=8,Ar=9,zt=10,he=11,Ti=12,Ph=13,Vr=14,St=15,Nr=16,Dr=17,Rr=18,na=19,jp=20,un=21,yc=22,Os=23,Ze=24,It=25,Bp=1;var Rn=7,Ps=8,ks=9,tt=10,Fs=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Fs||{});function dn(t){return Array.isArray(t)&&typeof t[Bp]=="object"}function Zt(t){return Array.isArray(t)&&t[Bp]===!0}function xu(t){return(t.flags&4)!==0}function ra(t){return t.componentOffset>-1}function ia(t){return(t.flags&1)===1}function fn(t){return!!t.template}function Pc(t){return(t[k]&512)!==0}var kc=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function $p(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var jr=(()=>{let t=()=>Up;return t.ngInherit=!0,t})();function Up(t){return t.type.prototype.ngOnChanges&&(t.setInput=S0),E0}function E0(){let t=zp(this),n=t?.current;if(n){let e=t.previous;if(e===xr)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function S0(t,n,e,r,i){let o=this.declaredInputs[r],s=zp(t)||I0(t,{previous:xr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new kc(c&&c.currentValue,e,l===xr),$p(t,n,i,e)}var Hp="__ngSimpleChanges__";function zp(t){return t[Hp]||null}function I0(t,n){return t[Hp]=n}var kh=null;var bt=function(t,n,e){kh?.(t,n,e)},x0="svg",T0="math";function xt(t){for(;Array.isArray(t);)t=t[Wt];return t}function Gp(t,n){return xt(n[t])}function rt(t,n){return xt(n[t.index])}function qp(t,n){return t.data[n]}function M0(t,n){return t[n]}function _n(t,n){let e=n[t];return dn(e)?e:e[Wt]}function Tu(t){return(t[k]&128)===128}function A0(t){return Zt(t[$e])}function Or(t,n){return n==null?null:t[n]}function Wp(t){t[Dr]=0}function Mu(t){t[k]&1024||(t[k]|=1024,Tu(t)&&sa(t))}function N0(t,n){for(;t>0;)n=n[Vr],t--;return n}function oa(t){return!!(t[k]&9216||t[Ze]?.dirty)}function Fc(t){t[zt].changeDetectionScheduler?.notify(9),t[k]&64&&(t[k]|=1024),oa(t)&&sa(t)}function sa(t){t[zt].changeDetectionScheduler?.notify(0);let n=On(t);for(;n!==null&&!(n[k]&8192||(n[k]|=8192,!Tu(n)));)n=On(n)}function Zp(t,n){if((t[k]&256)===256)throw new R(911,!1);t[un]===null&&(t[un]=[]),t[un].push(n)}function R0(t,n){if(t[un]===null)return;let e=t[un].indexOf(n);e!==-1&&t[un].splice(e,1)}function On(t){let n=t[$e];return Zt(n)?n[$e]:n}var G={lFrame:rg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Lc=!1;function O0(){return G.lFrame.elementDepthCount}function P0(){G.lFrame.elementDepthCount++}function k0(){G.lFrame.elementDepthCount--}function Yp(){return G.bindingsEnabled}function F0(){return G.skipHydrationRootTNode!==null}function L0(t){return G.skipHydrationRootTNode===t}function V0(){G.skipHydrationRootTNode=null}function te(){return G.lFrame.lView}function Fe(){return G.lFrame.tView}function I(t){return G.lFrame.contextLView=t,t[pt]}function x(t){return G.lFrame.contextLView=null,t}function Le(){let t=Qp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Qp(){return G.lFrame.currentTNode}function j0(){let t=G.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function jn(t,n){let e=G.lFrame;e.currentTNode=t,e.isParent=n}function Au(){return G.lFrame.isParent}function Kp(){G.lFrame.isParent=!1}function B0(){return G.lFrame.contextLView}function Jp(){return Lc}function Fh(t){let n=Lc;return Lc=t,n}function $0(){let t=G.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function U0(){return G.lFrame.bindingIndex}function H0(t){return G.lFrame.bindingIndex=t}function aa(){return G.lFrame.bindingIndex++}function Xp(t){let n=G.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function z0(){return G.lFrame.inI18n}function G0(t,n){let e=G.lFrame;e.bindingIndex=e.bindingRootIndex=t,Vc(n)}function q0(){return G.lFrame.currentDirectiveIndex}function Vc(t){G.lFrame.currentDirectiveIndex=t}function W0(t){let n=G.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function eg(t){G.lFrame.currentQueryIndex=t}function Z0(t){let n=t[Q];return n.type===2?n.declTNode:n.type===1?t[mt]:null}function tg(t,n,e){if(e&z.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&z.Host);)if(i=Z0(o),i===null||(o=o[Vr],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=G.lFrame=ng();return r.currentTNode=n,r.lView=t,!0}function Nu(t){let n=ng(),e=t[Q];G.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function ng(){let t=G.lFrame,n=t===null?null:t.child;return n===null?rg(t):n}function rg(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function ig(){let t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var og=ig;function Ru(){let t=ig();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Y0(t){return(G.lFrame.contextLView=N0(t,G.lFrame.contextLView))[pt]}function Bn(){return G.lFrame.selectedIndex}function Pn(t){G.lFrame.selectedIndex=t}function la(){let t=G.lFrame;return qp(t.tView,t.selectedIndex)}function Q0(){return G.lFrame.currentNamespace}var sg=!0;function ca(){return sg}function ua(t){sg=t}function K0(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Up(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function da(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function bs(t,n,e){ag(t,n,3,e)}function Es(t,n,e,r){(t[k]&3)===e&&ag(t,n,e,r)}function vc(t,n){let e=t[k];(e&3)===n&&(e&=16383,e+=1,t[k]=e)}function ag(t,n,e,r){let i=r!==void 0?t[Dr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[Dr]+=65536),(a<o||o==-1)&&(J0(t,e,n,l),t[Dr]=(t[Dr]&4294901760)+l+2),l++}function Lh(t,n){bt(4,t,n);let e=J(null);try{n.call(t)}finally{J(e),bt(5,t,n)}}function J0(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[k]>>14<t[Dr]>>16&&(t[k]&3)===n&&(t[k]+=16384,Lh(a,o)):Lh(a,o)}var Er=-1,kn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function X0(t){return t instanceof kn}function ew(t){return(t.flags&8)!==0}function tw(t){return(t.flags&16)!==0}function jc(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];nw(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function lg(t){return t===3||t===4||t===6}function nw(t){return t.charCodeAt(0)===64}function Mi(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?Vh(t,e,i,null,n[++r]):Vh(t,e,i,null,null))}}return t}function Vh(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var _c={},Bc=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=Xs(r);let i=this.injector.get(n,_c,r);return i!==_c||e===_c?i:this.parentInjector.get(n,e,r)}};function cg(t){return t!==Er}function Ls(t){return t&32767}function rw(t){return t>>16}function Vs(t,n){let e=rw(t),r=n;for(;e>0;)r=r[Vr],e--;return r}var $c=!0;function jh(t){let n=$c;return $c=t,n}var iw=256,ug=iw-1,dg=5,ow=0,Et={};function sw(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Si)&&(r=e[Si]),r==null&&(r=e[Si]=ow++);let i=r&ug,o=1<<i;n.data[t+(i>>dg)]|=o}function js(t,n){let e=fg(t,n);if(e!==-1)return e;let r=n[Q];r.firstCreatePass&&(t.injectorIndex=n.length,wc(r.data,t),wc(n,null),wc(r.blueprint,null));let i=Ou(t,n),o=t.injectorIndex;if(cg(i)){let s=Ls(i),a=Vs(i,n),l=a[Q].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function wc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function fg(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ou(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=yg(i),r===null)return Er;if(e++,i=i[Vr],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Er}function Uc(t,n,e){sw(t,n,e)}function aw(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(lg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function hg(t,n,e){if(e&z.Optional||t!==void 0)return t;Du(n,"NodeInjector")}function pg(t,n,e,r){if(e&z.Optional&&r===void 0&&(r=null),!(e&(z.Self|z.Host))){let i=t[Ar],o=Xe(void 0);try{return i?i.get(n,r,e&z.Optional):Ip(n,r,e&z.Optional)}finally{Xe(o)}}return hg(r,n,e)}function gg(t,n,e,r=z.Default,i){if(t!==null){if(n[k]&2048&&!(r&z.Self)){let s=fw(t,n,e,r,Et);if(s!==Et)return s}let o=mg(t,n,e,r,Et);if(o!==Et)return o}return pg(n,e,r,i)}function mg(t,n,e,r,i){let o=uw(e);if(typeof o=="function"){if(!tg(n,t,r))return r&z.Host?hg(i,e,r):pg(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&z.Optional))Du(e);else return s}finally{og()}}else if(typeof o=="number"){let s=null,a=fg(t,n),l=Er,c=r&z.Host?n[St][mt]:null;for((a===-1||r&z.SkipSelf)&&(l=a===-1?Ou(t,n):n[a+8],l===Er||!$h(r,!1)?a=-1:(s=n[Q],a=Ls(l),n=Vs(l,n)));a!==-1;){let u=n[Q];if(Bh(o,a,u.data)){let d=lw(a,n,e,s,r,c);if(d!==Et)return d}l=n[a+8],l!==Er&&$h(r,n[Q].data[a+8]===c)&&Bh(o,a,n)?(s=u,a=Ls(l),n=Vs(l,n)):a=-1}}return i}function lw(t,n,e,r,i,o){let s=n[Q],a=s.data[t+8],l=r==null?ra(a)&&$c:r!=s&&(a.type&3)!==0,c=i&z.Host&&o===a,u=cw(a,s,e,l,c);return u!==null?Pr(n,s,u,a):Et}function cw(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:c;for(let g=d;g<m;g++){let _=s[g];if(g<l&&e===_||g>=l&&_.type===e)return g}if(i){let g=s[l];if(g&&fn(g)&&g.type===e)return l}return null}function Pr(t,n,e,r){let i=t[e],o=n.data;if(X0(i)){let s=i;s.resolving&&J_(K_(o[e]));let a=jh(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Xe(s.injectImpl):null,u=tg(t,r,z.Default);try{i=t[e]=s.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&K0(e,o[e],n)}finally{c!==null&&Xe(c),jh(a),s.resolving=!1,og()}}return i}function uw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Si)?t[Si]:void 0;return typeof n=="number"?n>=0?n&ug:dw:n}function Bh(t,n,e){let r=1<<t;return!!(e[n+(t>>dg)]&r)}function $h(t,n){return!(t&z.Self)&&!(t&z.Host&&n)}var An=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return gg(this._tNode,this._lView,n,Xs(r),e)}};function dw(){return new An(Le(),te())}function wn(t){return Pi(()=>{let n=t.prototype.constructor,e=n[xs]||Hc(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xs]||Hc(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Hc(t){return wp(t)?()=>{let n=Hc(je(t));return n&&n()}:Ir(t)}function fw(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=mg(o,s,e,r|z.Self,Et);if(a!==Et)return a;let l=o.parent;if(!l){let c=s[jp];if(c){let u=c.get(e,Et,r);if(u!==Et)return u}l=yg(s),s=s[Vr]}o=l}return i}function yg(t){let n=t[Q],e=n.type;return e===2?n.declTNode:e===1?t[mt]:null}function Pu(t){return aw(Le(),t)}function Uh(t,n=null,e=null,r){let i=vg(t,n,e,r);return i.resolveInjectorInitializers(),i}function vg(t,n=null,e=null,r,i=new Set){let o=[e||et,d0(t)];return r=r||(typeof t=="object"?void 0:Be(t)),new xi(o,n||Iu(),r||null,i)}var Gt=class t{static THROW_IF_NOT_FOUND=Ii;static NULL=new As;static create(n,e){if(Array.isArray(n))return Uh({name:""},e,n,"");{let r=n.name??"";return Uh({name:r},n.parent,n.providers,r)}}static \u0275prov=S({token:t,providedIn:"any",factory:()=>N(Mp)});static __NG_ELEMENT_ID__=-1};var hw=new P("");hw.__NG_ELEMENT_ID__=t=>{let n=Le();if(n===null)throw new R(204,!1);if(n.type&2)return n.value;if(t&z.Optional)return null;throw new R(204,!1)};var _g=!1,wg=(()=>{class t{static __NG_ELEMENT_ID__=pw;static __NG_ENV_ID__=e=>e}return t})(),zc=class extends wg{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return Zp(this._lView,n),()=>R0(this._lView,n)}};function pw(){return new zc(te())}var Ai=class{},ku=new P("",{providedIn:"root",factory:()=>!1});var Dg=new P(""),Cg=new P(""),Br=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ne(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}return t})();var Gc=class extends Ee{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,C0()&&(this.destroyRef=b(wg,{optional:!0})??void 0,this.pendingTasks=b(Br,{optional:!0})??void 0)}emit(n){let e=J(null);try{super.next(n)}finally{J(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof ye&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},_e=Gc;function Bs(...t){}function bg(t){let n,e;function r(){t=Bs;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Hh(t){return queueMicrotask(()=>t()),()=>{t=Bs}}var Fu="isAngularZone",$s=Fu+"_ID",gw=0,Te=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _e(!1);onMicrotaskEmpty=new _e(!1);onStable=new _e(!1);onError=new _e(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_g}=n;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,vw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Fu)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,mw,Bs,Bs);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},mw={};function Lu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yw(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){bg(()=>{t.callbackScheduled=!1,qc(t),t.isCheckStableRunning=!0,Lu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),qc(t)}function vw(t){let n=()=>{yw(t)},e=gw++;t._inner=t._inner.fork({name:"angular",properties:{[Fu]:!0,[$s]:e,[$s+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(_w(l))return r.invokeTask(o,s,a,l);try{return zh(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Gh(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return zh(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ww(l)&&n(),Gh(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,qc(t),Lu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function qc(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gh(t){t._nesting--,Lu(t)}var Wc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _e;onMicrotaskEmpty=new _e;onStable=new _e;onError=new _e;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function _w(t){return Eg(t,"__ignore_ng_zone__")}function ww(t){return Eg(t,"__scheduler_tick__")}function Eg(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var hn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Dw=new P("",{providedIn:"root",factory:()=>{let t=b(Te),n=b(hn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function qh(t,n){return vp(t,n)}function Cw(t){return vp(yp,t)}var Sg=(qh.required=Cw,qh);function bw(){return fa(Le(),te())}function fa(t,n){return new yt(rt(t,n))}var yt=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=bw}return t})();function Ig(t){return(t.flags&128)===128}var xg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(xg||{}),Tg=new Map,Ew=0;function Sw(){return Ew++}function Iw(t){Tg.set(t[na],t)}function Zc(t){Tg.delete(t[na])}var Wh="__ngContext__";function pn(t,n){dn(n)?(t[Wh]=n[na],Iw(n)):t[Wh]=n}function Mg(t){return Ng(t[Ti])}function Ag(t){return Ng(t[ht])}function Ng(t){for(;t!==null&&!Zt(t);)t=t[ht];return t}var Yc;function Rg(t){Yc=t}function xw(){if(Yc!==void 0)return Yc;if(typeof document<"u")return document;throw new R(210,!1)}var Vu=new P("",{providedIn:"root",factory:()=>Tw}),Tw="ng",ju=new P(""),$r=new P("",{providedIn:"platform",factory:()=>"unknown"});var Bu=new P("",{providedIn:"root",factory:()=>xw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Mw="h",Aw="b";var Og=!1,Nw=new P("",{providedIn:"root",factory:()=>Og});var Pg=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Pg||{}),kg=new P(""),Zh=new Set;function ha(t){Zh.has(t)||(Zh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Rw=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}return t})();var Ow=()=>null;function $u(t,n,e=!1){return Ow(t,n,e)}var Tt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tt||{});var _s;function Pw(){if(_s===void 0&&(_s=null,xc.trustedTypes))try{_s=xc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _s}function Yh(t){return Pw()?.createScriptURL(t)||t}var Us=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mp})`}};function Fi(t){return t instanceof Us?t.changingThisBreaksApplicationSecurity:t}function Uu(t,n){let e=kw(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${mp})`)}return e===n}function kw(t){return t instanceof Us&&t.getTypeName()||null}var Fw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fg(t){return t=String(t),t.match(Fw)?t:"unsafe:"+t}var pa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pa||{});function $n(t){let n=Vg();return n?n.sanitize(pa.URL,t)||"":Uu(t,"URL")?Fi(t):Fg(Sr(t))}function Lw(t){let n=Vg();if(n)return Yh(n.sanitize(pa.RESOURCE_URL,t)||"");if(Uu(t,"ResourceURL"))return Yh(Fi(t));throw new R(904,!1)}function Vw(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?Lw:$n}function Lg(t,n,e){return Vw(n,e)(t)}function Vg(){let t=te();return t&&t[zt].sanitizer}var jw=/^>|^->|<!--|-->|--!>|<!-$/g,Bw=/(<|>)/g,$w="\u200B$1\u200B";function Uw(t){return t.replace(jw,n=>n.replace(Bw,$w))}function jg(t){return t instanceof Function?t():t}var gn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(gn||{}),Mt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mt||{}),Hw;function Hu(t,n){return Hw(t,n)}function Cr(t,n,e,r,i){if(r!=null){let o,s=!1;Zt(r)?o=r:dn(r)&&(s=!0,r=r[Wt]);let a=xt(r);t===0&&e!==null?i==null?zg(n,e,a):Hs(n,e,a,i||null,!0):t===1&&e!==null?Hs(n,e,a,i||null,!0):t===2?oD(n,a,s):t===3&&n.destroyNode(a),o!=null&&aD(n,t,o,e,i)}}function zw(t,n){return t.createText(n)}function Gw(t,n,e){t.setValue(n,e)}function qw(t,n){return t.createComment(Uw(n))}function Bg(t,n,e){return t.createElement(n,e)}function Ww(t,n){$g(t,n),n[Wt]=null,n[mt]=null}function Zw(t,n,e,r,i,o){r[Wt]=i,r[mt]=n,ma(t,r,e,1,i,o)}function $g(t,n){n[zt].changeDetectionScheduler?.notify(10),ma(t,n,n[he],2,null,null)}function Yw(t){let n=t[Ti];if(!n)return Dc(t[Q],t);for(;n;){let e=null;if(dn(n))e=n[Ti];else{let r=n[tt];r&&(e=r)}if(!e){for(;n&&!n[ht]&&n!==t;)dn(n)&&Dc(n[Q],n),n=n[$e];n===null&&(n=t),dn(n)&&Dc(n[Q],n),e=n&&n[ht]}n=e}}function Qw(t,n,e,r){let i=tt+r,o=e.length;r>0&&(e[i-1][ht]=n),r<o-tt?(n[ht]=e[i],Tp(e,tt+r,n)):(e.push(n),n[ht]=null),n[$e]=e;let s=n[Nr];s!==null&&e!==s&&Ug(s,n);let a=n[Rr];a!==null&&a.insertView(t),Fc(n),n[k]|=128}function Ug(t,n){let e=t[ks],r=n[$e];if(dn(r))t[k]|=Fs.HasTransplantedViews;else{let i=r[$e][St];n[St]!==i&&(t[k]|=Fs.HasTransplantedViews)}e===null?t[ks]=[n]:e.push(n)}function zu(t,n){let e=t[ks],r=e.indexOf(n);e.splice(r,1)}function Qc(t,n){if(t.length<=tt)return;let e=tt+n,r=t[e];if(r){let i=r[Nr];i!==null&&i!==t&&zu(i,r),n>0&&(t[e-1][ht]=r[ht]);let o=Ms(t,tt+n);Ww(r[Q],r);let s=o[Rr];s!==null&&s.detachView(o[Q]),r[$e]=null,r[ht]=null,r[k]&=-129}return r}function Hg(t,n){if(!(n[k]&256)){let e=n[he];e.destroyNode&&ma(t,n,e,3,null,null),Yw(n)}}function Dc(t,n){if(n[k]&256)return;let e=J(null);try{n[k]&=-129,n[k]|=256,n[Ze]&&Ql(n[Ze]),Jw(t,n),Kw(t,n),n[Q].type===1&&n[he].destroy();let r=n[Nr];if(r!==null&&Zt(n[$e])){r!==n[$e]&&zu(r,n);let i=n[Rr];i!==null&&i.detachView(t)}Zc(n)}finally{J(e)}}function Kw(t,n){let e=t.cleanup,r=n[Rs];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[Rs]=null);let i=n[un];if(i!==null){n[un]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Os];if(o!==null){n[Os]=null;for(let s of o)s.destroy()}}function Jw(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof kn)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];bt(4,a,l);try{l.call(a)}finally{bt(5,a,l)}}else{bt(4,i,o);try{o.call(i)}finally{bt(5,i,o)}}}}}function Xw(t,n,e){return eD(t,n.parent,e)}function eD(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[Wt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Tt.None||o===Tt.Emulated)return null}return rt(r,e)}}function Hs(t,n,e,r,i){t.insertBefore(n,e,r,i)}function zg(t,n,e){t.appendChild(n,e)}function Qh(t,n,e,r,i){r!==null?Hs(t,n,e,r,i):zg(t,n,e)}function Gg(t,n){return t.parentNode(n)}function tD(t,n){return t.nextSibling(n)}function nD(t,n,e){return iD(t,n,e)}function rD(t,n,e){return t.type&40?rt(t,e):null}var iD=rD,Kh;function ga(t,n,e,r){let i=Xw(t,r,n),o=n[he],s=r.parent||n[mt],a=nD(s,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Qh(o,i,e[l],a,!1);else Qh(o,i,e,a,!1);Kh!==void 0&&Kh(o,r,n,e,i)}function Ei(t,n){if(n!==null){let e=n.type;if(e&3)return rt(n,t);if(e&4)return Kc(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return Ei(t,r);{let i=t[n.index];return Zt(i)?Kc(-1,i):xt(i)}}else{if(e&128)return Ei(t,n.next);if(e&32)return Hu(n,t)()||xt(t[n.index]);{let r=qg(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=On(t[St]);return Ei(i,r)}else return Ei(t,n.next)}}}return null}function qg(t,n){if(n!==null){let r=t[St][mt],i=n.projection;return r.projection[i]}return null}function Kc(t,n){let e=tt+t+1;if(e<n.length){let r=n[e],i=r[Q].firstChild;if(i!==null)return Ei(r,i)}return n[Rn]}function oD(t,n,e){t.removeChild(null,n,e)}function Gu(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&pn(xt(a),r),e.flags|=2),(e.flags&32)!==32)if(l&8)Gu(t,n,e.child,r,i,o,!1),Cr(n,t,i,a,o);else if(l&32){let c=Hu(e,r),u;for(;u=c();)Cr(n,t,i,u,o);Cr(n,t,i,a,o)}else l&16?sD(t,n,r,e,i,o):Cr(n,t,i,a,o);e=s?e.projectionNext:e.next}}function ma(t,n,e,r,i,o){Gu(e,r,t.firstChild,n,i,o,!1)}function sD(t,n,e,r,i,o){let s=e[St],l=s[mt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Cr(n,t,i,u,o)}else{let c=l,u=s[$e];Ig(r)&&(c.flags|=128),Gu(t,n,c,u,i,o,!0)}}function aD(t,n,e,r,i){let o=e[Rn],s=xt(e);o!==s&&Cr(n,t,r,o,i);for(let a=tt;a<e.length;a++){let l=e[a];ma(l[Q],l,t,n,r,o)}}function lD(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Mt.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mt.Important),t.setStyle(e,r,i,o))}}function cD(t,n,e){t.setAttribute(n,"style",e)}function Wg(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Zg(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&jc(t,n,r),i!==null&&Wg(t,n,i),o!==null&&cD(t,n,o)}function uD(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var Yg="ng-template";function dD(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&uD(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(qu(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function qu(t){return t.type===4&&t.value!==Yg}function fD(t,n,e){let r=t.type===4&&!e?Yg:t.value;return n===r}function hD(t,n,e){let r=4,i=t.attrs,o=i!==null?mD(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!ft(r)&&!ft(l))return!1;if(s&&ft(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!fD(t,l,e)||l===""&&n.length===1){if(ft(r))return!1;s=!0}}else if(r&8){if(i===null||!dD(t,i,l,e)){if(ft(r))return!1;s=!0}}else{let c=n[++a],u=pD(l,i,qu(t),e);if(u===-1){if(ft(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(ft(r))return!1;s=!0}}}}return ft(r)||s}function ft(t){return(t&1)===0}function pD(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yD(n,t)}function gD(t,n,e=!1){for(let r=0;r<n.length;r++)if(hD(t,n[r],e))return!0;return!1}function mD(t){for(let n=0;n<t.length;n++){let e=t[n];if(lg(e))return n}return t.length}function yD(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function Jh(t,n){return t?":not("+n.trim()+")":n}function vD(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ft(s)&&(n+=Jh(o,i),i=""),r=s,o=o||!ft(r);e++}return i!==""&&(n+=Jh(o,i)),n}function _D(t){return t.map(vD).join(",")}function wD(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!ft(i))break;i=o}r++}return{attrs:n,classes:e}}var At={};function v(t=1){Qg(Fe(),te(),Bn()+t,!1)}function Qg(t,n,e,r){if(!r)if((n[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&bs(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Es(n,o,0,e)}Pn(e)}function C(t,n=z.Default){let e=te();if(e===null)return N(t,n);let r=Le();return gg(r,e,je(t),n)}function Kg(t,n,e,r,i,o){let s=J(null);try{let a=null;i&gn.SignalBased&&(a=n[r][Ge]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&gn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,r):$p(n,a,r,o)}finally{J(s)}}function DD(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Pn(~i);else{let o=i,s=e[++r],a=e[++r];G0(s,o);let l=n[o];a(2,l)}}}finally{Pn(-1)}}function ya(t,n,e,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[Wt]=i,d[k]=r|4|128|8|64|1024,(c!==null||t&&t[k]&2048)&&(d[k]|=2048),Wp(d),d[$e]=d[Vr]=t,d[pt]=e,d[zt]=s||t&&t[zt],d[he]=a||t&&t[he],d[Ar]=l||t&&t[Ar]||null,d[mt]=o,d[na]=Sw(),d[Ns]=u,d[jp]=c,d[St]=n.type==2?t[St]:d,d}function Li(t,n,e,r,i){let o=t.data[n];if(o===null)o=CD(t,n,e,r,i),z0()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=j0();o.injectorIndex=s===null?-1:s.injectorIndex}return jn(o,!0),o}function CD(t,n,e,r,i){let o=Qp(),s=Au(),a=s?o:o&&o.parent,l=t.data[n]=xD(t,a,e,n,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Jg(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xg(t,n,e,r,i){let o=Bn(),s=r&2;try{Pn(-1),s&&n.length>It&&Qg(t,n,It,!1),bt(s?2:0,i),e(r,i)}finally{Pn(o),bt(s?3:1,i)}}function Wu(t,n,e){if(xu(n)){let r=J(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{J(r)}}}function Zu(t,n,e){Yp()&&(OD(t,n,e,rt(e,n)),(e.flags&64)===64&&nm(t,n,e))}function Yu(t,n,e=rt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function em(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Qu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Qu(t,n,e,r,i,o,s,a,l,c,u){let d=It+r,m=d+i,g=bD(d,m),_=typeof c=="function"?c():c;return g[Q]={type:t,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function bD(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:At);return e}function ED(t,n,e,r){let o=r.get(Nw,Og)||e===Tt.ShadowDom,s=t.selectRootElement(n,o);return SD(s),s}function SD(t){ID(t)}var ID=()=>null;function xD(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return F0()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xh(t,n,e,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,l=gn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?ep(r,e,c,a,l):ep(r,e,c,a)}return r}function ep(t,n,e,r,i){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,r):o=t[e]=[n,r],i!==void 0&&o.push(i)}function TD(t,n,e){let r=n.directiveStart,i=n.directiveEnd,o=t.data,s=n.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],m=e?e.get(d):null,g=m?m.inputs:null,_=m?m.outputs:null;l=Xh(0,d.inputs,u,l,g),c=Xh(1,d.outputs,u,c,_);let E=l!==null&&s!==null&&!qu(n)?zD(l,u,s):null;a.push(E)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function MD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ku(t,n,e,r,i,o,s,a){let l=rt(n,e),c=n.inputs,u;!a&&c!=null&&(u=c[r])?(Xu(t,e,u,r,i),ra(n)&&AD(e,n.index)):n.type&3?(r=MD(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)):n.type&12}function AD(t,n){let e=_n(n,t);e[k]&16||(e[k]|=64)}function Ju(t,n,e,r){if(Yp()){let i=r===null?null:{"":-1},o=kD(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&tm(t,n,e,s,i,a),i&&FD(e,r,i)}e.mergedAttrs=Mi(e.mergedAttrs,e.attrs)}function tm(t,n,e,r,i,o){for(let c=0;c<r.length;c++)Uc(js(e,n),t,r[c].type);VD(e,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Jg(t,n,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];e.mergedAttrs=Mi(e.mergedAttrs,u.hostAttrs),jD(t,e,n,l,u),LD(l,u,i),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}TD(t,e,o)}function ND(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;RD(s)!=a&&s.push(a),s.push(e,r,o)}}function RD(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function OD(t,n,e,r){let i=e.directiveStart,o=e.directiveEnd;ra(e)&&BD(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||js(e,n),pn(r,n);let s=e.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=Pr(n,t,a,e);if(pn(c,n),s!==null&&HD(n,a-i,c,l,e,s),fn(l)){let u=_n(e.index,n);u[pt]=Pr(n,t,a,e)}}}function nm(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=q0();try{Pn(o);for(let a=r;a<i;a++){let l=t.data[a],c=n[a];Vc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&PD(l,c)}}finally{Pn(-1),Vc(s)}}function PD(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function kD(t,n){let e=t.directiveRegistry,r=null,i=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(gD(n,s.selectors,!1))if(r||(r=[]),fn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Jc(t,n,l)}else r.unshift(s),Jc(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Jc(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function FD(t,n,e){if(n){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new R(-301,!1);r.push(n[i],o)}}}function LD(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;fn(n)&&(e[""]=t)}}function VD(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function jD(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ir(i.type,!0)),s=new kn(o,fn(i),C);t.blueprint[r]=s,e[r]=s,ND(t,n,r,Jg(t,e,i.hostVars,At),i)}function rm(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function BD(t,n,e){let r=rt(n,t),i=em(e),o=t[zt].rendererFactory,s=va(t,ya(t,i,null,rm(e),r,n,null,o.createRenderer(r,e),null,null,null));t[n.index]=s}function $D(t,n,e,r,i,o){let s=rt(t,n);UD(n[he],s,o,t.value,e,r,i)}function UD(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?Sr(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function HD(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];Kg(r,e,l,c,u,d)}}function zD(t,n,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function im(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function om(t,n){let e=t.contentQueries;if(e!==null){let r=J(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];eg(o),a.contentQueries(2,n[s],s)}}}finally{J(r)}}}function va(t,n){return t[Ti]?t[Ph][ht]=n:t[Ti]=n,t[Ph]=n,n}function Xc(t,n,e){eg(0);let r=J(null);try{n(t,e)}finally{J(r)}}function GD(t){return t[Rs]??=[]}function qD(t){return t.cleanup??=[]}function sm(t,n){let e=t[Ar],r=e?e.get(hn,null):null;r&&r.handleError(n)}function Xu(t,n,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=n[s],u=t.data[s];Kg(u,c,r,a,l,i)}}function am(t,n,e){let r=Gp(n,t);Gw(t[he],r,e)}function WD(t,n){let e=_n(n,t),r=e[Q];ZD(r,e);let i=e[Wt];i!==null&&e[Ns]===null&&(e[Ns]=$u(i,e[Ar])),ed(r,e,e[pt])}function ZD(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function ed(t,n,e){Nu(n);try{let r=t.viewQuery;r!==null&&Xc(1,r,e);let i=t.template;i!==null&&Xg(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Rr]?.finishViewCreation(t),t.staticContentQueries&&om(t,n),t.staticViewQueries&&Xc(2,t.viewQuery,e);let o=t.components;o!==null&&YD(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[k]&=-5,Ru()}}function YD(t,n){for(let e=0;e<n.length;e++)WD(t,n[e])}function QD(t,n,e,r){let i=J(null);try{let o=n.tView,a=t[k]&4096?4096:16,l=ya(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[Nr]=c;let u=t[Rr];return u!==null&&(l[Rr]=u.createEmbeddedView(o)),ed(o,l,e),l}finally{J(i)}}function tp(t,n){return!n||n.firstChild===null||Ig(t)}function KD(t,n,e,r=!0){let i=n[Q];if(Qw(i,n,t,e),r){let s=Kc(e,t),a=n[he],l=Gg(a,t[Rn]);l!==null&&Zw(i,t[mt],a,n,l,s)}let o=n[Ns];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function zs(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(xt(o)),Zt(o)&&JD(o,r);let s=e.type;if(s&8)zs(t,n,e.child,r);else if(s&32){let a=Hu(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=qg(n,e);if(Array.isArray(a))r.push(...a);else{let l=On(n[St]);zs(l[Q],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function JD(t,n){for(let e=tt;e<t.length;e++){let r=t[e],i=r[Q].firstChild;i!==null&&zs(r[Q],r,i,n)}t[Rn]!==t[Wt]&&n.push(t[Rn])}var lm=[];function XD(t){return t[Ze]??eC(t)}function eC(t){let n=lm.pop()??Object.create(nC);return n.lView=t,n}function tC(t){t.lView[Ze]!==t&&(t.lView=null,lm.push(t))}var nC=q(D({},vi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sa(t.lView)},consumerOnSignalRead(){this.lView[Ze]=this}});function rC(t){let n=t[Ze]??Object.create(iC);return n.lView=t,n}var iC=q(D({},vi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=On(t.lView);for(;n&&!cm(n[Q]);)n=On(n);n&&Mu(n)},consumerOnSignalRead(){this.lView[Ze]=this}});function cm(t){return t.type!==2}function um(t){if(t[Os]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[Os])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[k]&8192)}}var oC=100;function dm(t,n=!0,e=0){let i=t[zt].rendererFactory,o=!1;o||i.begin?.();try{sC(t,e)}catch(s){throw n&&sm(t,s),s}finally{o||i.end?.()}}function sC(t,n){let e=Jp();try{Fh(!0),eu(t,n);let r=0;for(;oa(t);){if(r===oC)throw new R(103,!1);r++,eu(t,1)}}finally{Fh(e)}}function aC(t,n,e,r){let i=n[k];if((i&256)===256)return;let o=!1,s=!1;Nu(n);let a=!0,l=null,c=null;o||(cm(t)?(c=XD(n),l=zo(c)):qf()===null?(a=!1,c=rC(n),l=zo(c)):n[Ze]&&(Ql(n[Ze]),n[Ze]=null));try{Wp(n),H0(t.bindingStartIndex),e!==null&&Xg(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let g=t.preOrderCheckHooks;g!==null&&bs(n,g,null)}else{let g=t.preOrderHooks;g!==null&&Es(n,g,0,null),vc(n,0)}if(s||lC(n),um(n),fm(n,0),t.contentQueries!==null&&om(t,n),!o)if(u){let g=t.contentCheckHooks;g!==null&&bs(n,g)}else{let g=t.contentHooks;g!==null&&Es(n,g,1),vc(n,1)}DD(t,n);let d=t.components;d!==null&&pm(n,d,0);let m=t.viewQuery;if(m!==null&&Xc(2,m,r),!o)if(u){let g=t.viewCheckHooks;g!==null&&bs(n,g)}else{let g=t.viewHooks;g!==null&&Es(n,g,2),vc(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[yc]){for(let g of n[yc])g();n[yc]=null}o||(n[k]&=-73)}catch(u){throw o||sa(n),u}finally{c!==null&&(Zl(c,l),a&&tC(c)),Ru()}}function fm(t,n){for(let e=Mg(t);e!==null;e=Ag(e))for(let r=tt;r<e.length;r++){let i=e[r];hm(i,n)}}function lC(t){for(let n=Mg(t);n!==null;n=Ag(n)){if(!(n[k]&Fs.HasTransplantedViews))continue;let e=n[ks];for(let r=0;r<e.length;r++){let i=e[r];Mu(i)}}}function cC(t,n,e){let r=_n(n,t);hm(r,e)}function hm(t,n){Tu(t)&&eu(t,n)}function eu(t,n){let r=t[Q],i=t[k],o=t[Ze],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&Yl(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)aC(r,t,r.template,t[pt]);else if(i&8192){um(t),fm(t,1);let a=r.components;a!==null&&pm(t,a,1)}}function pm(t,n,e){for(let r=0;r<n.length;r++)cC(t,n[r],e)}function td(t,n){let e=Jp()?64:1088;for(t[zt].changeDetectionScheduler?.notify(n);t;){t[k]|=e;let r=On(t);if(Pc(t)&&!r)return t;t=r}return null}var Fn=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[Q];return zs(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[pt]}get dirty(){return!!(this._lView[k]&9280)||!!this._lView[Ze]?.dirty}set context(n){this._lView[pt]=n}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[$e];if(Zt(n)){let e=n[Ps],r=e?e.indexOf(this):-1;r>-1&&(Qc(n,r),Ms(e,r))}this._attachedToViewContainer=!1}Hg(this._lView[Q],this._lView)}onDestroy(n){Zp(this._lView,n)}markForCheck(){td(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Mu(this._cdRefInjectingView||this._lView)}detach(){this._lView[k]&=-129}reattach(){Fc(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,dm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Pc(this._lView),e=this._lView[Nr];e!==null&&!n&&zu(e,this._lView),$g(this._lView[Q],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n;let e=Pc(this._lView),r=this._lView[Nr];r!==null&&!e&&Ug(r,this._lView),Fc(this._lView)}},_a=(()=>{class t{static __NG_ELEMENT_ID__=fC}return t})(),uC=_a,dC=class extends uC{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=QD(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new Fn(i)}};function fC(){return gm(Le(),te())}function gm(t,n){return t.type&4?new dC(n,t,fa(t,n)):null}var _1=new RegExp(`^(\\d+)*(${Aw}|${Mw})*(.*)`);var hC=()=>null;function np(t,n){return hC(t,n)}var tu=class{},Gs=class{},nu=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Be(n)}.`)}},kr=class{static NULL=new nu},Fr=class{},Nt=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>pC()}return t})();function pC(){let t=te(),n=Le(),e=_n(n.index,t);return(dn(e)?e:t)[he]}var gC=(()=>{class t{static \u0275prov=S({token:t,providedIn:"root",factory:()=>null})}return t})();function qs(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Th(i,a);else if(o==2){let l=a,c=n[++s];r=Th(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}var Ws=class extends kr{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Nn(n);return new Ni(e,this.ngModule)}};function rp(t,n){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:gn.None;n?e.push({propName:s,templateName:r,isSignal:(a&gn.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function mC(t){let n=t.toLowerCase();return n==="svg"?x0:n==="math"?T0:null}var Ni=class extends Gs{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let n=this.componentDef,e=n.inputTransforms,r=rp(n.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return rp(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=_D(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=J(null);try{i=i||this.ngModule;let s=i instanceof nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Bc(n,s):n,l=a.get(Fr,null);if(l===null)throw new R(407,!1);let c=a.get(gC,null),u=a.get(Ai,null),d={rendererFactory:l,sanitizer:c,changeDetectionScheduler:u},m=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?ED(m,r,this.componentDef.encapsulation,a):Bg(m,g,mC(g)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let A=null;_!==null&&(A=$u(_,a,!0));let O=Qu(0,null,null,1,0,null,null,null,null,null,null),se=ya(null,O,null,E,null,null,d,m,a,null,A);Nu(se);let ae,le,ke=null;try{let me=this.componentDef,lr,$l=null;me.findHostDirectiveDefs?(lr=[],$l=new Map,me.findHostDirectiveDefs(me,lr,$l),lr.push(me)):lr=[me];let u_=yC(se,_);ke=vC(u_,_,me,lr,se,d,m),le=qp(O,It),_&&DC(m,me,_,r),e!==void 0&&CC(le,this.ngContentSelectors,e),ae=wC(ke,me,lr,$l,se,[bC]),ed(O,se,null)}catch(me){throw ke!==null&&Zc(ke),Zc(se),me}finally{Ru()}return new ru(this.componentType,ae,fa(le,se),se,le)}finally{J(o)}}},ru=class extends tu{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new Fn(i,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;Xu(o[Q],o,i,n,e),this.previousInputValues.set(n,e);let s=_n(this._tNode.index,o);td(s,1)}}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function yC(t,n){let e=t[Q],r=It;return t[r]=n,Li(e,r,2,"#host",null)}function vC(t,n,e,r,i,o,s){let a=i[Q];_C(r,t,n,s);let l=null;n!==null&&(l=$u(n,i[Ar]));let c=o.rendererFactory.createRenderer(n,e),u=ya(i,em(e),null,rm(e),i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&Jc(a,t,r.length-1),va(i,u),i[t.index]=u}function _C(t,n,e,r){for(let i of t)n.mergedAttrs=Mi(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(qs(n,n.mergedAttrs,!0),e!==null&&Zg(r,e,n))}function wC(t,n,e,r,i,o){let s=Le(),a=i[Q],l=rt(s,i);tm(a,i,s,e,null,r);for(let u=0;u<e.length;u++){let d=s.directiveStart+u,m=Pr(i,a,d,s);pn(m,i)}nm(a,i,s),l&&pn(l,i);let c=Pr(i,a,s.directiveStart+s.componentOffset,s);if(t[pt]=i[pt]=c,o!==null)for(let u of o)u(c,n);return Wu(a,s,i),c}function DC(t,n,e,r){if(r)jc(t,e,["ng-version","19.0.5"]);else{let{attrs:i,classes:o}=wD(n.selectors[0]);i&&jc(t,e,i),o&&o.length>0&&Wg(t,e,o.join(" "))}}function CC(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}function bC(){let t=Le();da(te()[Q],t)}var Ur=(()=>{class t{static __NG_ELEMENT_ID__=EC}return t})();function EC(){let t=Le();return IC(t,te())}var SC=Ur,mm=class extends SC{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return fa(this._hostTNode,this._hostLView)}get injector(){return new An(this._hostTNode,this._hostLView)}get parentInjector(){let n=Ou(this._hostTNode,this._hostLView);if(cg(n)){let e=Vs(n,this._hostLView),r=Ls(n),i=e[Q].data[r+8];return new An(i,e)}else return new An(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=ip(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=np(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,tp(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!b0(n),a;if(s)a=e;else{let _=e||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?n:new Ni(Nn(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let E=(s?c:this.parentInjector).get(nt,null);E&&(o=E)}let u=Nn(l.componentType??{}),d=np(this._lContainer,u?.id??null),m=d?.firstChild??null,g=l.create(c,i,m,o);return this.insertImpl(g.hostView,a,tp(this._hostTNode,d)),g}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(A0(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[$e],c=new mm(l,l[mt],l[$e]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return KD(s,i,o,r),n.attachToViewContainerRef(),Tp(Cc(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=ip(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=Qc(this._lContainer,e);r&&(Ms(Cc(this._lContainer),e),Hg(r[Q],r))}detach(n){let e=this._adjustIndex(n,-1),r=Qc(this._lContainer,e);return r&&Ms(Cc(this._lContainer),e)!=null?new Fn(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function ip(t){return t[Ps]}function Cc(t){return t[Ps]||(t[Ps]=[])}function IC(t,n){let e,r=n[t.index];return Zt(r)?e=r:(e=im(r,n,null,t),n[t.index]=e,va(n,e)),TC(e,n,t,r),new mm(e,t,n)}function xC(t,n){let e=t[he],r=e.createComment(""),i=rt(n,t),o=Gg(e,i);return Hs(e,o,r,tD(e,i),!1),r}var TC=NC,MC=()=>!1;function AC(t,n,e){return MC(t,n,e)}function NC(t,n,e,r){if(t[Rn])return;let i;e.type&8?i=xt(r):i=xC(n,e),t[Rn]=i}function RC(t){return typeof t=="function"&&t[Ge]!==void 0}function Vi(t,n){ha("NgSignals");let e=nh(t),r=e[Ge];return n?.equal&&(r.equal=n.equal),e.set=i=>Wo(r,i),e.update=i=>rh(r,i),e.asReadonly=OC.bind(e),e}function OC(){let t=this[Ge];if(t.readonlyFn===void 0){let n=()=>this();n[Ge]=t,t.readonlyFn=n}return t.readonlyFn}function ym(t){return RC(t)&&typeof t.set=="function"}var mn=class{},Ri=class{};var iu=class extends mn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ws(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=Np(n);this._bootstrapComponents=jg(o.bootstrap),this._r3Injector=vg(n,e,[{provide:mn,useValue:this},{provide:kr,useValue:this.componentFactoryResolver},...r],Be(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},ou=class extends Ri{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new iu(this.moduleType,n,[])}};var Zs=class extends mn{injector;componentFactoryResolver=new Ws(this);instance=null;constructor(n){super();let e=new xi([...n.providers,{provide:mn,useValue:this},{provide:kr,useValue:this.componentFactoryResolver}],n.parent||Iu(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function nd(t,n,e=null){return new Zs({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var PC=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=kp(!1,e.type),i=r.length>0?nd([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:t,providedIn:"environment",factory:()=>new t(N(nt))})}return t})();function ue(t){return Pi(()=>{let n=vm(t),e=q(D({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(PC).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tt.Emulated,styles:t.styles||et,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&ha("NgStandalone"),_m(e);let r=t.dependencies;return e.directiveDefs=sp(r,!1),e.pipeDefs=sp(r,!0),e.id=LC(e),e})}function kC(t){return Nn(t)||Rp(t)}function FC(t){return t!==null}function Un(t){return Pi(()=>({type:t.type,bootstrap:t.bootstrap||et,declarations:t.declarations||et,imports:t.imports||et,exports:t.exports||et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function op(t,n){if(t==null)return xr;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=gn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(e[o]=a!==gn.None?[r,a]:r,n[o]=s):e[o]=r}return e}function pe(t){return Pi(()=>{let n=vm(t);return _m(n),n})}function vm(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||xr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||et,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:op(t.inputs,n),outputs:op(t.outputs),debugInfo:null}}function _m(t){t.features?.forEach(n=>n(t))}function sp(t,n){if(!t)return null;let e=n?Op:kC;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(FC)}function LC(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function VC(t){return Object.getPrototypeOf(t.prototype).constructor}function vt(t){let n=VC(t.type),e=!0,r=[t];for(;n;){let i;if(fn(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=ws(t.inputs),s.inputTransforms=ws(t.inputTransforms),s.declaredInputs=ws(t.declaredInputs),s.outputs=ws(t.outputs);let a=i.hostBindings;a&&HC(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&$C(t,l),c&&UC(t,c),jC(t,i),H_(t.outputs,i.outputs),fn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===vt&&(e=!1)}}n=Object.getPrototypeOf(n)}BC(r)}function jC(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];if(r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function BC(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Mi(i.hostAttrs,e=Mi(e,i.hostAttrs))}}function ws(t){return t===xr?{}:t===et?[]:t}function $C(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function UC(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function HC(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function rd(t){let n=t.inputConfig,e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}t.inputTransforms=e}function wm(t){return id(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function zC(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function id(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function GC(t,n,e){return t[n]=e}function yn(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function qC(t,n,e,r){let i=yn(t,n,e);return yn(t,n+1,r)||i}function WC(t){return(t.flags&32)===32}function ZC(t,n,e,r,i,o,s,a,l){let c=n.consts,u=Li(n,t,4,s||null,a||null);Ju(n,e,u,Or(c,l)),da(n,u);let d=u.tView=Qu(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function YC(t,n,e,r,i,o,s,a,l,c){let u=e+It,d=n.firstCreatePass?ZC(u,n,t,r,i,o,s,a,l):n.data[u];jn(d,!1);let m=QC(n,t,d,e);ca()&&ga(n,t,m,d),pn(m,t);let g=im(m,t,m,d);return t[u]=g,va(t,g),AC(g,d,t),ia(d)&&Zu(n,t,d),l!=null&&Yu(t,d,c),d}function U(t,n,e,r,i,o,s,a){let l=te(),c=Fe(),u=Or(c.consts,o);return YC(l,c,t,n,e,r,i,u,s,a),U}var QC=KC;function KC(t,n,e,r){return ua(!0),n[he].createComment("")}var wa=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Dm=new P("");function Hn(t){return!!t&&typeof t.then=="function"}function Cm(t){return!!t&&typeof t.subscribe=="function"}var Da=new P("");var bm=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=b(Da,{optional:!0})??[];injector=b(Gt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=gt(this.injector,i);if(Hn(o))e.push(o);else if(Cm(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JC=(()=>{class t{static \u0275prov=S({token:t,providedIn:"root",factory:()=>new su})}return t})(),su=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}},od=new P("");function XC(){th(()=>{throw new R(600,!1)})}function eb(t){return t.isBoundToModule}var tb=10;function nb(t,n,e){try{let r=e();return Hn(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var vn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(Dw);afterRenderManager=b(Rw);zonelessEnabled=b(ku);rootEffectScheduler=b(JC);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ee;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=b(Br).hasPendingTasks.pipe(W(e=>!e));constructor(){b(kg,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=b(nt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof Gs;if(!this._injector.get(bm).done){let m=!i&&Pp(e),g=!1;throw new R(405,g)}let s;i?s=e:s=this._injector.get(kr).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=eb(s)?void 0:this._injector.get(mn),l=r||s.selector,c=s.create(Gt.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Dm,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ss(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Pg.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new R(101,!1);let e=J(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,J(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<tb;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)rb(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>oa(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Ss(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(od,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ss(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new R(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ss(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function rb(t,n,e,r){if(!e&&!oa(t))return;dm(t,n,e&&!r?0:1)}function Ca(t,n,e,r){let i=te(),o=aa();if(yn(i,o,n)){let s=Fe(),a=la();$D(a,i,t,n,e,r)}return Ca}function Em(t,n,e,r){return yn(t,aa(),e)?n+Sr(e)+r:At}function ib(t,n,e,r,i,o){let s=U0(),a=qC(t,s,e,i);return Xp(2),a?n+Sr(e)+r+Sr(i)+o:At}function Ds(t,n){return t<<17|n<<2}function Ln(t){return t>>17&32767}function ob(t){return(t&2)==2}function sb(t,n){return t&131071|n<<17}function au(t){return t|2}function Lr(t){return(t&131068)>>2}function bc(t,n){return t&-131069|n<<2}function ab(t){return(t&1)===1}function lu(t){return t|1}function lb(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Ln(s),l=Lr(s);t[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||ki(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let m=Ln(t[a+1]);t[r+1]=Ds(m,a),m!==0&&(t[m+1]=bc(t[m+1],r)),t[a+1]=sb(t[a+1],r)}else t[r+1]=Ds(a,0),a!==0&&(t[a+1]=bc(t[a+1],r)),a=r;else t[r+1]=Ds(l,0),a===0?a=r:t[l+1]=bc(t[l+1],r),l=r;c&&(t[r+1]=au(t[r+1])),ap(t,u,r,!0),ap(t,u,r,!1),cb(n,u,t,r,o),s=Ds(a,l),o?n.classBindings=s:n.styleBindings=s}function cb(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&ki(o,n)>=0&&(e[r+1]=lu(e[r+1]))}function ap(t,n,e,r){let i=t[e+1],o=n===null,s=r?Ln(i):Lr(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];ub(l,n)&&(a=!0,t[s+1]=r?lu(c):au(c)),s=r?Ln(c):Lr(c)}a&&(t[e+1]=r?au(i):lu(i))}function ub(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?ki(t,n)>=0:!1}function T(t,n,e){let r=te(),i=aa();if(yn(r,i,n)){let o=Fe(),s=la();Ku(o,s,r,t,n,r[he],e,!1)}return T}function lp(t,n,e,r,i){let o=n.inputs,s=i?"class":"style";Xu(t,e,o[s],s,r)}function ba(t,n){return db(t,n,null,!0),ba}function db(t,n,e,r){let i=te(),o=Fe(),s=Xp(2);if(o.firstUpdatePass&&hb(o,t,s,r),n!==At&&yn(i,s,n)){let a=o.data[Bn()];vb(o,a,i,i[he],t,i[s+1]=_b(n,e),r,s)}}function fb(t,n){return n>=t.expandoStartIndex}function hb(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[Bn()],s=fb(t,e);wb(o,r)&&n===null&&!s&&(n=!1),n=pb(i,o,n,r),lb(i,o,n,e,s,r)}}function pb(t,n,e,r){let i=W0(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=Ec(null,t,n,e,r),e=Oi(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=Ec(i,t,n,e,r),o===null){let l=gb(t,n,r);l!==void 0&&Array.isArray(l)&&(l=Ec(null,t,n,l[1],r),l=Oi(l,n.attrs,r),mb(t,n,r,l))}else o=yb(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function gb(t,n,e){let r=e?n.classBindings:n.styleBindings;if(Lr(r)!==0)return t[Ln(r)]}function mb(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[Ln(i)]=r}function yb(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Oi(r,s,e)}return Oi(r,n.attrs,e)}function Ec(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=Oi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function Oi(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),c0(t,s,e?!0:n[++o]))}return t===void 0?null:t}function vb(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],u=ab(c)?cp(l,n,e,i,Lr(c),s):void 0;if(!Ys(u)){Ys(o)||ob(c)&&(o=cp(l,null,e,i,a,s));let d=Gp(Bn(),e);lD(r,s,d,i,o)}}function cp(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,m=e[i+1];m===At&&(m=d?et:void 0);let g=d?gc(m,r):u===r?m:void 0;if(c&&!Ys(g)&&(g=gc(l,r)),Ys(g)&&(a=g,s))return a;let _=t[i+1];i=s?Ln(_):Lr(_)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=gc(l,r))}return a}function Ys(t){return t!==void 0}function _b(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Be(Fi(t)))),t}function wb(t,n){return(t.flags&(n?8:16))!==0}function Db(t,n,e,r,i,o){let s=n.consts,a=Or(s,i),l=Li(n,t,2,r,a);return Ju(n,e,l,Or(s,o)),l.attrs!==null&&qs(l,l.attrs,!1),l.mergedAttrs!==null&&qs(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function h(t,n,e,r){let i=te(),o=Fe(),s=It+t,a=i[he],l=o.firstCreatePass?Db(s,o,i,n,e,r):o.data[s],c=Cb(o,i,l,a,n,t);i[s]=c;let u=ia(l);return jn(l,!0),Zg(a,c,l),!WC(l)&&ca()&&ga(o,i,c,l),O0()===0&&pn(c,i),P0(),u&&(Zu(o,i,l),Wu(o,l,i)),r!==null&&Yu(i,l),h}function p(){let t=Le();Au()?Kp():(t=t.parent,jn(t,!1));let n=t;L0(n)&&V0(),k0();let e=Fe();return e.firstCreatePass&&(da(e,t),xu(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&ew(n)&&lp(e,n,te(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&tw(n)&&lp(e,n,te(),n.stylesWithoutHost,!1),p}function ie(t,n,e,r){return h(t,n,e,r),p(),ie}var Cb=(t,n,e,r,i,o)=>(ua(!0),Bg(r,i,Q0()));function bb(t,n,e,r,i){let o=n.consts,s=Or(o,r),a=Li(n,t,8,"ng-container",s);s!==null&&qs(a,s,!0);let l=Or(o,i);return Ju(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function ji(t,n,e){let r=te(),i=Fe(),o=t+It,s=i.firstCreatePass?bb(o,i,r,n,e):i.data[o];jn(s,!0);let a=Eb(i,r,s,t);return r[o]=a,ca()&&ga(i,r,a,s),pn(a,r),ia(s)&&(Zu(i,r,s),Wu(i,s,r)),e!=null&&Yu(r,s),ji}function Bi(){let t=Le(),n=Fe();return Au()?Kp():(t=t.parent,jn(t,!1)),n.firstCreatePass&&(da(n,t),xu(t)&&n.queries.elementEnd(t)),Bi}var Eb=(t,n,e,r)=>(ua(!0),qw(n[he],""));function ce(){return te()}var Qs="en-US";var Sb=Qs;function Ib(t){typeof t=="string"&&(Sb=t.toLowerCase().replace(/_/g,"-"))}var xb=(t,n,e)=>{};function M(t,n,e,r){let i=te(),o=Fe(),s=Le();return Sm(o,i,i[he],s,t,n,r),M}function Tb(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[Rs],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Sm(t,n,e,r,i,o,s){let a=ia(r),c=t.firstCreatePass&&qD(t),u=n[pt],d=GD(n),m=!0;if(r.type&3||s){let E=rt(r,n),A=s?s(E):E,O=d.length,se=s?le=>s(xt(le[r.index])):r.index,ae=null;if(!s&&a&&(ae=Tb(t,n,i,r.index)),ae!==null){let le=ae.__ngLastListenerFn__||ae;le.__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,m=!1}else{o=dp(r,n,u,o),xb(E,i,o);let le=e.listen(A,i,o);d.push(o,le),c&&c.push(i,se,O,O+1)}}else o=dp(r,n,u,o);let g=r.outputs,_;if(m&&g!==null&&(_=g[i])){let E=_.length;if(E)for(let A=0;A<E;A+=2){let O=_[A],se=_[A+1],ke=n[O][se].subscribe(o),me=d.length;d.push(o,ke),c&&c.push(i,r.index,me,-(me+1))}}}function up(t,n,e,r){let i=J(null);try{return bt(6,n,e),e(r)!==!1}catch(o){return sm(t,o),!1}finally{bt(7,n,e),J(i)}}function dp(t,n,e,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?_n(t.index,n):n;td(s,5);let a=up(n,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=up(n,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function w(t=1){return Y0(t)}function Ea(t,n,e,r,i){let o=te(),s=Em(o,n,e,r);if(s!==At){let a=Fe(),l=la();Ku(a,l,o,t,s,o[he],i,!1)}return Ea}function Im(t){let n=B0();return M0(n,It+t)}function y(t,n=""){let e=te(),r=Fe(),i=t+It,o=r.firstCreatePass?Li(r,i,1,n,null):r.data[i],s=Mb(r,e,o,n,t);e[i]=s,ca()&&ga(r,e,s,o),jn(o,!1)}var Mb=(t,n,e,r,i)=>(ua(!0),zw(n[he],r));function Dn(t){return Ie("",t,""),Dn}function Ie(t,n,e){let r=te(),i=Em(r,t,n,e);return i!==At&&am(r,Bn(),i),Ie}function He(t,n,e,r,i){let o=te(),s=ib(o,t,n,e,r,i);return s!==At&&am(o,Bn(),s),He}function F(t,n,e){ym(n)&&(n=n());let r=te(),i=aa();if(yn(r,i,n)){let o=Fe(),s=la();Ku(o,s,r,t,n,r[he],e,!1)}return F}function j(t,n){let e=ym(t);return e&&t.set(n),e}function L(t,n){let e=te(),r=Fe(),i=Le();return Sm(r,e,e[he],i,t,n),L}function Ab(t,n,e){let r=Fe();if(r.firstCreatePass){let i=fn(t);cu(e,r.data,r.blueprint,i,!0),cu(n,r.data,r.blueprint,i,!1)}}function cu(t,n,e,r,i){if(t=je(t),Array.isArray(t))for(let o=0;o<t.length;o++)cu(t[o],n,e,r,i);else{let o=Fe(),s=te(),a=Le(),l=Mr(t)?t:je(t.provide),c=Vp(t),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(Mr(t)||!t.multi){let g=new kn(c,i,C),_=Ic(l,n,i?u:u+m,d);_===-1?(Uc(js(a,s),o,l),Sc(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[_]=g,s[_]=g)}else{let g=Ic(l,n,u+m,d),_=Ic(l,n,u,u+m),E=g>=0&&e[g],A=_>=0&&e[_];if(i&&!A||!i&&!E){Uc(js(a,s),o,l);let O=Ob(i?Rb:Nb,e.length,i,r,c);!i&&A&&(e[_].providerFactory=O),Sc(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(O),s.push(O)}else{let O=xm(e[i?_:g],c,!i&&r);Sc(o,t,g>-1?g:_,O)}!i&&r&&A&&e[_].componentProviders++}}}function Sc(t,n,e,r){let i=Mr(n),o=g0(n);if(i||o){let l=(o?je(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function xm(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Ic(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function Nb(t,n,e,r){return uu(this.multi,[])}function Rb(t,n,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Pr(e,e[Q],this.providerFactory.index,r);o=a.slice(0,s),uu(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],uu(i,o);return o}function uu(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function Ob(t,n,e,r,i){let o=new kn(t,e,C);return o.multi=[],o.index=n,o.componentProviders=0,xm(o,i,r&&!e),o}function zn(t,n=[]){return e=>{e.providersResolver=(r,i)=>Ab(r,i?i(t):t,n)}}function Yt(t,n,e,r){return kb(te(),$0(),t,n,e,r)}function Pb(t,n){let e=t[n];return e===At?void 0:e}function kb(t,n,e,r,i,o){let s=n+e;return yn(t,s,i)?GC(t,s+1,o?r.call(o,i):r(i)):Pb(t,s+1)}function Tm(t,n){return gm(t,n)}var du=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},sd=(()=>{class t{compileModuleSync(e){return new ou(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Np(e),o=jg(i.declarations).reduce((s,a)=>{let l=Nn(a);return l&&s.push(new Ni(l)),s},[]);return new du(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fb=(()=>{class t{zone=b(Te);changeDetectionScheduler=b(Ai);applicationRef=b(vn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lb({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new Te(q(D({},Vb()),{scheduleInRootZone:e})),[{provide:Te,useFactory:t},{provide:Tr,multi:!0,useFactory:()=>{let r=b(Fb,{optional:!0});return()=>r.initialize()}},{provide:Tr,multi:!0,useFactory:()=>{let r=b(jb);return()=>{r.initialize()}}},n===!0?{provide:Dg,useValue:!0}:[],{provide:Cg,useValue:e??_g}]}function Vb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var jb=(()=>{class t{subscription=new ye;initialized=!1;zone=b(Te);pendingTasks=b(Br);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Bb=(()=>{class t{appRef=b(vn);taskService=b(Br);ngZone=b(Te);zonelessEnabled=b(ku);tracing=b(kg,{optional:!0});disableScheduling=b(Dg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ye;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($s):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(Cg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Wc||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Hh:bg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($s+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $b(){return typeof $localize<"u"&&$localize.locale||Qs}var ad=new P("",{providedIn:"root",factory:()=>b(ad,z.Optional|z.SkipSelf)||$b()});var fu=new P(""),Ub=new P("");function Ci(t){return!t.moduleRef}function Hb(t){let n=Ci(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Te);return e.run(()=>{Ci(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(hn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Ci(t)){let o=()=>n.destroy(),s=t.platformInjector.get(fu);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(fu);s.add(o),t.moduleRef.onDestroy(()=>{Ss(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return nb(r,e,()=>{let o=n.get(bm);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(ad,Qs);if(Ib(s||Qs),!n.get(Ub,!0))return Ci(t)?n.get(vn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ci(t)){let l=n.get(vn);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return zb(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function zb(t,n){let e=t.injector.get(vn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new R(-403,!1);n.push(t)}var Is=null;function Gb(t=[],n){return Gt.create({name:n,providers:[{provide:ta,useValue:"platform"},{provide:fu,useValue:new Set([()=>Is=null])},...t]})}function qb(t=[]){if(Is)return Is;let n=Gb(t);return Is=n,XC(),Wb(n),n}function Wb(t){let n=t.get(ju,null);gt(t,()=>{n?.forEach(e=>e())})}var Gn=(()=>{class t{static __NG_ELEMENT_ID__=Zb}return t})();function Zb(t){return Yb(Le(),te(),(t&16)===16)}function Yb(t,n,e){if(ra(t)&&!e){let r=_n(t.index,n);return new Fn(r,r)}else if(t.type&175){let r=n[St];return new Fn(r,n)}return null}var hu=class{constructor(){}supports(n){return wm(n)}create(n){return new pu(n)}},Qb=(t,n)=>n,pu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||Qb}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<fp(r,i,o)?e:r,a=fp(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let m=0;m<c;m++){let g=m<o.length?o[m]:o[m]=0,_=g+m;u<=_&&_<c&&(o[m]=g+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!wm(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,zC(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new gu(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new Ks),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ks),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},gu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},mu=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Ks=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new mu,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fp(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}var yu=class{constructor(){}supports(n){return n instanceof Map||id(n)}create(){return new vu}},vu=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||id(n)))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new _u(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}},_u=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function hp(){return new ld([new hu])}var ld=(()=>{class t{factories;static \u0275prov=S({token:t,providedIn:"root",factory:hp});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||hp()),deps:[[t,new Cu,new ea]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new R(901,!1)}}return t})();function pp(){return new cd([new yu])}var cd=(()=>{class t{static \u0275prov=S({token:t,providedIn:"root",factory:pp});factories;constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||pp()),deps:[[t,new Cu,new ea]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new R(901,!1)}}return t})();function Mm(t){try{let{rootComponent:n,appProviders:e,platformProviders:r}=t,i=qb(r),o=[Lb({}),{provide:Ai,useExisting:Bb},...e||[]],s=new Zs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Hb({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function qn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function $i(t,n){ha("NgSignals");let e=Jf(t);return n?.equal&&(e[Ge].equal=n.equal),e}function Qt(t){let n=J(null);try{return t()}finally{J(n)}}var gp=class{[Ge];constructor(n){this[Ge]=n}destroy(){this[Ge].destroy()}};var Pm=null;function Kt(){return Pm}function km(t){Pm??=t}var Sa=class{};var it=new P(""),Fm=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>b(Kb),providedIn:"platform"})}return t})();var Kb=(()=>{class t extends Fm{_location;_history;_doc=b(it);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kt().getBaseHref(this._doc)}onPopState(e){let r=Kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Lm(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function Am(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,r=e-(t[e-1]==="/"?1:0);return t.slice(0,r)+t.slice(e)}function Wn(t){return t&&t[0]!=="?"?"?"+t:t}var Hr=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>b(Vm),providedIn:"root"})}return t})(),Jb=new P(""),Vm=(()=>{class t extends Hr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(it).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Lm(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Wn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Wn(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Wn(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(N(Fm),N(Jb,8))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ui=(()=>{class t{_subject=new Ee;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=tE(Am(Nm(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Wn(r))}normalize(e){return t.stripTrailingSlash(eE(this._basePath,Nm(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Wn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Wn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Wn;static joinWithSlash=Lm;static stripTrailingSlash=Am;static \u0275fac=function(r){return new(r||t)(N(Hr))};static \u0275prov=S({token:t,factory:()=>Xb(),providedIn:"root"})}return t})();function Xb(){return new Ui(N(Hr))}function eE(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function Nm(t){return t.replace(/\/index.html$/,"")}function tE(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}function jm(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var ud=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ve=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ud(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Rm(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Rm(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(C(Ur),C(_a),C(ld))};static \u0275dir=pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Rm(t,n){t.context.$implicit=n.item}var ot=(()=>{class t{_viewContainer;_context=new dd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Om("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Om("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(C(Ur),C(_a))};static \u0275dir=pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),dd=class{$implicit=null;ngIf=null};function Om(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Be(n)}'.`)}var Bm=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),s=i.indexOf("-")===-1?void 0:Mt.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(C(yt),C(cd),C(Nt))};static \u0275dir=pe({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();var ge=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Un({type:t});static \u0275inj=Vn({})}return t})(),$m="browser",nE="server";function hd(t){return t===nE}var Ia=class{};var gd=class extends Sa{supportsDOMEvents=!0},md=class t extends gd{static makeCurrent(){km(new t)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=rE();return e==null?null:iE(e)}resetBaseElement(){Hi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return jm(document.cookie,n)}},Hi=null;function rE(){return Hi=Hi||document.querySelector("base"),Hi?Hi.getAttribute("href"):null}function iE(t){return new URL(t,document.baseURI).pathname}var oE=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),yd=new P(""),Wm=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(N(yd),N(Te))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),Ta=class{_doc;constructor(n){this._doc=n}manager},xa="ng-app-id";function Um(t){for(let n of t)n.remove()}function Hm(t,n){let e=n.createElement("style");return e.textContent=t,e}function sE(t,n,e,r){let i=t.head?.querySelectorAll(`style[${xa}="${n}"],link[${xa}="${n}"]`);if(i)for(let o of i)o.removeAttribute(xa),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function vd(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Zm=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=hd(o),sE(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,Hm);r?.forEach(i=>this.addUsage(i,this.external,vd))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(Um(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Um(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,Hm(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,vd(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(xa,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(N(it),N(Vu),N(Bu,8),N($r))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),pd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wd=/%COMP%/g,Ym="%COMP%",aE=`_nghost-${Ym}`,lE=`_ngcontent-${Ym}`,cE=!0,uE=new P("",{providedIn:"root",factory:()=>cE});function dE(t){return lE.replace(wd,t)}function fE(t){return aE.replace(wd,t)}function Qm(t,n){return n.map(e=>e.replace(wd,t))}var zm=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.platformIsServer=hd(a),this.defaultRenderer=new zi(e,s,l,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tt.ShadowDom&&(r=q(D({},r),{encapsulation:Tt.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Ma?i.applyToHost(e):i instanceof Gi&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Tt.Emulated:o=new Ma(l,c,r,this.appId,u,s,a,d);break;case Tt.ShadowDom:return new _d(l,c,e,r,s,a,this.nonce,d);default:o=new Gi(l,c,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||t)(N(Wm),N(Zm),N(Vu),N(uE),N(it),N($r),N(Te),N(Bu))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),zi=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(pd[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Gm(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Gm(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new R(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=pd[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=pd[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Mt.DashCase|Mt.Important)?n.style.setProperty(e,r,i&Mt.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Mt.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r){if(typeof n=="string"&&(n=Kt().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function Gm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _d=class extends zi{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Qm(i.id,i.styles);for(let d of c){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=d,this.shadowRoot.appendChild(m)}let u=i.getExternalStyles?.();if(u)for(let d of u){let m=vd(d,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gi=class extends zi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=l?Qm(l,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ma=class extends Gi{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,l){let c=i+"-"+r.id;super(n,e,r,o,s,a,l,c),this.contentAttr=dE(c),this.hostAttr=fE(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}},hE=(()=>{class t extends Ta{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||t)(N(it))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),qm=["alt","control","meta","shift"],pE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},mE=(()=>{class t extends Ta{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kt().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qm.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=pE[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),qm.forEach(s=>{if(s!==i){let a=gE[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(N(it))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})();function Km(t,n){return Mm(D({rootComponent:t},yE(n)))}function yE(t){return{appProviders:[...CE,...t?.providers??[]],platformProviders:DE}}function vE(){md.makeCurrent()}function _E(){return new hn}function wE(){return Rg(document),document}var DE=[{provide:$r,useValue:$m},{provide:ju,useValue:vE,multi:!0},{provide:it,useFactory:wE,deps:[]}];var CE=[{provide:ta,useValue:"root"},{provide:hn,useFactory:_E,deps:[]},{provide:yd,useClass:hE,multi:!0,deps:[it,Te,$r]},{provide:yd,useClass:mE,multi:!0,deps:[it]},zm,Zm,Wm,{provide:Fr,useExisting:zm},{provide:Ia,useClass:oE,deps:[]},[]];var Jm=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(N(it))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var H="primary",ao=Symbol("RouteTitle"),Sd=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Yr(t){return new Sd(t)}function EE(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function SE(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Rt(t[e],n[e]))return!1;return!0}function Rt(t,n){let e=t?Id(t):void 0,r=n?Id(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!sy(t[i],n[i]))return!1;return!0}function Id(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sy(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function ay(t){return t.length>0?t[t.length-1]:null}function bn(t){return ac(t)?t:Hn(t)?fe(Promise.resolve(t)):B(t)}var IE={exact:cy,subset:uy},ly={exact:xE,subset:TE,ignored:()=>!0};function Xm(t,n,e){return IE[e.paths](t.root,n.root,e.matrixParams)&&ly[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function xE(t,n){return Rt(t,n)}function cy(t,n,e){if(!Yn(t.segments,n.segments)||!Ra(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!cy(t.children[r],n.children[r],e))return!1;return!0}function TE(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>sy(t[e],n[e]))}function uy(t,n,e){return dy(t,n,n.segments,e)}function dy(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!Yn(i,e)||n.hasChildren()||!Ra(i,e,r))}else if(t.segments.length===e.length){if(!Yn(t.segments,e)||!Ra(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!uy(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!Yn(t.segments,i)||!Ra(t.segments,i,r)||!t.children[H]?!1:dy(t.children[H],n,o,r)}}function Ra(t,n,e){return n.every((r,i)=>ly[e](t[i].parameters,r.parameters))}var Xt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ee([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){return NE.serialize(this)}},ee=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oa(this)}},Zn=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Yr(this.parameters),this._parameterMap}toString(){return hy(this)}};function ME(t,n){return Yn(t,n)&&t.every((e,r)=>Rt(e.parameters,n[r].parameters))}function Yn(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function AE(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(e=e.concat(n(i,r)))}),e}var Jd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>new Ji,providedIn:"root"})}return t})(),Ji=class{parse(n){let e=new Td(n);return new Xt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${qi(n.root,!0)}`,r=PE(n.queryParams),i=typeof n.fragment=="string"?`#${RE(n.fragment)}`:"";return`${e}${r}${i}`}},NE=new Ji;function Oa(t){return t.segments.map(n=>hy(n)).join("/")}function qi(t,n){if(!t.hasChildren())return Oa(t);if(n){let e=t.children[H]?qi(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${qi(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=AE(t,(r,i)=>i===H?[qi(t.children[H],!1)]:[`${i}:${qi(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${Oa(t)}/${e[0]}`:`${Oa(t)}/(${e.join("//")})`}}function fy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Aa(t){return fy(t).replace(/%3B/gi,";")}function RE(t){return encodeURI(t)}function xd(t){return fy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pa(t){return decodeURIComponent(t)}function ey(t){return Pa(t.replace(/\+/g,"%20"))}function hy(t){return`${xd(t.path)}${OE(t.parameters)}`}function OE(t){return Object.entries(t).map(([n,e])=>`;${xd(n)}=${xd(e)}`).join("")}function PE(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Aa(e)}=${Aa(i)}`).join("&"):`${Aa(e)}=${Aa(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var kE=/^[^\/()?;#]+/;function Dd(t){let n=t.match(kE);return n?n[0]:""}var FE=/^[^\/()?;=#]+/;function LE(t){let n=t.match(FE);return n?n[0]:""}var VE=/^[^=?&#]+/;function jE(t){let n=t.match(VE);return n?n[0]:""}var BE=/^[^&#]+/;function $E(t){let n=t.match(BE);return n?n[0]:""}var Td=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[H]=new ee(n,e)),r}parseSegment(){let n=Dd(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new Zn(Pa(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=LE(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Dd(this.remaining);i&&(r=i,this.capture(r))}n[Pa(e)]=Pa(r)}parseQueryParam(n){let e=jE(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=$E(this.remaining);s&&(r=s,this.capture(r))}let i=ey(e),o=ey(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=H);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[H]:new ee([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}};function py(t){return t.segments.length>0?new ee([],{[H]:t}):t}function gy(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=gy(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new ee(t.segments,n);return UE(e)}function UE(t){if(t.numberOfChildren===1&&t.children[H]){let n=t.children[H];return new ee(t.segments.concat(n.segments),n.children)}return t}function Qn(t){return t instanceof Xt}function HE(t,n,e=null,r=null){let i=my(t);return yy(i,n,e,r)}function my(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new ee(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=py(r);return n??i}function yy(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return Cd(i,i,i,e,r);let o=zE(n);if(o.toRoot())return Cd(i,i,new ee([],{}),e,r);let s=GE(o,i,t),a=s.processChildren?Yi(s.segmentGroup,s.index,o.commands):_y(s.segmentGroup,s.index,o.commands);return Cd(i,s.segmentGroup,a,e,r)}function ka(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xi(t){return typeof t=="object"&&t!=null&&t.outlets}function Cd(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===n?s=e:s=vy(t,n,e);let a=py(gy(s));return new Xt(a,o,i)}function vy(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=vy(o,n,e)}),new ee(t.segments,r)}var Fa=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&ka(r[0]))throw new R(4003,!1);let i=r.find(Xi);if(i&&i!==ay(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zE(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fa(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fa(e,n,r)}var qr=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function GE(t,n,e){if(t.isAbsolute)return new qr(n,!0,0);if(!e)return new qr(n,!1,NaN);if(e.parent===null)return new qr(e,!0,0);let r=ka(t.commands[0])?0:1,i=e.segments.length-1+r;return qE(e,i,t.numberOfDoubleDots)}function qE(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new qr(r,!1,i-o)}function WE(t){return Xi(t[0])?t[0].outlets:{[H]:t}}function _y(t,n,e){if(t??=new ee([],{}),t.segments.length===0&&t.hasChildren())return Yi(t,n,e);let r=ZE(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ee(t.segments.slice(0,r.pathIndex),{});return o.children[H]=new ee(t.segments.slice(r.pathIndex),t.children),Yi(o,0,i)}else return r.match&&i.length===0?new ee(t.segments,{}):r.match&&!t.hasChildren()?Md(t,n,e):r.match?Yi(t,0,i):Md(t,n,e)}function Yi(t,n,e){if(e.length===0)return new ee(t.segments,{});{let r=WE(e),i={};if(Object.keys(r).some(o=>o!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let o=Yi(t.children[H],n,e);return new ee(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_y(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(t.segments,i)}}function ZE(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(Xi(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!ny(l,c,s))return o;r+=2}else{if(!ny(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Md(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(Xi(o)){let l=YE(o.outlets);return new ee(r,l)}if(i===0&&ka(e[0])){let l=t.segments[n];r.push(new Zn(l.path,ty(e[0]))),i++;continue}let s=Xi(o)?o.outlets[H]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&ka(a)?(r.push(new Zn(s,ty(a))),i+=2):(r.push(new Zn(s,{})),i++)}return new ee(r,{})}function YE(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=Md(new ee([],{}),0,r))}),n}function ty(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function ny(t,n,e){return t==e.path&&Rt(n,e.parameters)}var Qi="imperative",Oe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Oe||{}),st=class{id;url;constructor(n,e){this.id=n,this.url=e}},eo=class extends st{type=Oe.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cn=class extends st{urlAfterRedirects;type=Oe.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qe=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qe||{}),Ad=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ad||{}),Jt=class extends st{reason;code;type=Oe.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kn=class extends st{reason;code;type=Oe.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},to=class extends st{error;target;type=Oe.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},La=class extends st{urlAfterRedirects;state;type=Oe.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nd=class extends st{urlAfterRedirects;state;type=Oe.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rd=class extends st{urlAfterRedirects;state;shouldActivate;type=Oe.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Od=class extends st{urlAfterRedirects;state;type=Oe.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pd=class extends st{urlAfterRedirects;state;type=Oe.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kd=class{route;type=Oe.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fd=class{route;type=Oe.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ld=class{snapshot;type=Oe.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vd=class{snapshot;type=Oe.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{snapshot;type=Oe.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bd=class{snapshot;type=Oe.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var no=class{},Qr=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function QE(t,n){return t.providers&&!t._injector&&(t._injector=nd(t.providers,n,`Route: ${t.path}`)),t._injector??n}function wt(t){return t.outlet||H}function KE(t,n){let e=t.filter(r=>wt(r)===n);return e.push(...t.filter(r=>wt(r)!==n)),e}function lo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var $d=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return lo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new za(this.rootInjector)}},za=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new $d(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(N(nt))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Va=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Ud(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=Ud(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Hd(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Hd(n,this._root).map(e=>e.value)}};function Ud(t,n){if(t===n.value)return n;for(let e of n.children){let r=Ud(t,e);if(r)return r}return null}function Hd(t,n){if(t===n.value)return[n];for(let e of n.children){let r=Hd(t,e);if(r.length)return r.unshift(n),r}return[]}var Ye=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Gr(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var ja=class extends Va{snapshot;constructor(n,e){super(n),this.snapshot=e,Xd(this,n)}toString(){return this.snapshot.toString()}};function wy(t){let n=JE(t),e=new Ne([new Zn("",{})]),r=new Ne({}),i=new Ne({}),o=new Ne({}),s=new Ne(""),a=new Ke(e,r,o,s,i,H,t,n.root);return a.snapshot=n.root,new ja(new Ye(a,[]),n)}function JE(t){let n={},e={},r={},i="",o=new Wr([],n,r,i,e,H,t,null,{});return new $a("",new Ye(o,[]))}var Ke=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(W(c=>c[ao]))??B(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(n=>Yr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(n=>Yr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ba(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:D(D({},n.params),t.params),data:D(D({},n.data),t.data),resolve:D(D(D(D({},t.data),n.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&Cy(i)&&(r.resolve[ao]=i.title),r}var Wr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ao]}constructor(n,e,r,i,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},$a=class extends Va{url;constructor(n,e){super(e),this.url=n,Xd(this,e)}toString(){return Dy(this._root)}};function Xd(t,n){n.value._routerState=t,n.children.forEach(e=>Xd(t,e))}function Dy(t){let n=t.children.length>0?` { ${t.children.map(Dy).join(", ")} } `:"";return`${t.value}${n}`}function bd(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Rt(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Rt(n.params,e.params)||t.paramsSubject.next(e.params),SE(n.url,e.url)||t.urlSubject.next(e.url),Rt(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zd(t,n){let e=Rt(t.params,n.params)&&ME(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||zd(t.parent,n.parent))}function Cy(t){return typeof t.title=="string"||t.title===null}var XE=new P(""),ef=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new _e;deactivateEvents=new _e;attachEvents=new _e;detachEvents=new _e;routerOutletData=Sg(void 0);parentContexts=b(za);location=b(Ur);changeDetector=b(Gn);inputBinder=b(tf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Gd(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[jr]})}return t})(),Gd=class t{route;childContexts;parent;outletData;__ngOutletInjector(n){return new t(this.route,this.childContexts,n,this.outletData)}constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===Ke?this.route:n===za?this.childContexts:n===XE?this.outletData:this.parent.get(n,e)}},tf=new P("");function eS(t,n,e){let r=ro(t,n._root,e?e._root:void 0);return new ja(r,n)}function ro(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=tS(t,n,e);return new Ye(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ro(t,a)),s}}let r=nS(n.value),i=n.children.map(o=>ro(t,o));return new Ye(r,i)}}function tS(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ro(t,r,i);return ro(t,r)})}function nS(t){return new Ke(new Ne(t.url),new Ne(t.params),new Ne(t.queryParams),new Ne(t.fragment),new Ne(t.data),t.outlet,t.component,t)}var io=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},by="ngNavigationCancelingError";function Ua(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=Qn(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Ey(!1,Qe.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Ey(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[by]=!0,e.cancellationCode=n,e}function rS(t){return Sy(t)&&Qn(t.url)}function Sy(t){return!!t&&t[by]}var iS=(t,n,e,r)=>W(i=>(new qd(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),qd=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),bd(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=Gr(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Gr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Gr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=Gr(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Bd(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Vd(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(bd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),bd(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Ha=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Zr=class{component;route;constructor(n,e){this.component=n,this.route=e}};function oS(t,n,e){let r=t._root,i=n?n._root:null;return Wi(r,i,e,[r.value])}function sS(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Jr(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!Dp(t)?t:n.get(t):r}function Wi(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Gr(n);return t.children.forEach(s=>{aS(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ki(a,e.getContext(s),i)),i}function aS(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=lS(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ha(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wi(t,n,a?a.children:null,r,i):Wi(t,n,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zr(a.outlet.component,s))}else s&&Ki(n,a,i),i.canActivateChecks.push(new Ha(r)),o.component?Wi(t,null,a?a.children:null,r,i):Wi(t,null,e,r,i);return i}function lS(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Yn(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Yn(t.url,n.url)||!Rt(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zd(t,n)||!Rt(t.queryParams,n.queryParams);case"paramsChange":default:return!zd(t,n)}}function Ki(t,n,e){let r=Gr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Ki(s,n.children.getContext(o),e):Ki(s,null,e):Ki(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Zr(n.outlet.component,i)):e.canDeactivateChecks.push(new Zr(null,i)):e.canDeactivateChecks.push(new Zr(null,i))}function co(t){return typeof t=="function"}function cS(t){return typeof t=="boolean"}function uS(t){return t&&co(t.canLoad)}function dS(t){return t&&co(t.canActivate)}function fS(t){return t&&co(t.canActivateChild)}function hS(t){return t&&co(t.canDeactivate)}function pS(t){return t&&co(t.canMatch)}function Iy(t){return t instanceof $t||t?.name==="EmptyError"}var Na=Symbol("INITIAL_VALUE");function Kr(){return dt(t=>gs(t.map(n=>n.pipe(Ut(1),hc(Na)))).pipe(W(n=>{for(let e of n)if(e!==!0){if(e===Na)return Na;if(e===!1||gS(e))return e}return!0}),ut(n=>n!==Na),Ut(1)))}function gS(t){return Qn(t)||t instanceof io}function mS(t,n){return Se(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?B(q(D({},e),{guardsResult:!0})):yS(s,r,i,t).pipe(Se(a=>a&&cS(a)?vS(r,o,t,n):B(a)),W(a=>q(D({},e),{guardsResult:a})))})}function yS(t,n,e,r){return fe(t).pipe(Se(i=>bS(i.component,i.route,e,n,r)),Ht(i=>i!==!0,!0))}function vS(t,n,e,r){return fe(n).pipe(vr(i=>yr(wS(i.route.parent,r),_S(i.route,r),CS(t,i.path,e),DS(t,i.route,e))),Ht(i=>i!==!0,!0))}function _S(t,n){return t!==null&&n&&n(new jd(t)),B(!0)}function wS(t,n){return t!==null&&n&&n(new Ld(t)),B(!0)}function DS(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let i=r.map(o=>ms(()=>{let s=lo(n)??e,a=Jr(o,s),l=dS(a)?a.canActivate(n,t):gt(s,()=>a(n,t));return bn(l).pipe(Ht())}));return B(i).pipe(Kr())}function CS(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>sS(s)).filter(s=>s!==null).map(s=>ms(()=>{let a=s.guards.map(l=>{let c=lo(s.node)??e,u=Jr(l,c),d=fS(u)?u.canActivateChild(r,t):gt(c,()=>u(r,t));return bn(d).pipe(Ht())});return B(a).pipe(Kr())}));return B(o).pipe(Kr())}function bS(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return B(!0);let s=o.map(a=>{let l=lo(n)??i,c=Jr(a,l),u=hS(c)?c.canDeactivate(t,n,e,r):gt(l,()=>c(t,n,e,r));return bn(u).pipe(Ht())});return B(s).pipe(Kr())}function ES(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return B(!0);let o=i.map(s=>{let a=Jr(s,t),l=uS(a)?a.canLoad(n,e):gt(t,()=>a(n,e));return bn(l)});return B(o).pipe(Kr(),xy(r))}function xy(t){return rc(Re(n=>{if(typeof n!="boolean")throw Ua(t,n)}),W(n=>n===!0))}function SS(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return B(!0);let o=i.map(s=>{let a=Jr(s,t),l=pS(a)?a.canMatch(n,e):gt(t,()=>a(n,e));return bn(l)});return B(o).pipe(Kr(),xy(r))}var oo=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},so=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function zr(t){return mr(new oo(t))}function IS(t){return mr(new R(4e3,!1))}function xS(t){return mr(Ey(!1,Qe.GuardRejected))}var Wd=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return B(r);if(i.numberOfChildren>1||!i.children[H])return IS(`${n.redirectTo}`);i=i.children[H]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:m,params:g,data:_,title:E}=i,A=gt(o,()=>a({params:g,data:_,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:m,title:E}));if(A instanceof Xt)throw new so(A);e=A}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new so(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new Xt(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ee(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},Zd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TS(t,n,e,r,i){let o=Ty(t,n,e);return o.matched?(r=QE(n,r),SS(r,n,e,i).pipe(W(s=>s===!0?o:D({},Zd)))):B(o)}function Ty(t,n,e){if(n.path==="**")return MS(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?D({},Zd):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||EE)(e,t,n);if(!i)return D({},Zd);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function MS(t){return{matched:!0,parameters:t.length>0?ay(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ry(t,n,e,r){return e.length>0&&RS(t,e,r)?{segmentGroup:new ee(n,NS(r,new ee(e,t.children))),slicedSegments:[]}:e.length===0&&OS(t,e,r)?{segmentGroup:new ee(t.segments,AS(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ee(t.segments,t.children),slicedSegments:e}}function AS(t,n,e,r){let i={};for(let o of e)if(Ga(t,n,o)&&!r[wt(o)]){let s=new ee([],{});i[wt(o)]=s}return D(D({},r),i)}function NS(t,n){let e={};e[H]=n;for(let r of t)if(r.path===""&&wt(r)!==H){let i=new ee([],{});e[wt(r)]=i}return e}function RS(t,n,e){return e.some(r=>Ga(t,n,r)&&wt(r)!==H)}function OS(t,n,e){return e.some(r=>Ga(t,n,r))}function Ga(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function PS(t,n,e){return n.length===0&&!t.children[e]}var Yd=class{};function kS(t,n,e,r,i,o,s="emptyOnly"){return new Qd(t,n,e,r,i,s,o).recognize()}var FS=31,Qd=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wd(this.urlSerializer,this.urlTree)}noMatchError(n){return new R(4002,`'${n.segmentGroup}'`)}recognize(){let n=ry(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(W(({children:e,rootSnapshot:r})=>{let i=new Ye(r,e),o=new $a("",i),s=HE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new Wr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,H,e).pipe(W(r=>({children:r,rootSnapshot:e})),an(r=>{if(r instanceof so)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oo?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(W(s=>s instanceof Ye?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return fe(o).pipe(vr(s=>{let a=r.children[s],l=KE(e,s);return this.processSegmentGroup(n,l,a,s,i)}),fc((s,a)=>(s.push(...a),s)),ln(null),dc(),Se(s=>{if(s===null)return zr(r);let a=My(s);return LS(a),B(a)}))}processSegment(n,e,r,i,o,s,a){return fe(e).pipe(vr(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,s,a).pipe(an(c=>{if(c instanceof oo)return B(null);throw c}))),Ht(l=>!!l),an(l=>{if(Iy(l))return PS(r,i,o)?B(new Yd):zr(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,l){return wt(r)!==s&&(s===H||!Ga(i,o,r))?zr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,l):zr(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=Ty(e,i,o);if(!l)return zr(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FS&&(this.allowRedirects=!1));let g=new Wr(o,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,iy(i),wt(i),i.component??i._loadedComponent??null,i,oy(i)),_=Ba(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let E=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,n);return this.applyRedirects.lineralizeSegments(i,E).pipe(Se(A=>this.processSegment(n,r,e,A.concat(m),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=TS(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(dt(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(dt(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:m,remainingSegments:g}=l,_=new Wr(m,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,iy(r),wt(r),r.component??r._loadedComponent??null,r,oy(r)),E=Ba(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(E.params),_.data=Object.freeze(E.data);let{segmentGroup:A,slicedSegments:O}=ry(e,m,g,c);if(O.length===0&&A.hasChildren())return this.processChildren(u,c,A,_).pipe(W(ae=>new Ye(_,ae)));if(c.length===0&&O.length===0)return B(new Ye(_,[]));let se=wt(r)===o;return this.processSegment(u,c,A,O,se?H:o,!0,_).pipe(W(ae=>new Ye(_,ae instanceof Ye?[ae]:[])))}))):zr(e)))}getChildConfig(n,e,r){return e.children?B({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?B({routes:e._loadedRoutes,injector:e._loadedInjector}):ES(n,e,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(n,e).pipe(Re(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):xS(e))):B({routes:[],injector:n})}};function LS(t){t.sort((n,e)=>n.value.outlet===H?-1:e.value.outlet===H?1:n.value.outlet.localeCompare(e.value.outlet))}function VS(t){let n=t.value.routeConfig;return n&&n.path===""}function My(t){let n=[],e=new Set;for(let r of t){if(!VS(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=My(r.children);n.push(new Ye(r.value,i))}return n.filter(r=>!e.has(r))}function iy(t){return t.data||{}}function oy(t){return t.resolve||{}}function jS(t,n,e,r,i,o){return Se(s=>kS(t,n,e,r,s.extractedUrl,i,o).pipe(W(({state:a,tree:l})=>q(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function BS(t,n){return Se(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return B(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Ay(l))s.add(c);let a=0;return fe(s).pipe(vr(l=>o.has(l)?$S(l,r,t,n):(l.data=Ba(l,l.parent,t).resolve,B(void 0))),Re(()=>a++),_r(1),Se(l=>a===s.size?B(e):We))})}function Ay(t){let n=t.children.map(e=>Ay(e)).flat();return[t,...n]}function $S(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Cy(i)&&(o[ao]=i.title),US(o,t,n,r).pipe(W(s=>(t._resolvedData=s,t.data=Ba(t,t.parent,e).resolve,null)))}function US(t,n,e,r){let i=Id(t);if(i.length===0)return B({});let o={};return fe(i).pipe(Se(s=>HS(t[s],n,e,r).pipe(Ht(),Re(a=>{if(a instanceof io)throw Ua(new Ji,a);o[s]=a}))),_r(1),uc(o),an(s=>Iy(s)?We:mr(s)))}function HS(t,n,e,r){let i=lo(n)??r,o=Jr(t,i),s=o.resolve?o.resolve(n,e):gt(i,()=>o(n,e));return bn(s)}function Ed(t){return dt(n=>{let e=t(n);return e?fe(e).pipe(W(()=>n)):B(n)})}var Ny=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===H);return r}getResolvedTitleForRoute(e){return e.data[ao]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>b(zS),providedIn:"root"})}return t})(),zS=(()=>{class t extends Ny{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(N(Jm))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nf=new P("",{providedIn:"root",factory:()=>({})}),GS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ue({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){r&1&&ie(0,"router-outlet")},dependencies:[ef],encapsulation:2})}return t})();function rf(t){let n=t.children&&t.children.map(rf),e=n?q(D({},t),{children:n}):D({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==H&&(e.component=GS),e}var of=new P(""),qS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(sd);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return B(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=bn(e.loadComponent()).pipe(W(Ry),Re(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Di(()=>{this.componentLoaders.delete(e)})),i=new gr(r,()=>new Ee).pipe(pr());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=WS(r,this.compiler,e,this.onLoadEndListener).pipe(Di(()=>{this.childrenLoaders.delete(r)})),s=new gr(o,()=>new Ee).pipe(pr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function WS(t,n,e,r){return bn(t.loadChildren()).pipe(W(Ry),Se(i=>i instanceof Ri||Array.isArray(i)?B(i):fe(n.compileModuleAsync(i))),W(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(of,[],{optional:!0,self:!0}).flat()),{routes:s.map(rf),injector:o}}))}function ZS(t){return t&&typeof t=="object"&&"default"in t}function Ry(t){return ZS(t)?t.default:t}var sf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>b(YS),providedIn:"root"})}return t})(),YS=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QS=new P("");var KS=new P(""),JS=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ee;transitionAbortSubject=new Ee;configLoader=b(qS);environmentInjector=b(nt);urlSerializer=b(Jd);rootContexts=b(za);location=b(Ui);inputBindingEnabled=b(tf,{optional:!0})!==null;titleStrategy=b(Ny);options=b(nf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(sf);createViewTransition=b(QS,{optional:!0});navigationErrorHandler=b(KS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;constructor(){let e=i=>this.events.next(new kd(i)),r=i=>this.events.next(new Fd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(q(D(D({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new Ne({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qi,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(o=>o.id!==0),W(o=>q(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dt(o=>{let s=!1,a=!1;return B(o).pipe(dt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qe.SupersededByNewNavigation),We;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?q(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Kn(l.id,this.urlSerializer.serialize(l.rawUrl),d,Ad.IgnoredSameUrlNavigation)),l.resolve(!1),We}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return B(l).pipe(dt(d=>{let m=this.transitions?.getValue();return this.events.next(new eo(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?We:Promise.resolve(d)}),jS(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Re(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=q(D({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new La(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:_,extras:E}=l,A=new eo(d,this.urlSerializer.serialize(m),g,_);this.events.next(A);let O=wy(this.rootComponentType).snapshot;return this.currentTransition=o=q(D({},l),{targetSnapshot:O,urlAfterRedirects:m,extras:q(D({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,B(o)}else{let d="";return this.events.next(new Kn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Ad.IgnoredByUrlHandlingStrategy)),l.resolve(!1),We}}),Re(l=>{let c=new Nd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),W(l=>(this.currentTransition=o=q(D({},l),{guards:oS(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),mS(this.environmentInjector,l=>this.events.next(l)),Re(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ua(this.urlSerializer,l.guardsResult);let c=new Rd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ut(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Qe.GuardRejected),!1)),Ed(l=>{if(l.guards.canActivateChecks.length)return B(l).pipe(Re(c=>{let u=new Od(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),dt(c=>{let u=!1;return B(c).pipe(BS(this.paramsInheritanceStrategy,this.environmentInjector),Re({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Qe.NoDataFromResolver)}}))}),Re(c=>{let u=new Pd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Ed(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Re(m=>{u.component=m}),W(()=>{})));for(let m of u.children)d.push(...c(m));return d};return gs(c(l.targetSnapshot.root)).pipe(ln(null),Ut(1))}),Ed(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?fe(u).pipe(W(()=>o)):B(o)}),W(l=>{let c=eS(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=q(D({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Re(()=>{this.events.next(new no)}),iS(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ut(1),Re({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),pc(this.transitionAbortSubject.pipe(Re(l=>{throw l}))),Di(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Qe.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),an(l=>{if(a=!0,Sy(l))this.events.next(new Jt(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),rS(l)?this.events.next(new Qr(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new to(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=gt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof io){let{message:d,cancellationCode:m}=Ua(this.urlSerializer,u);this.events.next(new Jt(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new Qr(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return We}))}))}cancelNavigationTransition(e,r,i){let o=new Jt(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XS(t){return t!==Qi}var eI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>b(tI),providedIn:"root"})}return t})(),Kd=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},tI=(()=>{class t extends Kd{static \u0275fac=(()=>{let e;return function(i){return(e||(e=wn(t)))(i||t)}})();static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>b(nI),providedIn:"root"})}return t})(),nI=(()=>{class t extends Oy{location=b(Ui);urlSerializer=b(Jd);options=b(nf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=b(sf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Xt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=wy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof eo)this.stateMemento=this.createStateMemento();else if(e instanceof Kn)this.rawUrlTree=r.initialUrl;else if(e instanceof La){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof no?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Jt&&(e.code===Qe.GuardRejected||e.code===Qe.NoDataFromResolver)?this.restoreHistory(r):e instanceof to?this.restoreHistory(r,!0):e instanceof Cn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof Xt?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=D(D({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=D(D({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=wn(t)))(i||t)}})();static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zi=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zi||{});function rI(t,n){t.events.pipe(ut(e=>e instanceof Cn||e instanceof Jt||e instanceof to||e instanceof Kn),W(e=>e instanceof Cn||e instanceof Kn?Zi.COMPLETE:(e instanceof Jt?e.code===Qe.Redirect||e.code===Qe.SupersededByNewNavigation:!1)?Zi.REDIRECTING:Zi.FAILED),ut(e=>e!==Zi.REDIRECTING),Ut(1)).subscribe(()=>{n()})}var iI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(wa);stateManager=b(Oy);options=b(nf,{optional:!0})||{};pendingTasks=b(Br);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(JS);urlSerializer=b(Jd);location=b(Ui);urlHandlingStrategy=b(sf);_events=new Ee;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(eI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(of,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(tf,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ye;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Jt&&r.code!==Qe.Redirect&&r.code!==Qe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Cn)this.navigated=!0;else if(r instanceof Qr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=D({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XS(i.source)},s);this.scheduleNavigation(a,Qi,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}aI(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=D({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(rf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=my(m)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return yy(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Qn(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Qi,null,r)}navigate(e,r={skipLocationChange:!1}){return sI(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=D({},iI):r===!1?i=D({},oI):i=r,Qn(e))return Xm(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Xm(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,m)=>{a=d,l=m});let u=this.pendingTasks.add();return rI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sI(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new R(4008,!1)}function aI(t){return!(t instanceof no)&&!(t instanceof Qr)}var Ot=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ee;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Cn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:Lg(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Qn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(C(Dt),C(Ke),Pu("tabindex"),C(Nt),C(yt),C(Hr))};static \u0275dir=pe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&M("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ca("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qn],replaceUrl:[2,"replaceUrl","replaceUrl",qn],routerLink:"routerLink"},features:[rd,jr]})}return t})();var lI=new P("");function Py(t,...n){return Eu([{provide:of,multi:!0,useValue:t},[],{provide:Ke,useFactory:cI,deps:[Dt]},{provide:od,multi:!0,useFactory:uI},n.map(e=>e.\u0275providers)])}function cI(t){return t.routerState.root}function uI(){let t=b(Gt);return n=>{let e=t.get(vn);if(n!==e.components[0])return;let r=t.get(Dt),i=t.get(dI);t.get(fI)===1&&r.initialNavigation(),t.get(hI,null,z.Optional)?.setUpPreloading(),t.get(lI,null,z.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dI=new P("",{factory:()=>new Ee}),fI=new P("",{providedIn:"root",factory:()=>1});var hI=new P("");var ky=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)};var uo=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},qa=class extends uo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Wa=class extends uo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Za=class extends uo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},af=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(af||{});var pI=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},fo=class{constructor(n,{headers:e={},customFetch:r,region:i=af.Any}={}){this.url=n,this.headers=e,this.region=i,this.fetch=ky(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,e={}){var r;return pI(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(_=>{throw new qa(_)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Wa(u);if(!u.ok)throw new Za(u);let m=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield u.json():m==="application/octet-stream"?g=yield u.blob():m==="text/event-stream"?g=u:m==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}};var Zy=d_(Wy(),1),{PostgrestClient:Yy,PostgrestQueryBuilder:lk,PostgrestFilterBuilder:ck,PostgrestTransformBuilder:uk,PostgrestBuilder:dk,PostgrestError:fk}=Zy.default;var Qy="2.11.2";var Ky={"X-Client-Info":`realtime-js/${Qy}`},Jy="1.0.0",Ja=1e4,Xy=1e3,ti=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(ti||{}),Je=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(Je||{}),at=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(at||{}),_f=function(t){return t.websocket="websocket",t}(_f||{}),Jn=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(Jn||{});var Xa=class{constructor(){this.HEADER_LENGTH=1}decode(n,e){return n.constructor===ArrayBuffer?e(this._binaryDecode(n)):e(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let e=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,e,r)}_decodeBroadcast(n,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let l=r.decode(n.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var ni=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var oe=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(oe||{}),Df=(t,n,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=II(s,t,n,i),o),{})},II=(t,n,e,r)=>{let i=n.find(a=>a.name===t),o=i?.type,s=e[t];return o&&!r.includes(o)?ev(o,s):wf(s)},ev=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return AI(n,e)}switch(t){case oe.bool:return xI(n);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return TI(n);case oe.json:case oe.jsonb:return MI(n);case oe.timestamp:return NI(n);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return wf(n);default:return wf(n)}},wf=t=>t,xI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TI=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},MI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},AI=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>ev(n,a))}return t},NI=t=>typeof t=="string"?t.replace(" ","T"):t,el=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var ri=class{constructor(n,e,r={},i=Ja){this.channel=n,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var _o=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,i){let o=this.cloneDeep(n),s=this.transformState(e),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let m=u.map(A=>A.presence_ref),g=d.map(A=>A.presence_ref),_=u.filter(A=>g.indexOf(A.presence_ref)<0),E=d.filter(A=>m.indexOf(A.presence_ref)<0);_.length>0&&(a[c]=_),E.length>0&&(l[c]=E)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(g=>g.presence_ref),m=u.filter(g=>d.indexOf(g.presence_ref)<0);n[a].unshift(...m)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let i=n[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var en=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(en||{});var wo=class t{constructor(n,e={config:{}},r){this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new ri(this,at.join,this.params,this.timeout),this.rejoinTimer=new ni(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new _o(this),this.broadcastEndpointURL=el(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(en.CHANNEL_ERROR,u)),this._onClose(()=>n?.(en.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",d=>f(this,[d],function*({postgres_changes:u}){var m;if(this.socket.setAuth(),u===void 0){n?.(en.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,_=(m=g?.length)!==null&&m!==void 0?m:0,E=[];for(let A=0;A<_;A++){let O=g[A],{filter:{event:se,schema:ae,table:le,filter:ke}}=O,me=u&&u[A];if(me&&me.event===se&&me.schema===ae&&me.table===le&&me.filter===ke)E.push(Object.assign(Object.assign({},O),{id:me.id}));else{this.unsubscribe(),n?.(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,n&&n(en.SUBSCRIBED);return}})).receive("error",u=>{n?.(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(n,e={}){return yield this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,e,r){return this._on(n,e,r)}send(r){return f(this,arguments,function*(n,e={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Je.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new ri(this,at.leave,{},n);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(n,e,r){return f(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ri(this,n,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=at;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,e,r);if(e&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var _,E,A;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(E=g.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===s}).map(g=>g.callback(m,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var _,E,A,O,se,ae;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){let le=g.id,ke=(_=g.filter)===null||_===void 0?void 0:_.event;return le&&((E=e.ids)===null||E===void 0?void 0:E.includes(le))&&(ke==="*"||ke?.toLocaleLowerCase()===((A=e.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{let le=(se=(O=g?.filter)===null||O===void 0?void 0:O.event)===null||se===void 0?void 0:se.toLocaleLowerCase();return le==="*"||le===((ae=e?.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof m=="object"&&"ids"in m){let _=m.data,{schema:E,table:A,commit_timestamp:O,type:se,errors:ae}=_;m=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:O,eventType:se,new:{},old:{},errors:ae}),this._getPayloadRecords(_))}g.callback(m,r)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let i=n.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,e))}),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(at.close,{},n)}_onError(n){this._on(at.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=Df(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=Df(n.columns,n.old_record)),e}};var OI=()=>{},PI=typeof WebSocket<"u",kI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Do=class{constructor(n,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ky,this.params={},this.timeout=Ja,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=OI,this.conn=null,this.sendBuffer=[],this.serializer=new Xa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${_f.websocket}`,this.httpEndpoint=el(n),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ni(()=>f(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(PI){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Cf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-BBCAVWXX.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jy}))}disconnect(n,e){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return f(this,null,function*(){let e=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return f(this,null,function*(){let n=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),n})}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ti.connecting:return Jn.Connecting;case ti.open:return Jn.Open;case ti.closing:return Jn.Closing;default:return Jn.Closed}}isConnected(){return this.connectionState()===Jn.Open}channel(n,e={config:{}}){let r=new wo(`realtime:${n}`,e,this);return this.channels.push(r),r}push(n){let{topic:e,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return f(this,null,function*(){let e=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(at.access_token,{access_token:e})})}})}sendHeartbeat(){return f(this,null,function*(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(Xy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){return f(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(at.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${n}${r}${i}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([kI],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var Cf=class{constructor(n,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ti.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var ii=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function we(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var tl=class extends ii{constructor(n,e){super(n),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Xn=class extends ii{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};var FI=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},rl=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},tv=()=>FI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),nl=t=>{if(Array.isArray(t))return t.map(e=>nl(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=nl(r)}),n};var er=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},bf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LI=(t,n,e)=>er(void 0,void 0,void 0,function*(){let r=yield tv();t instanceof r&&!e?.noResolveJson?t.json().then(i=>{n(new tl(bf(i),t.status||500))}).catch(i=>{n(new Xn(bf(i),i))}):n(new Xn(bf(t),t))}),VI=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Co(t,n,e,r,i,o){return er(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,VI(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>LI(l,a,r))})})}function oi(t,n,e,r){return er(this,void 0,void 0,function*(){return Co(t,"GET",n,e,r)})}function Pt(t,n,e,r,i){return er(this,void 0,void 0,function*(){return Co(t,"POST",n,r,i,e)})}function nv(t,n,e,r,i){return er(this,void 0,void 0,function*(){return Co(t,"PUT",n,r,i,e)})}function rv(t,n,e,r){return er(this,void 0,void 0,function*(){return Co(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function il(t,n,e,r,i){return er(this,void 0,void 0,function*(){return Co(t,"DELETE",n,r,i,e)})}var ze=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},jI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ol=class{constructor(n,e={},r,i){this.url=n,this.headers=e,this.bucketId=r,this.fetch=rl(i)}uploadOrUpdate(n,e,r,i){return ze(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},iv),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),m=yield d.json();return d.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(we(o))return{data:null,error:o};throw o}})}upload(n,e,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,i){return ze(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:iv.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),m=yield d.json();return d.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(we(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,e){return ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new ii("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}update(n,e,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return ze(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}copy(n,e,r){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}createSignedUrl(n,e,r){return ze(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Pt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}createSignedUrls(n,e,r){return ze(this,void 0,void 0,function*(){try{let i=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}download(n,e){return ze(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield oi(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}})}info(n){return ze(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield oi(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:nl(r),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}exists(n){return ze(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield rv(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(we(r)&&r instanceof Xn){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return ze(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(we(e))return{data:null,error:e};throw e}})}list(n,e,r){return ze(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},jI),e),{prefix:n||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};var ov="2.7.1";var sv={"X-Client-Info":`storage-js/${ov}`};var si=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},sl=class{constructor(n,e={},r){this.url=n,this.headers=Object.assign(Object.assign({},sv),e),this.fetch=rl(r)}listBuckets(){return si(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}getBucket(n){return si(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(we(e))return{data:null,error:e};throw e}})}createBucket(n,e={public:!1}){return si(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}updateBucket(n,e){return si(this,void 0,void 0,function*(){try{return{data:yield nv(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}emptyBucket(n){return si(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(we(e))return{data:null,error:e};throw e}})}deleteBucket(n){return si(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(we(e))return{data:null,error:e};throw e}})}};var bo=class extends sl{constructor(n,e={},r){super(n,e,r)}from(n){return new ol(this.url,this.headers,n,this.fetch)}};var av="2.47.10";var Eo="";typeof Deno<"u"?Eo="deno":typeof document<"u"?Eo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eo="react-native":Eo="node";var BI={"X-Client-Info":`supabase-js-${Eo}/${av}`},lv={headers:BI},cv={schema:"public"},uv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dv={};Gf();var $I=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},UI=t=>{let n;return t?n=t:typeof fetch>"u"?n=Hf:n=fetch,(...e)=>n(...e)},HI=()=>typeof Headers>"u"?zf:Headers,fv=(t,n,e)=>{let r=UI(e),i=HI();return(o,s)=>$I(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:t,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var zI=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})};function hv(t){return t.replace(/\/$/,"")}function pv(t,n){let{db:e,auth:r,realtime:i,global:o}=t,{db:s,auth:a,realtime:l,global:c}=n,u={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>zI(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}var al="2.67.3";var gv="http://localhost:9999",mv="supabase.auth.token";var yv={"X-Client-Info":`gotrue-js/${al}`},Ef=10;var So="X-Supabase-Api-Version",Sf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function vv(t){return Math.round(Date.now()/1e3)+t}function _v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}var Ct=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},En=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function wv(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{n[i]=r}),n}var ll=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},Dv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",If=(t,n,e)=>f(void 0,null,function*(){yield t.setItem(n,JSON.stringify(e))}),xo=(t,n)=>f(void 0,null,function*(){let e=yield t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),To=(t,n)=>f(void 0,null,function*(){yield t.removeItem(n)});function GI(t){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",r,i,o,s,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)s=n.indexOf(t.charAt(u++)),a=n.indexOf(t.charAt(u++)),l=n.indexOf(t.charAt(u++)),c=n.indexOf(t.charAt(u++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|c,e=e+String.fromCharCode(r),l!=64&&i!=0&&(e=e+String.fromCharCode(i)),c!=64&&o!=0&&(e=e+String.fromCharCode(o));return e}var Io=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};Io.promiseConstructor=Promise;function xf(t){let n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=t.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=e[1];return JSON.parse(GI(r))}function Cv(t){return f(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),t)})})}function bv(t,n){return new Promise((r,i)=>{f(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function qI(t){return("0"+t.toString(16)).substr(-2)}function WI(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,qI).join("")}function ZI(t){return f(this,null,function*(){let e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function YI(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function QI(t){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=yield ZI(t);return YI(e)})}function nr(t,n,e=!1){return f(this,null,function*(){let r=WI(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield If(t,`${n}-code-verifier`,i);let o=yield QI(r);return[o,r===o?"plain":"s256"]})}var KI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ev(t){let n=t.headers.get(So);if(!n||!n.match(KI))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}var Mo=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var cl=class extends Mo{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function Sv(t){return $(t)&&t.name==="AuthApiError"}var ai=class extends Mo{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},tn=class extends Mo{constructor(n,e,r,i){super(n,r,i),this.name=e,this.status=r}},lt=class extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Iv(t){return $(t)&&t.name==="AuthSessionMissingError"}var li=class extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},rr=class extends tn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},ir=class extends tn{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function xv(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}var Ao=class extends tn{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ci=class extends tn{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};function ul(t){return $(t)&&t.name==="AuthRetryableFetchError"}var No=class extends tn{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var JI=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},or=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XI=[502,503,504];function Tv(t){return f(this,null,function*(){var n;if(!Dv(t))throw new ci(or(t),0);if(XI.includes(t.status))throw new ci(or(t),t.status);let e;try{e=yield t.json()}catch(o){throw new ai(or(o),o)}let r,i=Ev(t);if(i&&i.getTime()>=Sf["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new No(or(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new lt}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new No(or(e),t.status,e.weak_password.reasons);throw new cl(or(e),t.status||500,r)})}var ex=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function Z(t,n,e,r){return f(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[So]||(o[So]=Sf["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield tx(t,n,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function tx(t,n,e,r,i,o){return f(this,null,function*(){let s=ex(n,r,i,o),a;try{a=yield t(e,Object.assign({},s))}catch(l){throw console.error(l),new ci(or(l),0)}if(a.ok||(yield Tv(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield Tv(l)}})}function nn(t){var n;let e=null;nx(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=vv(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function Tf(t){let n=nn(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function kt(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function Mv(t){return{data:t,error:null}}function Av(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=t,s=JI(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Nv(t){return t}function nx(t){return t.access_token&&t.refresh_token&&t.expires_in}var rx=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},ui=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=ll(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,e="global"){return f(this,null,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return f(this,arguments,function*(n,e={}){try{return yield Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:kt})}catch(i){if($(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return f(this,null,function*(){try{let{options:e}=n,r=rx(n,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Av,redirectTo:e?.redirectTo})}catch(e){if($(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(n){return f(this,null,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:kt})}catch(e){if($(e))return{data:{user:null},error:e};throw e}})}listUsers(n){return f(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Nv});if(u.error)throw u.error;let d=yield u.json(),m=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(_=>{let E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);c[`${A}Page`]=E}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return f(this,null,function*(){try{return yield Z(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:kt})}catch(e){if($(e))return{data:{user:null},error:e};throw e}})}updateUserById(n,e){return f(this,null,function*(){try{return yield Z(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:kt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,e=!1){return f(this,null,function*(){try{return yield Z(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:kt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return f(this,null,function*(){try{let{data:e,error:r}=yield Z(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if($(e))return{data:null,error:e};throw e}})}_deleteFactor(n){return f(this,null,function*(){try{return{data:yield Z(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if($(e))return{data:null,error:e};throw e}})}};var Rv={getItem:t=>En()?globalThis.localStorage.getItem(t):null,setItem:(t,n)=>{En()&&globalThis.localStorage.setItem(t,n)},removeItem:t=>{En()&&globalThis.localStorage.removeItem(t)}};function Mf(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}function Ov(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var sr={debug:!!(globalThis&&En()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ro=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},dl=class extends Ro{};function Af(t,n,e){return f(this,null,function*(){sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>f(this,null,function*(){if(i){sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield e()}finally{sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dl(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}Ov();var ix={url:gv,storageKey:mv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Oo=30*1e3,Pv=3;function kv(t,n,e){return f(this,null,function*(){return yield e()})}var Nf=(()=>{class t{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},ix),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ui({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ll(o.fetch),this.lock=o.lock||kv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ct()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Af:this.lock=kv,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:En()?this.storage=Rv:(this.memoryStorage={},this.storage=Mf(this.memoryStorage)):(this.memoryStorage={},this.storage=Mf(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${al}) ${new Date().toISOString()}`,...e),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var e;try{let r=wv(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Ct()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),xv(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>f(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?{error:r}:{error:new ai("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return f(this,null,function*(){var r,i,o;try{let s=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:nn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return f(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:m,options:g}=e,_=null,E=null;this.flowType==="pkce"&&([_,E]=yield nr(this.storage,this.storageKey)),s=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:d,password:m,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:_,code_challenge_method:E},xform:nn})}else if("phone"in e){let{phone:d,password:m,options:g}=e;s=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(i=g?.data)!==null&&i!==void 0?i:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:nn})}else throw new rr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return f(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Tf})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Tf})}else throw new rr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new li}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return f(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return f(this,null,function*(){let r=yield xo(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:nn});if(yield To(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new li}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if($(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return f(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:nn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new li}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return f(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield nr(this.storage,this.storageKey));let{error:m}=yield Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:d}=yield Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new rr("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return f(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:nn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if($(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return f(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield nr(this.storage,this.storageKey)),yield Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Mv})}catch(s){if($(s))return{data:null,error:s};throw s}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(e=>f(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new lt;let{error:o}=yield Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield Z(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new rr("You must provide either an email or phone number and a type")}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(e,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=f(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield xo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return f(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return f(this,null,function*(){try{return e?yield Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):yield this._useSession(r=>f(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lt}:yield Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:kt})}))}catch(r){if($(r))return Iv(r)&&(yield this._removeSession(),yield To(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return f(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return f(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>f(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new lt;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield nr(this.storage,this.storageKey));let{data:d,error:m}=yield Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:kt});if(m)throw m;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if($(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(e){return xf(e)}setSession(e){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return f(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new lt;let r=Date.now()/1e3,i=r,o=!0,s=null,a=xf(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if($(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new lt;let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return f(this,null,function*(){try{if(!Ct())throw new ir("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ir(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ao("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ir("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ao("No code detected.");let{data:ae,error:le}=yield this._exchangeCodeForSession(e.code);if(le)throw le;let ke=new URL(window.location.href);return ke.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ke.toString()),{data:{session:ae.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new ir("No session defined in URL");let d=Math.round(Date.now()/1e3),m=parseInt(l),g=d+m;c&&(g=parseInt(c));let _=g-d;_*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);let E=g-m;d-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,g,d):d-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,g,d);let{data:A,error:O}=yield this._getUser(s);if(O)throw O;let se={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:g,refresh_token:a,token_type:u,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:se,redirectType:e.type},error:null}}catch(i){if($(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return f(this,null,function*(){let r=yield xo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return f(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return f(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(Sv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield To(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=_v(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return f(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield nr(this.storage,this.storageKey,!0));try{return yield Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if($(a))return{data:null,error:a};throw a}})}getUserIdentities(){return f(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}})}linkIdentity(e){return f(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>f(this,null,function*(){var a,l,c,u,d;let{data:m,error:g}=s;if(g)throw g;let _=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield Z(this.fetch,"GET",_,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Ct()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if($(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield Z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if($(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return f(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield bv(o=>f(this,null,function*(){return o>0&&(yield Cv(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nn})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&ul(s)&&Date.now()+a-i<Oo})}catch(i){if(this._debug(r,"error",i),$(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return f(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Ct()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield xo(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<o+Ef;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ef}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),ul(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return f(this,null,function*(){var r,i;if(!e)throw new lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Io;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new lt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),$(s)){let a={session:null,error:s};return ul(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return f(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>f(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return f(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield If(this.storage,this.storageKey,e)})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield To(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Oo}ms, refresh threshold is ${Pv} ticks`),o<=Pv&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Ro)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return f(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return f(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield nr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if($(r))return{data:null,error:r};throw r}})}_enroll(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=yield Z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if($(r))return{data:null,error:r};throw r}})}_verify(e){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if($(r))return{data:null,error:r};throw r}}))})}_challenge(e){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if($(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return f(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return f(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){return yield this._useSession(e=>f(this,null,function*(){var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var ox=Nf,Rf=ox;var fl=class extends Rf{constructor(n){super(n)}};var sx=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},hl=class{constructor(n,e,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=e,!n)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=hv(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:cv,realtime:dv,auth:Object.assign(Object.assign({},uv),{storageKey:l}),global:lv},u=pv(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=fv(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Yy(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new fo(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bo(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,e;return sx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){var d;let m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fl({url:this.authUrl,headers:Object.assign(Object.assign({},m),c),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(n){return new Do(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Fv=(t,n,e)=>new hl(t,n,e);var Of={production:!1,supabaseUrl:"https://nrapqjwyqvwopwoxevlw.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yYXBxand5cXZ3b3B3b3hldmx3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA4MDU2MzQsImV4cCI6MjA0NjM4MTYzNH0.hq-X6YEAD7DG9WIiJhqwRb3ZtMruaEzAbr0Wm4TBoQU"};var de=class t{supabase;constructor(){this.supabase=Fv(Of.supabaseUrl,Of.supabaseKey,{auth:{persistSession:!0}})}get client(){return this.supabase}static \u0275fac=function(e){return new(e||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var Lt=class t{constructor(n){this.supabase=n;this.initSession(),this.supabase.client.auth.onAuthStateChange((e,r)=>{this._session=r,this._user=r?.user??null})}_user=null;_session=null;initSession(){return f(this,null,function*(){let{data:n,error:e}=yield this.supabase.client.auth.getSession();!e&&n.session&&(this._session=n.session,this._user=n.session.user)})}signUp(n,e){return f(this,null,function*(){let{data:r,error:i}=yield this.supabase.client.auth.signUp({email:n,password:e});if(i)throw i;return r})}signIn(n,e){return f(this,null,function*(){let{data:r,error:i}=yield this.supabase.client.auth.signInWithPassword({email:n,password:e});if(i)throw i;return r})}signOut(){return f(this,null,function*(){let{error:n}=yield this.supabase.client.auth.signOut();if(n)throw n})}get session(){return this._session}get user(){return this._user}isLoggedIn(){return!!this._user}static \u0275fac=function(e){return new(e||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function ax(t,n){if(t&1){let e=ce();ji(0),h(1,"nav")(2,"a",1)(3,"b"),y(4,"PANOU ADMINISTRARE"),p()(),h(5,"a",2),y(6,"Toate Rug\u0103ciunile"),p(),h(7,"a",3),y(8,"Tipuri de Rug\u0103ciuni"),p(),h(9,"a",4),y(10,"Sec\u021Biuni"),p(),h(11,"a",5),y(12,"Texte"),p(),h(13,"div",6)(14,"span"),y(15),p(),h(16,"button",7),M("click",function(){I(e);let i=w();return x(i.onLogout())}),y(17,"Delogare"),p()()(),ie(18,"hr"),Bi()}if(t&2){let e=w();v(15),Dn(e.auth.user==null?null:e.auth.user.email)}}var pl=class t{constructor(n,e){this.auth=n;this.router=e}title="my-prayer-admin";onLogout(){return f(this,null,function*(){try{yield this.auth.signOut(),this.router.navigate(["/login"])}catch(n){console.error("Error logging out:",n)}})}static \u0275fac=function(e){return new(e||t)(C(Lt),C(Dt))};static \u0275cmp=ue({type:t,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"],[2,"display","inline","color","black"],["routerLink","/prayers"],["routerLink","/prayerTypes"],["routerLink","/sections"],["routerLink","/liturgicalTexts"],[2,"display","flex","float","right","width","min-content","gap","1rem"],[3,"click"]],template:function(e,r){e&1&&(U(0,ax,19,1,"ng-container",0),ie(1,"router-outlet")),e&2&&T("ngIf",r.auth.isLoggedIn())},dependencies:[ge,ot,ef,Ot],styles:["nav[_ngcontent-%COMP%]{margin:1rem}a[_ngcontent-%COMP%]{margin-right:1rem;text-decoration:none;color:#790822}"]})};var Gv=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(C(Nt),C(yt))};static \u0275dir=pe({type:t})}return t})(),Cl=(()=>{class t extends Gv{static \u0275fac=(()=>{let e;return function(i){return(e||(e=wn(t)))(i||t)}})();static \u0275dir=pe({type:t,features:[vt]})}return t})(),Bo=new P("");var lx={provide:Bo,useExisting:qt(()=>De),multi:!0};function cx(){let t=Kt()?Kt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ux=new P(""),De=(()=>{class t extends Gv{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!cx())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(C(Nt),C(yt),C(ux,8))};static \u0275dir=pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&M("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[zn([lx]),vt]})}return t})();var qv=new P(""),Wv=new P("");function Zv(t){return t!=null}function Yv(t){return Hn(t)?fe(t):t}function Qv(t){let n={};return t.forEach(e=>{n=e!=null?D(D({},n),e):n}),Object.keys(n).length===0?null:n}function Kv(t,n){return n.map(e=>e(t))}function dx(t){return!t.validate}function Jv(t){return t.map(n=>dx(n)?n:e=>n.validate(e))}function fx(t){if(!t)return null;let n=t.filter(Zv);return n.length==0?null:function(e){return Qv(Kv(e,n))}}function Ff(t){return t!=null?fx(Jv(t)):null}function hx(t){if(!t)return null;let n=t.filter(Zv);return n.length==0?null:function(e){let r=Kv(e,n).map(Yv);return cc(r).pipe(W(Qv))}}function Lf(t){return t!=null?hx(Jv(t)):null}function Lv(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function px(t){return t._rawValidators}function gx(t){return t._rawAsyncValidators}function kf(t){return t?Array.isArray(t)?t:[t]:[]}function ml(t,n){return Array.isArray(t)?t.includes(n):t===n}function Vv(t,n){let e=kf(n);return kf(t).forEach(i=>{ml(e,i)||e.push(i)}),e}function jv(t,n){return kf(n).filter(e=>!ml(t,e))}var yl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ff(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Lf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},hi=class extends yl{name;get formDirective(){return null}get path(){return null}},jo=class extends yl{_parent=null;name=null;valueAccessor=null},vl=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},mx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},XL=q(D({},mx),{"[class.ng-submitted]":"isSubmitted"}),Me=(()=>{class t extends vl{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(C(jo,2))};static \u0275dir=pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ba("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[vt]})}return t})(),Xv=(()=>{class t extends vl{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(C(hi,10))};static \u0275dir=pe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ba("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[vt]})}return t})();var Po="VALID",gl="INVALID",di="PENDING",ko="DISABLED",pi=class{},_l=class extends pi{value;source;constructor(n,e){super(),this.value=n,this.source=e}},Lo=class extends pi{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},Vo=class extends pi{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},fi=class extends pi{status;source;constructor(n,e){super(),this.status=n,this.source=e}};function e_(t){return(bl(t)?t.validators:t)||null}function yx(t){return Array.isArray(t)?Ff(t):t||null}function t_(t,n){return(bl(n)?n.asyncValidators:t)||null}function vx(t){return Array.isArray(t)?Lf(t):t||null}function bl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _x(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new R(1e3,"");if(!r[e])throw new R(1001,"")}function wx(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new R(1002,"")})}var wl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Qt(this.statusReactive)}set status(n){Qt(()=>this.statusReactive.set(n))}_status=$i(()=>this.statusReactive());statusReactive=Vi(void 0);get valid(){return this.status===Po}get invalid(){return this.status===gl}get pending(){return this.status==di}get disabled(){return this.status===ko}get enabled(){return this.status!==ko}errors;get pristine(){return Qt(this.pristineReactive)}set pristine(n){Qt(()=>this.pristineReactive.set(n))}_pristine=$i(()=>this.pristineReactive());pristineReactive=Vi(!0);get dirty(){return!this.pristine}get touched(){return Qt(this.touchedReactive)}set touched(n){Qt(()=>this.touchedReactive.set(n))}_touched=$i(()=>this.touchedReactive());touchedReactive=Vi(!1);get untouched(){return!this.touched}_events=new Ee;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Vv(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Vv(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(jv(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(jv(n,this._rawAsyncValidators))}hasValidator(n){return ml(this._rawValidators,n)}hasAsyncValidator(n){return ml(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(q(D({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Vo(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new Vo(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(q(D({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Lo(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new Lo(!0,r))}markAsPending(n={}){this.status=di;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new fi(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(q(D({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ko,this.errors=null,this._forEachChild(i=>{i.disable(q(D({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new _l(this.value,r)),this._events.next(new fi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(D({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Po,this._forEachChild(r=>{r.enable(q(D({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(q(D({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Po||this.status===di)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new _l(this.value,e)),this._events.next(new fi(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(q(D({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ko:Po}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=di,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=Yv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new fi(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new _e,this.statusChanges=new _e}_calculateStatus(){return this._allControlsDisabled()?ko:this.errors?gl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(di)?di:this._anyControlsHaveStatus(gl)?gl:Po}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new Lo(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Vo(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){bl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=yx(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=vx(this._rawAsyncValidators)}},Dl=class extends wl{constructor(n,e,r){super(e_(e),t_(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){wx(this,!0,n),Object.keys(n).forEach(r=>{_x(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Vf=new P("CallSetDisabledState",{providedIn:"root",factory:()=>jf}),jf="always";function Dx(t,n){return[...n.path,t]}function n_(t,n,e=jf){r_(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),bx(t,n),Sx(t,n),Ex(t,n),Cx(t,n)}function Bv(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Cx(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function r_(t,n){let e=px(t);n.validator!==null?t.setValidators(Lv(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=gx(t);n.asyncValidator!==null?t.setAsyncValidators(Lv(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Bv(n._rawValidators,i),Bv(n._rawAsyncValidators,i)}function bx(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&i_(t,n)})}function Ex(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&i_(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function i_(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Sx(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Ix(t,n){t==null,r_(t,n)}function xx(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function Tx(t){return Object.getPrototypeOf(t.constructor)===Cl}function Mx(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ax(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===De?e=o:Tx(o)?r=o:i=o}),i||r||e||null}var Nx={provide:hi,useExisting:qt(()=>Bf)},Fo=Promise.resolve(),Bf=(()=>{class t extends hi{callSetDisabledState;get submitted(){return Qt(this.submittedReactive)}_submitted=$i(()=>this.submittedReactive());submittedReactive=Vi(!1);_directives=new Set;form;ngSubmit=new _e;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new Dl({},Ff(e),Lf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Fo.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),n_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Fo.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Fo.then(()=>{let r=this._findContainer(e.path),i=new Dl({});Ix(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Fo.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Fo.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Mx(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(C(qv,10),C(Wv,10),C(Vf,8))};static \u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&M("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[zn([Nx]),vt]})}return t})();function $v(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Uv(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Rx=class extends wl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(e_(e),t_(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Uv(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){$v(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){$v(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Uv(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var Ox={provide:jo,useExisting:qt(()=>xe)},Hv=Promise.resolve(),xe=(()=>{class t extends jo{_changeDetectorRef;callSetDisabledState;control=new Rx;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _e;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ax(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),xx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){n_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Hv.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&qn(r);Hv.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Dx(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(C(hi,9),C(qv,10),C(Wv,10),C(Bo,10),C(Gn,8),C(Vf,8))};static \u0275dir=pe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[zn([Ox]),vt,jr]})}return t})(),o_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),Px={provide:Bo,useExisting:qt(()=>ar),multi:!0},ar=(()=>{class t extends Cl{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=wn(t)))(i||t)}})();static \u0275dir=pe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&M("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[zn([Px]),vt]})}return t})();var kx={provide:Bo,useExisting:qt(()=>gi),multi:!0};function s_(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function Fx(t){return t.split(":")[0]}var gi=(()=>{class t extends Cl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=s_(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=Fx(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=wn(t)))(i||t)}})();static \u0275dir=pe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[zn([kx]),vt]})}return t})(),El=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(s_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(C(yt),C(Nt),C(gi,9))};static \u0275dir=pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),Lx={provide:Bo,useExisting:qt(()=>a_),multi:!0};function zv(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function Vx(t){return t.split(":")[0]}var a_=(()=>{class t extends Cl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=Vx(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=wn(t)))(i||t)}})();static \u0275dir=pe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[zn([Lx]),vt]})}return t})(),Sl=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(zv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(zv(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(C(yt),C(Nt),C(a_,9))};static \u0275dir=pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var jx=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Un({type:t});static \u0275inj=Vn({})}return t})();var Ae=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Vf,useValue:e.callSetDisabledState??jf}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Un({type:t});static \u0275inj=Vn({imports:[jx]})}return t})();var Ce=class{constructor(n){this.supabase=n}get client(){return this.supabase.client}getAll(){return f(this,null,function*(){let{data:n,error:e}=yield this.client.from(this.tableName).select("*").order("created_at",{ascending:!0});if(e)throw e;return n??[]})}getById(n){return f(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*").eq("id",n).single();if(r)throw r;return e})}create(n){return f(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).insert([n]).select().single();if(r)throw r;return e})}update(n,e){return f(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).update(e).eq("id",n).select().single();if(i)throw i;return r})}delete(n){return f(this,null,function*(){let{error:e}=yield this.client.from(this.tableName).delete().eq("id",n);if(e)throw e})}};var mi=class t extends Ce{constructor(e){super(e);this.supabase=e}tableName="prayers";getAll(){return f(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*").order("prayer_type_id",{ascending:!0}).order("sequence",{ascending:!0});if(r)throw r;return e??[]})}getById(e){return f(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).select("*, sections: prayers_sections(*, section: sections(*)), date_groups: prayer_date_group(*, date_group(*))").order("sequence",{foreignTable:"prayers_sections"}).eq("id",e).single();if(i)throw i;return r})}getParyerWithSectionsRecursively(e){return f(this,null,function*(){let{data:r,error:i}=yield this.client.rpc("get_prayer_with_sections_recursive",{request_prayer_id:e});if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var Vt=class t extends Ce{constructor(e){super(e);this.supabase=e}tableName="prayer_type";getAll(){return f(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*");if(r)throw r;return e??[]})}getTree(){return f(this,null,function*(){let{data:e,error:r}=yield this.supabase.client.rpc("get_prayer_types");if(r)throw console.error("Error calling get_prayer_types:",r),r;return e})}static \u0275fac=function(r){return new(r||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var Bx=t=>["/prayers",t];function $x(t,n){if(t&1&&(h(0,"li")(1,"a",6),y(2),p()()),t&2){let e=n.$implicit;v(),T("routerLink",Yt(3,Bx,e.id)),v(),He("",e.title," ",e.subtitle!=null&&e.subtitle.length?"- "+e.subtitle:"","")}}var xl=class t{constructor(n,e){this.prayersService=n;this.prayerTypesService=e}prayerTypes=[];prayers=[];newPrayer=null;ngOnInit(){return f(this,null,function*(){this.newPrayer={title:"",subtitle:"",sequence:1},this.prayers=yield this.prayersService.getAll(),this.prayerTypes=yield this.prayerTypesService.getAll()})}addPrayer(){let n=this.newPrayer?.title.trim();n&&this.prayersService.create({title:n}).then(e=>{this.newPrayer={title:"",subtitle:"",sequence:1},this.prayers.splice(0,0,e)}).catch(e=>{alert("Error creating prayer: "+e)})}static \u0275fac=function(e){return new(e||t)(C(mi),C(Vt))};static \u0275cmp=ue({type:t,selectors:[["app-prayers-list"]],decls:17,vars:2,consts:[[2,"margin-bottom","1rem"],[2,"border-collapse","collapse"],["for","title"],["id","title","type","text","placeholder","Titlu rug\u0103ciune",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(h(0,"h2"),y(1,"Rug\u0103ciuni"),p(),h(2,"div",0)(3,"h3"),y(4,"Adaug\u0103 o rug\u0103ciune nou\u0103"),p(),h(5,"table",1)(6,"tr")(7,"td")(8,"label",2),y(9,"Titlu: "),p()(),h(10,"td")(11,"input",3),L("ngModelChange",function(o){return j(r.newPrayer.title,o)||(r.newPrayer.title=o),o}),p()()()(),h(12,"button",4),M("click",function(){return r.addPrayer()}),y(13,"Adaug\u0103"),p()(),ie(14,"hr"),h(15,"ul"),U(16,$x,3,5,"li",5),p()),e&2&&(v(11),F("ngModel",r.newPrayer.title),v(5),T("ngForOf",r.prayers))},dependencies:[ge,Ve,Ot,Ae,De,Me,xe],encapsulation:2})};var Tl=class t extends Ce{constructor(e){super(e);this.supabase=e}tableName="prayers_sections";create(e){return f(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).insert([e]).select("*, section: sections(*)").single();if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var Sn=class t extends Ce{constructor(e){super(e);this.supabase=e}tableName="sections";static \u0275fac=function(r){return new(r||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ml=class t extends Ce{constructor(e){super(e);this.supabase=e}tableName="prayer_date_group";create(e){return f(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).insert([e]).select("*, date_group(*, date_group_type(*))").single();if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var Al=class t extends Ce{constructor(e){super(e);this.supabase=e}tableName="date_group";getAll(){return f(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*, date_group_type(*)").order("date_group_type_id",{ascending:!0});if(r)throw r;return e??[]})}static \u0275fac=function(r){return new(r||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function Gx(t,n){if(t&1&&(h(0,"option",13),y(1),p()),t&2){let e=n.$implicit;T("value",e.id),v(),Dn(e.type)}}function qx(t,n){t&1&&(h(0,"p"),y(1,"Nu sunt sec\u021Biuni ad\u0103ugate"),p())}function Wx(t,n){if(t&1){let e=ce();h(0,"li")(1,"p")(2,"a",14),y(3),p(),h(4,"button",1),M("click",function(){let i=I(e).$implicit,o=w().$implicit,s=w(2);return x(s.deleteSection(i.id,o.id))}),h(5,"i",15),y(6,"delete"),p()()()()}if(t&2){let e=n.$implicit;v(2),Ea("href","/sections/",e.section==null?null:e.section.id,"",$n),v(),He("",e.section==null?null:e.section.title," - ",e.section==null?null:e.section.subtitle,"")}}function Zx(t,n){if(t&1&&(h(0,"option",13),y(1),p()),t&2){let e=n.$implicit;T("value",e.id),v(),Dn(e.title)}}function Yx(t,n){if(t&1){let e=ce();h(0,"li")(1,"label",16),y(2,"Sec\u021Biune existent\u0103:"),p(),h(3,"select",4),L("ngModelChange",function(i){I(e);let o=w(3);return j(o.newPrayerSection.section_id,i)||(o.newPrayerSection.section_id=i),x(i)}),h(4,"option",17),y(5,"-- Alege\u021Bi --"),p(),U(6,Zx,2,2,"option",6),p(),h(7,"button",1),M("click",function(){I(e);let i=w().$implicit,o=w(2);return x(o.addPrayerSection(i.id))}),h(8,"i",15),y(9,"save"),p()(),h(10,"button",1),M("click",function(){I(e);let i=w(3);return x(i.hideNewSubsectionForm())}),h(11,"i",15),y(12,"delete"),p()()()}if(t&2){let e=w(3);v(3),F("ngModel",e.newPrayerSection.section_id),v(3),T("ngForOf",e.sections)}}function Qx(t,n){if(t&1){let e=ce();h(0,"li")(1,"label",16),y(2,"Titlu sec\u021Biune nou\u0103:"),p(),h(3,"input",9),L("ngModelChange",function(i){I(e);let o=w(3);return j(o.newSectionTitle,i)||(o.newSectionTitle=i),x(i)}),p(),h(4,"button",1),M("click",function(){I(e);let i=w().$implicit,o=w(2);return x(o.addNewPrayerSection(i.id))}),h(5,"i",15),y(6,"save"),p()(),h(7,"button",1),M("click",function(){I(e);let i=w(3);return x(i.hideNewSubsectionForm())}),h(8,"i",15),y(9,"delete"),p()()()}if(t&2){let e=w(3);v(3),F("ngModel",e.newSectionTitle)}}function Kx(t,n){if(t&1){let e=ce();h(0,"li")(1,"p")(2,"a",14),y(3),p(),h(4,"button",1),M("click",function(){let i=I(e).$implicit,o=w(2);return x(o.deleteSection(i.id))}),h(5,"i",15),y(6,"delete"),p()(),h(7,"button",1),M("click",function(){let i=I(e).$implicit,o=w(2);return x(o.displayNewSubsectionForm(i.id))}),h(8,"i",15),y(9,"add"),p()()(),h(10,"ul"),U(11,Wx,7,4,"li",7)(12,Yx,13,2,"li",0)(13,Qx,10,1,"li",0),p()()}if(t&2){let e=n.$implicit,r=w(2);v(2),Ea("href","/sections/",e.section==null?null:e.section.id,"",$n),v(),He("",e.section==null?null:e.section.title," ",!(e.section==null||e.section.subtitle==null)&&e.section.subtitle.length?"-"+(e.section==null?null:e.section.subtitle):"",""),v(8),T("ngForOf",e.subsections),v(),T("ngIf",(r.newPrayerSection==null?null:r.newPrayerSection.parent_id)===e.id),v(),T("ngIf",(r.newPrayerSection==null?null:r.newPrayerSection.parent_id)===e.id)}}function Jx(t,n){if(t&1&&(h(0,"option",13),y(1),p()),t&2){let e=n.$implicit;T("value",e.id),v(),He("",e.title," ",e.subtitle!=null&&e.subtitle.length?"- "+e.subtitle:"","")}}function Xx(t,n){t&1&&(h(0,"p"),y(1,"Nu sunt grupe de dat\u0103 ad\u0103ugate"),p())}function eT(t,n){if(t&1){let e=ce();h(0,"li")(1,"p"),y(2),h(3,"button",1),M("click",function(){let i=I(e).$implicit,o=w(2);return x(o.deletePrayerDateGroup(i.id))}),h(4,"i",15),y(5,"delete"),p()()()()}if(t&2){let e=n.$implicit;v(2),He(" ",e.date_group==null||e.date_group.date_group_type==null?null:e.date_group.date_group_type.name," - ",e.date_group==null?null:e.date_group.title," ")}}function tT(t,n){if(t&1&&(h(0,"option",13),y(1),p()),t&2){let e=n.$implicit;T("value",e.id),v(),He("",e.date_group_type==null?null:e.date_group_type.name," - ",e.title,"")}}function nT(t,n){if(t&1){let e=ce();h(0,"div")(1,"div")(2,"h2")(3,"button",1),M("click",function(){I(e);let i=w();return x(i.goBack())}),h(4,"i",2),y(5,"arrow_back"),p()(),y(6),h(7,"button",1),M("click",function(){I(e);let i=w();return x(i.deletePrayer())}),h(8,"i",2),y(9,"delete"),p()()(),h(10,"h3"),y(11,"Detalii rug\u0103ciune"),p(),h(12,"table",3)(13,"tr")(14,"td"),y(15,"Titlu:"),p(),h(16,"td")(17,"input",4),L("ngModelChange",function(i){I(e);let o=w();return j(o.prayer.title,i)||(o.prayer.title=i),x(i)}),p()()(),h(18,"tr")(19,"td"),y(20,"Subtitlu:"),p(),h(21,"td")(22,"input",4),L("ngModelChange",function(i){I(e);let o=w();return j(o.prayer.subtitle,i)||(o.prayer.subtitle=i),x(i)}),p()()(),h(23,"tr")(24,"td"),y(25,"Ordine:"),p(),h(26,"td")(27,"input",5),L("ngModelChange",function(i){I(e);let o=w();return j(o.prayer.sequence,i)||(o.prayer.sequence=i),x(i)}),p()()(),h(28,"tr")(29,"td"),y(30,"Tip:"),p(),h(31,"td")(32,"select",4),L("ngModelChange",function(i){I(e);let o=w();return j(o.prayer.prayer_type_id,i)||(o.prayer.prayer_type_id=i),x(i)}),U(33,Gx,2,2,"option",6),p()()()(),h(34,"button",1),M("click",function(){I(e);let i=w();return x(i.updatePrayer())}),y(35,"Salveaz\u0103"),p()(),ie(36,"hr"),h(37,"div")(38,"h3"),y(39,"Sec\u021Biuni"),p(),U(40,qx,2,0,"p",0),h(41,"ul"),U(42,Kx,14,7,"li",7),p(),ie(43,"hr"),h(44,"h4"),y(45,"Adaug\u0103 o sec\u021Biune existent\u0103"),p(),h(46,"select",4),L("ngModelChange",function(i){I(e);let o=w();return j(o.newPrayerSection.section_id,i)||(o.newPrayerSection.section_id=i),x(i)}),h(47,"option",8),y(48,"-- Alege\u021Bi --"),p(),U(49,Jx,2,3,"option",6),p(),h(50,"button",1),M("click",function(){I(e);let i=w();return x(i.addPrayerSection())}),y(51,"Adaug\u0103"),p(),h(52,"h4"),y(53,"Creeaza \u0219i adaug\u0103 o sec\u021Biune nou\u0103"),p(),h(54,"input",9),L("ngModelChange",function(i){I(e);let o=w();return j(o.newSectionTitle,i)||(o.newSectionTitle=i),x(i)}),p(),h(55,"button",1),M("click",function(){I(e);let i=w();return x(i.addNewPrayerSection())}),y(56,"Adaug\u0103"),p()(),ie(57,"hr"),h(58,"div")(59,"h3"),y(60,"Grupe de dat\u0103"),p(),U(61,Xx,2,0,"p",0),h(62,"ul"),U(63,eT,6,2,"li",7),p(),h(64,"h4"),y(65,"Adaug\u0103 o nou\u0103 grup\u0103 de dat\u0103"),p(),h(66,"label",10),y(67,"Grup\u0103 de dat\u0103: "),p(),h(68,"select",11),L("ngModelChange",function(i){I(e);let o=w();return j(o.newPrayerDateGroup.date_group_id,i)||(o.newPrayerDateGroup.date_group_id=i),x(i)}),h(69,"option",12),y(70,"-- Alege\u021Bi --"),p(),U(71,tT,2,3,"option",6),p(),ie(72,"br"),h(73,"button",1),M("click",function(){I(e);let i=w();return x(i.addPrayerDateGroup())}),y(74,"Adaug\u0103"),p()()()}if(t&2){let e=w();v(6),Ie("",e.prayer.title," "),v(11),F("ngModel",e.prayer.title),v(5),F("ngModel",e.prayer.subtitle),v(5),F("ngModel",e.prayer.sequence),v(5),F("ngModel",e.prayer.prayer_type_id),v(),T("ngForOf",e.prayerTypes),v(7),T("ngIf",!(!(e.prayer==null||e.prayer.sections==null)&&e.prayer.sections.length)),v(2),T("ngForOf",e.prayer==null?null:e.prayer.sections),v(4),F("ngModel",e.newPrayerSection.section_id),v(3),T("ngForOf",e.sections),v(5),F("ngModel",e.newSectionTitle),v(7),T("ngIf",!(!(e.prayer==null||e.prayer.date_groups==null)&&e.prayer.date_groups.length)),v(2),T("ngForOf",e.prayer==null?null:e.prayer.date_groups),v(5),F("ngModel",e.newPrayerDateGroup.date_group_id),v(3),T("ngForOf",e.dateGroups)}}var Nl=class t{constructor(n,e,r,i,o,s,a){this.route=n;this.prayersService=e;this.prayerTypesService=r;this.prayerSectionService=i;this.sectionsService=o;this.prayerDateGroupService=s;this.dateGroupService=a}dateGroups=[];prayerTypes=[];sections=[];prayer=null;id;newPrayerSection=null;newSectionTitle="";newPrayerDateGroup=null;ngOnInit(){return f(this,null,function*(){this.id=this.route.snapshot.paramMap.get("id")||"",this.prayer=yield this.prayersService.getParyerWithSectionsRecursively(this.id),this.newPrayerSection={prayer_id:this.id,section_id:"",sequence:1},this.newPrayerDateGroup={prayer_id:this.id,date_group_id:0,sequence:1},yield this.getPrayerTypes(),yield this.getSections(),yield this.getDateGroups()})}getDateGroups(){return f(this,null,function*(){this.dateGroups=yield this.dateGroupService.getAll()})}getPrayerTypes(){return f(this,null,function*(){this.prayerTypes=yield this.prayerTypesService.getAll()})}getSections(){return f(this,null,function*(){this.sections=yield this.sectionsService.getAll()})}updatePrayer(){return f(this,null,function*(){if(!this.prayer)return;(yield this.prayersService.update(this.prayer.id,{title:this.prayer.title,subtitle:this.prayer.subtitle,sequence:this.prayer.sequence}))&&alert("Prayer updated successfully!")})}deletePrayer(){return f(this,null,function*(){if(this.prayer&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi aceast\u0103 rug\u0103ciune?"))try{yield this.prayersService.delete(this.prayer.id),location.href="/prayers"}catch(n){alert("Eroare la \u0219tergerea rug\u0103ciunii: "+n)}})}deleteSection(n,e=null){return f(this,null,function*(){if(this.prayer&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi aceast\u0103 sec\u021Biune?"))try{if(yield this.prayerSectionService.delete(n),e){let r=this.prayer.sections.find(i=>i.id===e);r&&(r.subsections=r.subsections?.filter(i=>i.id!==n)??[])}else this.prayer.sections=this.prayer.sections?.filter(r=>r.id!==n)??[]}catch(r){alert("Eroare la \u0219tergerea sec\u021Biunii: "+r)}})}displayNewSubsectionForm(n){this.newPrayerSection.parent_id=n}hideNewSubsectionForm(){this.newPrayerSection.parent_id=null,this.newPrayerSection.section_id=""}addPrayerSection(n=null){this.prayer&&(this.newPrayerSection=q(D({},this.newPrayerSection),{parent_id:n,sequence:1}),this.prayerSectionService.create(this.newPrayerSection).then(e=>{if(this.newPrayerSection={prayer_id:this.id,section_id:"",sequence:1},n){let r=this.prayer.sections.find(i=>i.id===n);r&&r.subsections.push(e)}else this.prayer.sections.push(e)}).catch(e=>{alert("Error creating subsection: "+e)}))}addNewPrayerSection(n=null){this.newSectionTitle&&this.sectionsService.create({title:this.newSectionTitle,audio_url:""}).then(e=>{this.newPrayerSection={prayer_id:this.id,section_id:e.id,sequence:1},this.addPrayerSection(n),this.newSectionTitle=""}).catch(e=>{alert("Error creating section: "+e)})}goBack(){window.history.back()}goToSection(n){location.href=`/sections/${n}`}deletePrayerDateGroup(n){if(this.prayer&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi aceast\u0103 grup\u0103 de dat\u0103?"))try{this.prayerDateGroupService.delete(n),this.prayer.date_groups=this.prayer.date_groups?.filter(e=>e.id!==n)??[]}catch(e){alert("Eroare la \u0219tergerea datei: "+e)}}addPrayerDateGroup(){this.prayer&&this.prayerDateGroupService.create(this.newPrayerDateGroup).then(n=>{this.newPrayerDateGroup={prayer_id:this.id,date_group_id:0,sequence:1},this.prayer.date_groups.push(n)}).catch(n=>{alert("Error creating date group: "+n)})}static \u0275fac=function(e){return new(e||t)(C(Ke),C(mi),C(Vt),C(Tl),C(Sn),C(Ml),C(Al))};static \u0275cmp=ue({type:t,selectors:[["app-prayer-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click"],[1,"material-icons",2,"font-size","16px"],[2,"border-collapse","collapse","background","transparent"],[3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["value",""],["placeholder","Titlu",3,"ngModelChange","ngModel"],["for","date_group"],["id","date_group",3,"ngModelChange","ngModel"],["value","0"],[3,"value"],[3,"href"],[1,"material-icons",2,"font-size","12px"],["for","section"],["selected",""]],template:function(e,r){e&1&&U(0,nT,75,15,"div",0),e&2&&T("ngIf",r.prayer)},dependencies:[ge,Ve,ot,Ae,El,Sl,De,ar,gi,Me,xe],styles:["h2[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};function rT(t,n){if(t&1){let e=ce();ji(0),h(1,"p"),y(2),h(3,"button",3),M("click",function(){I(e);let i=w();return x(i.enableEdit())}),h(4,"i",4),y(5,"edit"),p()(),h(6,"button",3),M("click",function(){I(e);let i=w();return x(i.addSubtype())}),h(7,"i",4),y(8,"add"),p()(),h(9,"button",3),M("click",function(){I(e);let i=w();return x(i.deleteType())}),h(10,"i",4),y(11,"delete"),p()()(),Bi()}if(t&2){let e=w();v(2),Ie(" ",e.node.type," ")}}function iT(t,n){if(t&1){let e=ce();h(0,"input",5),L("ngModelChange",function(i){I(e);let o=w();return j(o.tempName,i)||(o.tempName=i),x(i)}),p(),h(1,"button",3),M("click",function(){I(e);let i=w();return x(i.saveEdit())}),h(2,"i",4),y(3,"save"),p()(),h(4,"button",3),M("click",function(){I(e);let i=w();return x(i.cancelEdit())}),h(5,"i",4),y(6,"cancel"),p()()}if(t&2){let e=w();F("ngModel",e.tempName)}}function oT(t,n){if(t&1){let e=ce();h(0,"li")(1,"app-prayer-type-subitem",7),M("refreshNeeded",function(){I(e);let i=w(2);return x(i.onChildRefreshNeeded())}),p()()}if(t&2){let e=n.$implicit;v(),T("node",e)}}function sT(t,n){if(t&1&&(h(0,"ul"),U(1,oT,2,1,"li",6),p()),t&2){let e=w();v(),T("ngForOf",e.node.subtypes)}}var Rl=class t{constructor(n){this.prayerTypeService=n}node;refreshNeeded=new _e;isEditing=!1;tempName="";enableEdit(){this.isEditing=!0,this.tempName=this.node.type}cancelEdit(){this.isEditing=!1,this.tempName=""}saveEdit(){return f(this,null,function*(){let n=this.tempName.trim();if(!n){alert("Name cannot be empty");return}try{yield this.prayerTypeService.update(this.node.id,{type:n}),this.node.type=n,this.isEditing=!1,this.refreshNeeded.emit()}catch(e){console.error("Error updating prayer type:",e)}})}addSubtype(){return f(this,null,function*(){let n=prompt("Enter subtype name:");if(n)try{yield this.prayerTypeService.create({type:n,parent_type_id:this.node.id,sequence:1}),this.refreshNeeded.emit()}catch(e){console.error("Error creating subtype:",e)}})}deleteType(){return f(this,null,function*(){if(confirm(`Are you sure you want to delete "${this.node.type}"?`))try{yield this.prayerTypeService.delete(this.node.id),this.refreshNeeded.emit()}catch(n){console.error("Error deleting prayer type:",n)}})}onChildRefreshNeeded(){this.refreshNeeded.emit()}static \u0275fac=function(e){return new(e||t)(C(Vt))};static \u0275cmp=ue({type:t,selectors:[["app-prayer-type-subitem"]],inputs:{node:"node"},outputs:{refreshNeeded:"refreshNeeded"},decls:4,vars:3,consts:[["editMode",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"click"],[1,"material-icons",2,"font-size","14px"],[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"refreshNeeded","node"]],template:function(e,r){if(e&1&&U(0,rT,12,1,"ng-container",1)(1,iT,7,1,"ng-template",null,0,Tm)(3,sT,2,1,"ul",2),e&2){let i=Im(2);T("ngIf",!r.isEditing)("ngIfElse",i),v(3),T("ngIf",r.node.subtypes==null?null:r.node.subtypes.length)}},dependencies:[t,ge,Ve,ot,Ae,De,Me,xe],encapsulation:2})};function aT(t,n){if(t&1){let e=ce();h(0,"li")(1,"app-prayer-type-subitem",4),M("refreshNeeded",function(){I(e);let i=w();return x(i.onRefreshNeeded())}),p()()}if(t&2){let e=n.$implicit;v(),T("node",e)}}var Ol=class t{constructor(n){this.prayerTypeService=n}prayerTypes=[];newRootTypeName="";ngOnInit(){return f(this,null,function*(){yield this.loadData()})}loadData(){return f(this,null,function*(){try{this.prayerTypes=yield this.prayerTypeService.getTree()}catch(n){console.error("Error loading prayer types:",n)}})}addRootType(){return f(this,null,function*(){let n=this.newRootTypeName.trim();if(n)try{yield this.prayerTypeService.create({type:n,parent_type_id:null,sequence:1}),this.newRootTypeName="",yield this.loadData()}catch(e){console.error("Error creating root type:",e)}})}onRefreshNeeded(){return f(this,null,function*(){yield this.loadData()})}static \u0275fac=function(e){return new(e||t)(C(Vt))};static \u0275cmp=ue({type:t,selectors:[["app-prayer-types-list"]],decls:10,vars:2,consts:[[2,"margin-bottom","1rem"],["type","text","placeholder","Nou tip de rug\u0103ciune",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"],[3,"refreshNeeded","node"]],template:function(e,r){e&1&&(h(0,"h2"),y(1,"Tipuri de rug\u0103ciuni"),p(),h(2,"div",0)(3,"h3"),y(4,"Adaug\u0103 un tip nou de rug\u0103ciune"),p(),h(5,"input",1),L("ngModelChange",function(o){return j(r.newRootTypeName,o)||(r.newRootTypeName=o),o}),p(),h(6,"button",2),M("click",function(){return r.addRootType()}),y(7,"Adaug\u0103"),p()(),h(8,"ul"),U(9,aT,2,1,"li",3),p()),e&2&&(v(5),F("ngModel",r.newRootTypeName),v(4),T("ngForOf",r.prayerTypes))},dependencies:[ge,Ve,Ae,De,Me,xe,Rl],encapsulation:2})};var jt=class t{constructor(n,e){this.auth=n;this.router=e}canActivate(){return this.auth.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||t)(N(Lt),N(Dt))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function lT(t,n){if(t&1&&(h(0,"div",8),y(1),p()),t&2){let e=w();v(),Ie(" ",e.errorMsg," ")}}var Pl=class t{constructor(n,e){this.authService=n;this.router=e}email="";password="";errorMsg="";ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/prayer-types"])}onLogin(){return f(this,null,function*(){this.errorMsg="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/prayers"])}catch(n){this.errorMsg=n.message||"Login failed",console.error("Login error:",n)}})}static \u0275fac=function(e){return new(e||t)(C(Lt),C(Dt))};static \u0275cmp=ue({type:t,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"container"],[1,"login-container"],["style","color:red;",4,"ngIf"],[1,"form-container",3,"ngSubmit"],[1,"input-container"],["name","email","type","email",3,"ngModelChange","ngModel"],["name","password","type","password",3,"ngModelChange","ngModel"],["type","submit"],[2,"color","red"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"div",1)(2,"h2"),y(3,"Admin Login"),p(),U(4,lT,2,1,"div",2),h(5,"form",3),M("ngSubmit",function(){return r.onLogin()}),h(6,"div",4)(7,"label"),y(8,"Email:"),p(),h(9,"input",5),L("ngModelChange",function(o){return j(r.email,o)||(r.email=o),o}),p()(),h(10,"div",4),y(11,"` "),h(12,"label"),y(13,"Password:"),p(),h(14,"input",6),L("ngModelChange",function(o){return j(r.password,o)||(r.password=o),o}),p()(),h(15,"button",7),y(16,"Login"),p()()()()),e&2&&(v(4),T("ngIf",r.errorMsg),v(5),F("ngModel",r.email),v(5),F("ngModel",r.password))},dependencies:[ge,ot,Ae,o_,De,Me,Xv,xe,Bf],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100vw;height:100vh}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;border:1px solid black;padding:1rem;height:min-content;border-radius:5px;gap:.5rem}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border-radius:5px;border:1px solid black}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem;border-radius:5px;border:1px solid black;cursor:pointer;margin-top:1rem}"]})};var In=class t extends Ce{constructor(e){super(e);this.supabase=e}tableName="liturgical_texts";getById(e){return f(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).select("*, texts: text_elements(*)").order("sequence",{foreignTable:"text_elements"}).eq("id",e).single();if(i)throw i;return r})}getAll(){return f(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*").order("title",{ascending:!0});if(r)throw r;return e??[]})}static \u0275fac=function(r){return new(r||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var kl=class t extends Ce{constructor(e){super(e);this.supabase=e}tableName="text_elements";updateSequence(e,r){return f(this,null,function*(){return this.update(e,{sequence:r})})}static \u0275fac=function(r){return new(r||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function uT(t,n){if(t&1){let e=ce();h(0,"div")(1,"h2")(2,"button",8),M("click",function(){I(e);let i=w();return x(i.goBack())}),h(3,"i",9),y(4,"arrow_back"),p()(),y(5),h(6,"button",8),M("click",function(){I(e);let i=w();return x(i.deleteText())}),h(7,"i",10),y(8,"delete"),p()()(),h(9,"p"),y(10," Schimb\u0103 titlul: "),h(11,"input",11),L("ngModelChange",function(i){I(e);let o=w();return j(o.text.title,i)||(o.text.title=i),x(i)}),p(),ie(12,"br"),y(13," Durata audio(secunde): "),h(14,"input",11),L("ngModelChange",function(i){I(e);let o=w();return j(o.text.audio_time,i)||(o.text.audio_time=i),x(i)}),p(),ie(15,"br"),h(16,"button",8),M("click",function(){I(e);let i=w();return x(i.saveTitle())}),y(17,"Salveaz\u0103"),p()()()}if(t&2){let e=w();v(5),Ie(" ",e.textTitle," "),v(6),F("ngModel",e.text.title),v(3),F("ngModel",e.text.audio_time)}}function dT(t,n){t&1&&(h(0,"p"),y(1,"Nu sunt texte ad\u0103ugate"),p())}function fT(t,n){if(t&1){let e=ce();h(0,"p")(1,"textarea",12),L("ngModelChange",function(i){I(e);let o=w(2);return j(o.editedTextElement.text,i)||(o.editedTextElement.text=i),x(i)}),p(),h(2,"label",5),y(3,"Timp de \xEEnceput(secunde): "),p(),h(4,"input",13),L("ngModelChange",function(i){I(e);let o=w(2);return j(o.editedTextElement.start_time,i)||(o.editedTextElement.start_time=i),x(i)}),p(),h(5,"label",7),y(6,"Timp de sf\xE2r\u0219it(secunde): "),p(),h(7,"input",13),L("ngModelChange",function(i){I(e);let o=w(2);return j(o.editedTextElement.end_time,i)||(o.editedTextElement.end_time=i),x(i)}),p(),h(8,"button",8),M("click",function(){I(e);let i=w().index,o=w();return x(o.editTextElement(i))}),h(9,"i",14),y(10,"save"),p()(),h(11,"button",8),M("click",function(){I(e);let i=w(2);return x(i.clearEditedTextElement())}),h(12,"i",14),y(13,"cancel"),p()()()}if(t&2){let e=w(2);v(),F("ngModel",e.editedTextElement.text),v(3),F("ngModel",e.editedTextElement.start_time),v(3),F("ngModel",e.editedTextElement.end_time)}}function hT(t,n){if(t&1&&(h(0,"span"),y(1),p()),t&2){let e=w(2).$implicit;v(),He("",e.start_time," \u2192 ",e.end_time,"")}}function pT(t,n){if(t&1){let e=ce();h(0,"p"),y(1),U(2,hT,2,2,"span",0),h(3,"span",15)(4,"button",16),M("click",function(){I(e);let i=w().index,o=w();return x(o.moveUp(i))}),y(5,"\u2191"),p(),h(6,"button",17),M("click",function(){I(e);let i=w().index,o=w();return x(o.moveDown(i))}),y(7,"\u2193"),p(),h(8,"button",8),M("click",function(){I(e);let i=w(),o=i.$implicit,s=i.index,a=w();return x(a.deleteTextElement(o.id,s))}),h(9,"i",14),y(10,"delete"),p()(),h(11,"button",8),M("click",function(){I(e);let i=w().$implicit,o=w();return x(o.setEditedTextElement(i))}),h(12,"i",14),y(13,"edit"),p()()()()}if(t&2){let e=w(),r=e.$implicit,i=e.index,o=w();v(),Ie(" ",r.text," "),v(),T("ngIf",r.start_time!=null&&r.end_time!=null),v(2),T("disabled",i===0),v(2),T("disabled",i===(o.text==null?null:o.text.texts.length)-1)}}function gT(t,n){if(t&1&&(h(0,"li"),U(1,fT,14,3,"p",0)(2,pT,14,4,"p",0),p()),t&2){let e=n.$implicit,r=w();v(),T("ngIf",(r.editedTextElement==null?null:r.editedTextElement.id)&&e.id==(r.editedTextElement==null?null:r.editedTextElement.id)),v(),T("ngIf",!(r.editedTextElement!=null&&r.editedTextElement.id)||e.id!=(r.editedTextElement==null?null:r.editedTextElement.id))}}var Fl=class t{constructor(n,e,r){this.route=n;this.litTextService=e;this.textElementsService=r}textId;text=null;editedTitle="";newTextElement=null;editedTextElement=null;textTitle="";ngOnInit(){return f(this,null,function*(){this.textId=this.route.snapshot.paramMap.get("id")||"",this.newTextElement={text_id:this.textId},this.editedTextElement={},yield this.loadLiturgicalText()})}loadLiturgicalText(){return f(this,null,function*(){this.text=yield this.litTextService.getById(this.textId),this.textTitle=this.text?.title??"",this.newTextElement.start_time=this.text?.texts?.length?this.text.texts[this.text.texts.length-1].end_time:0})}loadTextElements(){return f(this,null,function*(){if(!this.text)return;let{data:n,error:e}=yield this.textElementsService.client.from("text_elements").select("*").eq("text_id",this.text.id).order("sequence");!e&&n&&(this.text.texts=n)})}saveTitle(){return f(this,null,function*(){if(this.text)try{(yield this.litTextService.update(this.text.id,{title:this.text.title??null,audio_time:this.text.audio_time}))&&(alert("Textul a fost salvat!"),this.textTitle=this.text.title??"")}catch(n){console.error("Error updating title:",n)}})}addTextElement(){return f(this,null,function*(){if(!this.textId)return;let n=this.newTextElement?.text.trim();if(n)try{let e=0;this.text?.texts&&this.text.texts.length>0&&(e=Math.max(...this.text.texts.map(r=>r.sequence))),yield this.textElementsService.create({text:n,sequence:e+1,text_id:this.textId,start_time:this.newTextElement?.start_time,end_time:this.newTextElement?.end_time}),this.newTextElement={text_id:this.textId,start_time:this.newTextElement?.end_time},yield this.loadTextElements()}catch(e){console.error("Error adding text element:",e)}})}goBack(){history.back()}deleteText(){return f(this,null,function*(){if(this.text&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi acest text? Nu \xEEl po\u021Bi recupera ulterior!"))try{yield this.litTextService.delete(this.text.id),location.href="/liturgicalTexts"}catch(n){console.error("Error deleting text:",n)}})}deleteTextElement(n,e){return f(this,null,function*(){if(confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi acest text? Nu \xEEl po\u021Bi recupera ulterior!"))try{yield this.textElementsService.delete(n),this.text?.texts?.splice(e,1),this.newTextElement.start_time=this.text?.texts?.length?this.text.texts[this.text.texts.length-1].end_time:0}catch(r){console.error("Error deleting text element:",r)}})}setEditedTextElement(n){this.editedTextElement=D({},n)}clearEditedTextElement(){this.editedTextElement={}}editTextElement(n){return f(this,null,function*(){if(!(!this.editedTextElement?.id||!this.editedTextElement.text))try{yield this.textElementsService.update(this.editedTextElement.id,D({},this.editedTextElement)),this.text?.texts?.splice(n,1,D({},this.editedTextElement)),this.editedTextElement={}}catch(e){alert("A intervenit o eroare: "+e.message)}})}moveUp(n){return f(this,null,function*(){if(!this.text?.texts||n===0)return;let e=this.text.texts[n],r=this.text.texts[n-1];try{let i=e.sequence;e.sequence=r.sequence,r.sequence=i,yield this.textElementsService.update(e.id,{sequence:e.sequence}),yield this.textElementsService.update(r.id,{sequence:r.sequence}),this.text.texts[n]=r,this.text.texts[n-1]=e}catch(i){console.error("Error moving element up:",i)}})}moveDown(n){return f(this,null,function*(){if(!this.text?.texts||n===this.text.texts.length-1)return;let e=this.text.texts[n],r=this.text.texts[n+1];try{let i=e.sequence;e.sequence=r.sequence,r.sequence=i,yield this.textElementsService.update(e.id,{sequence:e.sequence}),yield this.textElementsService.update(r.id,{sequence:r.sequence}),this.text.texts[n]=r,this.text.texts[n+1]=e}catch(i){console.error("Error moving element down:",i)}})}static \u0275fac=function(e){return new(e||t)(C(Ke),C(In),C(kl))};static \u0275cmp=ue({type:t,selectors:[["app-liturgical-text-detail"]],decls:22,vars:6,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"margin-top","1rem"],["for","text"],["id","text","rows","4",2,"width","100%",3,"ngModelChange","ngModel"],["for","start_time"],["type","number",3,"ngModelChange","ngModel"],["for","end_time"],[3,"click"],["title","\xCEnapoi",1,"material-icons",2,"font-size","16px"],["title","\u0218terge",1,"material-icons",2,"font-size","16px"],[2,"width","fit-content",3,"ngModelChange","ngModel"],["rows","4",2,"width","100%",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["title","\u0218terge",1,"material-icons",2,"font-size","12px"],[2,"display","inline","margin-left","1rem"],["title","Mut\u0103 \xEEn sus",3,"click","disabled"],["title","Mut\u0103 \xEEn jos",3,"click","disabled"]],template:function(e,r){e&1&&(U(0,uT,18,3,"div",0),ie(1,"hr"),h(2,"h3"),y(3,"Texte"),p(),U(4,dT,2,0,"p",0),h(5,"ol"),U(6,gT,3,2,"li",1),p(),h(7,"div",2)(8,"h4"),y(9,"Adaug\u0103 un text nou"),p(),h(10,"label",3),y(11,"Text:"),p(),h(12,"textarea",4),L("ngModelChange",function(o){return j(r.newTextElement.text,o)||(r.newTextElement.text=o),o}),p(),h(13,"label",5),y(14,"Timp de \xEEnceput(secunde): "),p(),h(15,"input",6),L("ngModelChange",function(o){return j(r.newTextElement.start_time,o)||(r.newTextElement.start_time=o),o}),p(),h(16,"label",7),y(17,"Timp de sf\xE2r\u0219it(secunde): "),p(),h(18,"input",6),L("ngModelChange",function(o){return j(r.newTextElement.end_time,o)||(r.newTextElement.end_time=o),o}),p(),ie(19,"br"),h(20,"button",8),M("click",function(){return r.addTextElement()}),y(21,"Adaug\u0103"),p()()),e&2&&(T("ngIf",r.text),v(4),T("ngIf",!(!(r.text==null||r.text.texts==null)&&r.text.texts.length)),v(2),T("ngForOf",r.text==null?null:r.text.texts),v(6),F("ngModel",r.newTextElement.text),v(3),F("ngModel",r.newTextElement.start_time),v(3),F("ngModel",r.newTextElement.end_time))},dependencies:[ge,Ve,ot,Ae,De,ar,Me,xe],encapsulation:2})};var mT=t=>["/liturgicalTexts",t];function yT(t,n){if(t&1&&(h(0,"li")(1,"a",4),y(2),p()()),t&2){let e=n.$implicit;v(),T("routerLink",Yt(2,mT,e.id)),v(),Ie(" ",e.title?e.title:"F\u0103r\u0103 Titlu"," ")}}var Ll=class t{constructor(n){this.litTextService=n}liturgicalTexts=[];newLiturgicalTextName="";ngOnInit(){return f(this,null,function*(){yield this.loadData()})}loadData(){return f(this,null,function*(){this.liturgicalTexts=yield this.litTextService.getAll()})}addLitirgucalText(){return f(this,null,function*(){let n=this.newLiturgicalTextName.trim()??null;try{let e=yield this.litTextService.create({title:n.length>0?n:void 0});this.newLiturgicalTextName="",this.liturgicalTexts.splice(0,0,e)}catch(e){alert("Error creating root type: "+e)}})}static \u0275fac=function(e){return new(e||t)(C(In))};static \u0275cmp=ue({type:t,selectors:[["app-liturgical-texts-list"]],decls:8,vars:2,consts:[[2,"margin-bottom","1rem"],["type","text","placeholder","Text liturgic nou",3,"ngModelChange","ngModel"],[2,"margin-left","1rem",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(h(0,"h2"),y(1,"Texte liturgice"),p(),h(2,"div",0)(3,"input",1),L("ngModelChange",function(o){return j(r.newLiturgicalTextName,o)||(r.newLiturgicalTextName=o),o}),p(),h(4,"button",2),M("click",function(){return r.addLitirgucalText()}),y(5,"Adaug\u0103"),p()(),h(6,"ul"),U(7,yT,3,4,"li",3),p()),e&2&&(v(3),F("ngModel",r.newLiturgicalTextName),v(4),T("ngForOf",r.liturgicalTexts))},dependencies:[ge,Ve,Ot,Ae,De,Me,xe],encapsulation:2})};var vT=t=>["/sections",t];function _T(t,n){if(t&1&&(h(0,"li")(1,"a",4)(2,"p"),y(3),p()()()),t&2){let e=n.$implicit;v(),T("routerLink",Yt(2,vT,e.id)),v(2),Ie(" ",e.title," ")}}var Vl=class t{constructor(n){this.sectionsService=n}sections=[];newSectionTitle="";ngOnInit(){return f(this,null,function*(){yield this.loadSections()})}loadSections(){return f(this,null,function*(){this.sections=yield this.sectionsService.getAll()})}addSection(){return f(this,null,function*(){let n=this.newSectionTitle.trim();if(n)try{yield this.sectionsService.create({title:n,audio_url:"",subtitle:null,duration:500,image_url:null}),this.newSectionTitle="",yield this.loadSections()}catch(e){console.error("Eroare la crearea noii sec\u021Biuni:",e)}})}static \u0275fac=function(e){return new(e||t)(C(Sn))};static \u0275cmp=ue({type:t,selectors:[["app-sections-list"]],decls:10,vars:2,consts:[["for","newSectionTitle"],["id","newSectionTitle",3,"ngModelChange","ngModel"],[2,"margin-left","1rem",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(h(0,"h2"),y(1,"Sec\u021Biuni"),p(),h(2,"p")(3,"label",0),y(4,"Ad\u0103uga\u021Bi titlul unei sec\u021Biuni noi: "),p(),h(5,"input",1),L("ngModelChange",function(o){return j(r.newSectionTitle,o)||(r.newSectionTitle=o),o}),p(),h(6,"button",2),M("click",function(){return r.addSection()}),y(7," Ad\u0103uga\u021Bi "),p()(),h(8,"ul"),U(9,_T,4,4,"li",3),p()),e&2&&(v(5),F("ngModel",r.newSectionTitle),v(4),T("ngForOf",r.sections))},dependencies:[ge,Ve,Ae,De,Me,xe,Ot],encapsulation:2})};var jl=class t extends Ce{constructor(e){super(e);this.supabase=e}tableName="section_texts";create(e){return f(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).insert([e]).select("*, text: liturgical_texts(*)").single();if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(N(de))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var DT=t=>({"background-color":t}),CT=t=>["/liturgicalTexts",t];function bT(t,n){if(t&1&&(h(0,"audio",28),ie(1,"source",29),y(2," Your browser does not support the audio element."),p()),t&2){let e=w(2);v(),T("src",e.section.audio_url,$n)}}function ET(t,n){if(t&1&&ie(0,"img",30),t&2){let e=w(2);T("src",e.section.image_url,$n)}}function ST(t,n){if(t&1&&(h(0,"span"),y(1),h(2,"a",35),y(3),p()()),t&2){let e=w().$implicit;v(),Ie(" ",(e==null?null:e.repetition)>1?e.repetition+" x":""," "),v(),T("routerLink",Yt(3,CT,e.liturgical_text_id)),v(),Ie(" ",!(e==null||e.text==null||e.text.title==null)&&e.text.title.length?e==null||e.text==null?null:e.text.title:"F\u0103r\u0103 Titlu"," ")}}function IT(t,n){if(t&1){let e=ce();h(0,"tr",31)(1,"td",13),y(2),p(),h(3,"td"),U(4,ST,4,5,"span",0),p(),h(5,"td",13)(6,"button",32),M("click",function(){let i=I(e).index,o=w(2);return x(o.moveUp(i))}),y(7,"\u2191"),p(),h(8,"button",33),M("click",function(){let i=I(e).index,o=w(2);return x(o.moveDown(i))}),y(9,"\u2193"),p(),h(10,"button",1),M("click",function(){let i=I(e),o=i.$implicit,s=i.index,a=w(2);return x(a.deleteSectionText(o,s))}),h(11,"i",34),y(12,"delete"),p()()(),h(13,"td",13),y(14),p()()}if(t&2){let e=n.$implicit,r=n.index,i=w(2);T("ngStyle",Yt(7,DT,r%2===0?"#f2f2f2":"white")),v(2),Dn(r+1),v(2),T("ngIf",i.allLitTexts&&i.allLitTexts.length),v(2),T("disabled",r===0),v(2),T("disabled",r===i.sectionTexts.length-1),v(6),He(" ",e.start_time," \u2192 ",e.end_time," ")}}function xT(t,n){if(t&1&&(h(0,"option",36),y(1),p()),t&2){let e=n.$implicit;T("value",e.id),v(),Ie(" ",e.title," ")}}function TT(t,n){if(t&1){let e=ce();h(0,"tr")(1,"td")(2,"label",37),y(3,"Titlu:"),p()(),h(4,"td")(5,"input",38),L("ngModelChange",function(i){I(e);let o=w(2);return j(o.newLiturgicalTextTitle,i)||(o.newLiturgicalTextTitle=i),x(i)}),p()()()}if(t&2){let e=w(2);v(5),F("ngModel",e.newLiturgicalTextTitle)}}function MT(t,n){if(t&1){let e=ce();h(0,"div")(1,"h2")(2,"button",1),M("click",function(){I(e);let i=w();return x(i.goBack())}),h(3,"i",2),y(4,"arrow_back"),p()(),y(5),h(6,"button",1),M("click",function(){I(e);let i=w();return x(i.deleteSection())}),h(7,"i",3),y(8,"delete"),p()()(),h(9,"div",4)(10,"div")(11,"table",5)(12,"tr")(13,"td")(14,"label"),y(15,"Titlu:"),p()(),h(16,"td")(17,"input",6),L("ngModelChange",function(i){I(e);let o=w();return j(o.editedTitle,i)||(o.editedTitle=i),x(i)}),p()()(),h(18,"tr")(19,"td")(20,"label"),y(21,"Subtitlu:"),p()(),h(22,"td")(23,"input",6),L("ngModelChange",function(i){I(e);let o=w();return j(o.editedSubtitle,i)||(o.editedSubtitle=i),x(i)}),p()()(),h(24,"tr")(25,"td")(26,"label"),y(27,"Audio URL:"),p()(),h(28,"td")(29,"input",6),L("ngModelChange",function(i){I(e);let o=w();return j(o.editedAudioUrl,i)||(o.editedAudioUrl=i),x(i)}),p()()(),h(30,"tr")(31,"td")(32,"label"),y(33,"Durat\u0103 (secunde):"),p()(),h(34,"td")(35,"input",7),L("ngModelChange",function(i){I(e);let o=w();return j(o.editedDuration,i)||(o.editedDuration=i),x(i)}),p()()(),h(36,"tr")(37,"td")(38,"label"),y(39,"URL Imagine:"),p()(),h(40,"td")(41,"input",6),L("ngModelChange",function(i){I(e);let o=w();return j(o.editedImageUrl,i)||(o.editedImageUrl=i),x(i)}),p()()(),h(42,"tr")(43,"td",8)(44,"button",1),M("click",function(){I(e);let i=w();return x(i.saveSection())}),ie(45,"i",9),y(46," Salveaz\u0103 "),p()()()(),U(47,bT,3,1,"audio",10),p(),U(48,ET,1,1,"img",11),p(),ie(49,"hr"),h(50,"h3"),y(51,"Texte \xEEn sec\u021Biune"),p(),h(52,"table",12)(53,"tr")(54,"th",13),y(55,"#"),p(),h(56,"th",13),y(57,"Text"),p(),h(58,"th",13),y(59,"Ac\u021Biuni"),p(),h(60,"th",13),y(61,"Interval"),p()(),U(62,IT,15,9,"tr",14),p(),ie(63,"hr"),h(64,"h3"),y(65,"Ad\u0103uga\u021Bi un text nou \xEEn sec\u021Biune"),p(),h(66,"table",15)(67,"tr")(68,"td")(69,"label",16),y(70,"Selecta\u021Bi un text liturgic:"),p()(),h(71,"td")(72,"select",17),L("ngModelChange",function(i){I(e);let o=w();return j(o.selectedLitTextId,i)||(o.selectedLitTextId=i),x(i)}),h(73,"option",18),y(74,"-- Alege\u021Bi --"),p(),h(75,"option",19),y(76,"-- Text nou --"),p(),U(77,xT,2,2,"option",20),p()()(),U(78,TT,6,1,"tr",0),h(79,"tr")(80,"td")(81,"label",21),y(82,"Start Time:"),p()(),h(83,"td")(84,"input",22),L("ngModelChange",function(i){I(e);let o=w();return j(o.newStartTime,i)||(o.newStartTime=i),x(i)}),p()()(),h(85,"tr")(86,"td")(87,"label",23),y(88,"End Time:"),p()(),h(89,"td")(90,"input",24),L("ngModelChange",function(i){I(e);let o=w();return j(o.newEndTime,i)||(o.newEndTime=i),x(i)}),p()()(),h(91,"tr")(92,"td")(93,"label",25),y(94,"Repet\u0103ri:"),p()(),h(95,"td")(96,"input",26),L("ngModelChange",function(i){I(e);let o=w();return j(o.newRepetitions,i)||(o.newRepetitions=i),x(i)}),p()()()(),h(97,"button",1),M("click",function(){I(e);let i=w();return x(i.addLiturgicalTextToSection())}),ie(98,"i",27),y(99," Ad\u0103uga\u021Bi "),p()()}if(t&2){let e=w();v(5),He("",e.section.title," ",e.section.subtitle!==null?" - "+e.section.subtitle:""," "),v(12),F("ngModel",e.editedTitle),v(6),F("ngModel",e.editedSubtitle),v(6),F("ngModel",e.editedAudioUrl),v(6),F("ngModel",e.editedDuration),v(6),F("ngModel",e.editedImageUrl),v(6),T("ngIf",e.section.audio_url),v(),T("ngIf",e.section.image_url),v(14),T("ngForOf",e.sectionTexts),v(10),F("ngModel",e.selectedLitTextId),v(5),T("ngForOf",e.allLitTexts),v(),T("ngIf",e.selectedLitTextId==="new"),v(6),F("ngModel",e.newStartTime),v(6),F("ngModel",e.newEndTime),v(6),F("ngModel",e.newRepetitions)}}var Bl=class t{constructor(n,e,r,i,o){this.route=n;this.router=e;this.sectionsService=r;this.sectionTextsService=i;this.litTextsService=o}sectionId;section=null;sectionTexts=[];allLitTexts=[];editedTitle="";editedSubtitle="";editedAudioUrl="";editedDuration=null;editedImageUrl="";selectedLitTextId="new";newStartTime=0;newEndTime=0;newRepetitions=1;newLiturgicalTextTitle="";ngOnInit(){return f(this,null,function*(){this.sectionId=this.route.snapshot.paramMap.get("id")||"",yield this.loadSection(),yield this.loadAllLitTexts(),yield this.loadSectionTexts()})}loadSection(){return f(this,null,function*(){this.section=yield this.sectionsService.getById(this.sectionId),this.section&&(this.editedTitle=this.section.title||"",this.editedSubtitle=this.section.subtitle||"",this.editedAudioUrl=this.section.audio_url,this.editedDuration=this.section.duration,this.editedImageUrl=this.section.image_url||"")})}deleteSection(){return f(this,null,function*(){if(confirm("\u0218terge aceast\u0103 sec\u021Biune?"))try{yield this.sectionsService.delete(this.sectionId),alert("Sec\u021Biune \u0219tears\u0103 cu succes!"),this.router.navigate(["/sections"])}catch(n){console.error("Eroare la \u0219tergere:",n)}})}loadAllLitTexts(){return f(this,null,function*(){this.allLitTexts=yield this.litTextsService.getAll()})}loadSectionTexts(){return f(this,null,function*(){let{data:n,error:e}=yield this.sectionTextsService.client.from("section_texts").select("*, text: liturgical_texts(*)").eq("prayer_section_id",this.sectionId).order("sequence",{ascending:!0});!e&&n&&(this.sectionTexts=n)})}saveSection(){return f(this,null,function*(){if(!this.section)return;let n={title:this.editedTitle.trim()||null,subtitle:this.editedSubtitle.trim()||null,audio_url:this.editedAudioUrl.trim(),duration:this.editedDuration||0,image_url:this.editedImageUrl.trim()||null};try{let e=yield this.sectionsService.update(this.section.id,n);e&&(this.section.title=e.title,this.section.subtitle=e.subtitle,this.section.audio_url=e.audio_url,this.section.duration=e.duration,this.section.image_url=e.image_url,alert("Sec\u021Biune salvat\u0103 cu succes!"))}catch(e){console.error("Eroare la salvarea sec\u021Biunii:",e)}})}addLiturgicalTextToSection(){return f(this,null,function*(){if(!this.selectedLitTextId)return;let n=0;this.sectionTexts.length>0&&(n=Math.max(...this.sectionTexts.map(e=>e.sequence)));try{if(this.selectedLitTextId==="new"){let r=yield this.litTextsService.create({title:this.newLiturgicalTextTitle});this.selectedLitTextId=r.id}let e=yield this.sectionTextsService.create({prayer_section_id:this.sectionId,liturgical_text_id:this.selectedLitTextId,sequence:n+1,repetition:this.newRepetitions,start_time:this.newStartTime??null,end_time:this.newEndTime??null});this.newLiturgicalTextTitle="",this.selectedLitTextId="new",this.newStartTime=null,this.newEndTime=null,this.newRepetitions=1,this.sectionTexts.push(e)}catch(e){console.error("Eroare la ad\u0103ugarea textului:",e)}})}deleteSectionText(n,e){return f(this,null,function*(){if(confirm("\u0218terge acest text din sec\u021Biune?"))try{yield this.sectionTextsService.delete(n.id),this.sectionTexts.splice(e,1)}catch(r){console.error("Eroare la \u0219tergere:",r)}})}moveUp(n){return f(this,null,function*(){if(n===0)return;let e=this.sectionTexts[n],r=this.sectionTexts[n-1],i=e.sequence;e.sequence=r.sequence,r.sequence=i;try{yield this.sectionTextsService.update(e.id,{sequence:e.sequence}),yield this.sectionTextsService.update(r.id,{sequence:r.sequence}),this.sectionTexts[n]=r,this.sectionTexts[n-1]=e}catch(o){console.error("Eroare la mutare \xEEn sus:",o)}})}moveDown(n){return f(this,null,function*(){if(n===this.sectionTexts.length-1)return;let e=this.sectionTexts[n],r=this.sectionTexts[n+1],i=e.sequence;e.sequence=r.sequence,r.sequence=i;try{yield this.sectionTextsService.update(e.id,{sequence:e.sequence}),yield this.sectionTextsService.update(r.id,{sequence:r.sequence}),this.sectionTexts[n]=r,this.sectionTexts[n+1]=e}catch(o){console.error("Eroare la mutare \xEEn jos:",o)}})}goBack(){window.history.back()}static \u0275fac=function(e){return new(e||t)(C(Ke),C(Dt),C(Sn),C(jl),C(In))};static \u0275cmp=ue({type:t,selectors:[["app-section-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click"],["title","\xCEnapoi",1,"material-icons",2,"font-size","16px"],["title","\u0218terge",1,"material-icons",2,"font-size","16px"],[2,"display","flex","justify-content","space-between"],[1,"section-edit-fields",2,"border-collapse","collapse"],[3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],["colspan","2",2,"text-align","left"],[1,"fa","fa-save"],["controls","",4,"ngIf"],["alt","Section Image","style","margin-left: 20px; max-width: 200px; max-height: 200px;",3,"src",4,"ngIf"],[1,"sections-texts",2,"border-collapse","collapse","margin-top","20px"],[2,"padding","8px"],[3,"ngStyle",4,"ngFor","ngForOf"],[2,"border-collapse","collapse"],["for","litTextSelect"],["id","litTextSelect",3,"ngModelChange","ngModel"],["value",""],["value","new","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","startTime"],["id","startTime","type","number","placeholder","Ex: 0",3,"ngModelChange","ngModel"],["for","endTime"],["id","endTime","type","number","placeholder","Ex: 20",3,"ngModelChange","ngModel"],["for","repetitions"],["id","repetitions","type","number","placeholder","Ex: 1",3,"ngModelChange","ngModel"],[1,"fa","fa-plus"],["controls",""],["type","audio/mpeg",3,"src"],["alt","Section Image",2,"margin-left","20px","max-width","200px","max-height","200px",3,"src"],[3,"ngStyle"],["title","Mut\u0103 \xEEn sus",3,"click","disabled"],["title","Mut\u0103 \xEEn jos",3,"click","disabled"],["title","\u0218terge",1,"material-icons",2,"font-size","12px"],[3,"routerLink"],[3,"value"],["for","newTextTitle"],["id","newTextTitle","type","text","placeholder","Ex: N\u0103sc\u0103toare de Dumnezeu",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&U(0,MT,100,16,"div",0),e&2&&T("ngIf",r.section)},dependencies:[ge,Ve,ot,Bm,Ae,El,Sl,De,ar,gi,Me,xe,Ot],styles:["td[_ngcontent-%COMP%]{text-align:left;align-items:center}table.sections-texts[_ngcontent-%COMP%]   :is(tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]){border:1px solid #790822;background-color:#ffe5ad;color:#790822}"]})};var c_=[{path:"",redirectTo:"prayers",pathMatch:"full"},{path:"prayers",component:xl,canActivate:[jt]},{path:"prayers/:id",component:Nl,canActivate:[jt]},{path:"prayerTypes",component:Ol,canActivate:[jt]},{path:"liturgicalTexts",component:Ll,canActivate:[jt]},{path:"liturgicalTexts/:id",component:Fl,canActivate:[jt]},{path:"sections",component:Vl,canActivate:[jt]},{path:"sections/:id",component:Bl,canActivate:[jt]},{path:"login",component:Pl}];function AT(t){return()=>t.initSession()}Km(pl,{providers:[Py(c_),{provide:Da,useFactory:AT,deps:[Lt],multi:!0}]});export{AT as initSessionFactory};
