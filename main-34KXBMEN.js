import{b as fh,c as hh,f as Y_,g as ph}from"./chunk-LJ5XHLMQ.js";import{a as D,b as Y,d as Jt,f as q_,g as W_,h}from"./chunk-FK42CRUA.js";var kf=Jt(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});var Af=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Nf.default=Af});var Of=Jt(Mo=>{"use strict";var cy=Mo&&Mo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mo,"__esModule",{value:!0});var YI=cy((ph(),W_(Y_))),ZI=cy(kf()),Rf=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=YI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=Object.assign({},this.headers),this.headers[n]=e,this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,l;let c=null,u=null,d=null,y=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let O=yield o.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=O:u=JSON.parse(O))}let C=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),M=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");C&&M&&M.length>1&&(d=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,y=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let C=yield o.text();try{c=JSON.parse(C),Array.isArray(c)&&o.status===404&&(u=[],c=null,y=200,g="OK")}catch{o.status===404&&C===""?(y=204,g="No Content"):c={message:C}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,y=200,g="OK"),c&&this.shouldThrowOnError)throw new ZI.default(c)}return{error:c,data:u,count:d,status:y,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}};Mo.default=Rf});var Ff=Jt(Ao=>{"use strict";var KI=Ao&&Ao.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ao,"__esModule",{value:!0});var QI=KI(Of()),Pf=class extends QI.default{select(n){let e=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ao.default=Pf});var vl=Jt(No=>{"use strict";var JI=No&&No.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(No,"__esModule",{value:!0});var XI=JI(Ff()),Lf=class extends XI.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};No.default=Lf});var jf=Jt(Ro=>{"use strict";var ex=Ro&&Ro.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ro,"__esModule",{value:!0});var ko=ex(vl()),Vf=class{constructor(n,{headers:e={},schema:r,fetch:i}){this.url=n,this.headers=e,this.schema=r,this.fetch=i}select(n,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ko.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ko.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ko.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new ko.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let e="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ko.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ro.default=Vf});var uy=Jt(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.version=void 0;yl.version="0.0.0-automated"});var dy=Jt(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.DEFAULT_HEADERS=void 0;var tx=uy();_l.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${tx.version}`}});var hy=Jt(Oo=>{"use strict";var fy=Oo&&Oo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oo,"__esModule",{value:!0});var nx=fy(jf()),rx=fy(vl()),ix=dy(),$f=class t{constructor(n,{headers:e={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},ix.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(n){let e=new URL(`${this.url}/${n}`);return new nx.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=e);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new rx.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Oo.default=$f});var wy=Jt(Be=>{"use strict";var gi=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;var py=gi(hy());Be.PostgrestClient=py.default;var gy=gi(jf());Be.PostgrestQueryBuilder=gy.default;var my=gi(vl());Be.PostgrestFilterBuilder=my.default;var vy=gi(Ff());Be.PostgrestTransformBuilder=vy.default;var yy=gi(Of());Be.PostgrestBuilder=yy.default;var _y=gi(kf());Be.PostgrestError=_y.default;Be.default={PostgrestClient:py.default,PostgrestQueryBuilder:gy.default,PostgrestFilterBuilder:my.default,PostgrestTransformBuilder:vy.default,PostgrestBuilder:yy.default,PostgrestError:_y.default}});function fc(t,n){return Object.is(t,n)}var Me=null,as=!1,hc=1,tt=Symbol("SIGNAL");function te(t){let n=Me;return Me=t,n}function gh(){return Me}var Fi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cs(t){if(as)throw new Error("");if(Me===null)return;Me.consumerOnSignalRead(t);let n=Me.nextProducerIndex++;if(fs(Me),n<Me.producerNode.length&&Me.producerNode[n]!==t&&Pi(Me)){let e=Me.producerNode[n];ds(e,Me.producerIndexOfThis[n])}Me.producerNode[n]!==t&&(Me.producerNode[n]=t,Me.producerIndexOfThis[n]=Pi(Me)?yh(t,Me,n):0),Me.producerLastReadVersion[n]=t.version}function Z_(){hc++}function pc(t){if(!(Pi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hc)){if(!t.producerMustRecompute(t)&&!mc(t)){dc(t);return}t.producerRecomputeValue(t),dc(t)}}function mh(t){if(t.liveConsumerNode===void 0)return;let n=as;as=!0;try{for(let e of t.liveConsumerNode)e.dirty||K_(e)}finally{as=n}}function vh(){return Me?.consumerAllowSignalWrites!==!1}function K_(t){t.dirty=!0,mh(t),t.consumerMarkedDirty?.(t)}function dc(t){t.dirty=!1,t.lastCleanEpoch=hc}function us(t){return t&&(t.nextProducerIndex=0),te(t)}function gc(t,n){if(te(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Pi(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)ds(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function mc(t){fs(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(pc(e),r!==e.version))return!0}return!1}function vc(t){if(fs(t),Pi(t))for(let n=0;n<t.producerNode.length;n++)ds(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yh(t,n,e){if(_h(t),t.liveConsumerNode.length===0&&wh(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=yh(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function ds(t,n){if(_h(t),t.liveConsumerNode.length===1&&wh(t))for(let r=0;r<t.producerNode.length;r++)ds(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];fs(i),i.producerIndexOfThis[r]=n}}function Pi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function _h(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function wh(t){return t.producerNode!==void 0}function Sh(t){let n=Object.create(Q_);n.computation=t;let e=()=>{if(pc(n),cs(n),n.value===ls)throw n.error;return n.value};return e[tt]=n,e}var cc=Symbol("UNSET"),uc=Symbol("COMPUTING"),ls=Symbol("ERRORED"),Q_=Y(D({},Fi),{value:cc,dirty:!0,error:null,equal:fc,producerMustRecompute(t){return t.value===cc||t.value===uc},producerRecomputeValue(t){if(t.value===uc)throw new Error("Detected cycle in computations.");let n=t.value;t.value=uc;let e=us(t),r;try{r=t.computation()}catch(i){r=ls,t.error=i}finally{gc(t,e)}if(n!==cc&&n!==ls&&r!==ls&&t.equal(n,r)){t.value=n;return}t.value=r,t.version++}});function J_(){throw new Error}var Ch=J_;function Dh(){Ch()}function Eh(t){Ch=t}var X_=null;function bh(t){let n=Object.create(yc);n.value=t;let e=()=>(cs(n),n.value);return e[tt]=n,e}function hs(t,n){vh()||Dh(),t.equal(t.value,n)||(t.value=n,e0(t))}function Ih(t,n){vh()||Dh(),hs(t,n(t.value))}var yc=Y(D({},Fi),{equal:fc,value:void 0});function e0(t){t.version++,Z_(),mh(t),X_?.()}function B(t){return typeof t=="function"}function Dr(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var ps=Dr(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Li(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Ee=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(o){n=o instanceof ps?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{xh(o)}catch(s){n=n??[],s instanceof ps?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ps(n)}}add(n){var e;if(n&&n!==this)if(this.closed)xh(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Li(e,n)}remove(n){let{_finalizers:e}=this;e&&Li(e,n),n instanceof t&&n._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var _c=Ee.EMPTY;function gs(t){return t instanceof Ee||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function xh(t){B(t)?t():t.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Er={setTimeout(t,n,...e){let{delegate:r}=Er;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Er;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ms(t){Er.setTimeout(()=>{let{onUnhandledError:n}=_t;if(n)n(t);else throw t})}function Vi(){}var Th=wc("C",void 0,void 0);function Mh(t){return wc("E",void 0,t)}function Ah(t){return wc("N",t,void 0)}function wc(t,n,e){return{kind:t,value:n,error:e}}var $n=null;function br(t){if(_t.useDeprecatedSynchronousErrorHandling){let n=!$n;if(n&&($n={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=$n;if($n=null,e)throw r}}else t()}function Nh(t){_t.useDeprecatedSynchronousErrorHandling&&$n&&($n.errorThrown=!0,$n.error=t)}var Bn=class extends Ee{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,gs(n)&&n.add(this)):this.destination=r0}static create(n,e,r){return new Ir(n,e,r)}next(n){this.isStopped?Cc(Ah(n),this):this._next(n)}error(n){this.isStopped?Cc(Mh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Cc(Th,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},t0=Function.prototype.bind;function Sc(t,n){return t0.call(t,n)}var Dc=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){vs(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){vs(r)}else vs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){vs(e)}}},Ir=class extends Bn{constructor(n,e,r){super();let i;if(B(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Sc(n.next,o),error:n.error&&Sc(n.error,o),complete:n.complete&&Sc(n.complete,o)}):i=n}this.destination=new Dc(i)}};function vs(t){_t.useDeprecatedSynchronousErrorHandling?Nh(t):ms(t)}function n0(t){throw t}function Cc(t,n){let{onStoppedNotification:e}=_t;e&&Er.setTimeout(()=>e(t,n))}var r0={closed:!0,next:Vi,error:n0,complete:Vi};var xr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function nt(t){return t}function Ec(...t){return bc(t)}function bc(t){return t.length===0?nt:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var re=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=o0(e)?e:new Ir(e,r,i);return br(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=kh(r),new r((i,o)=>{let s=new Ir({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[xr](){return this}pipe(...e){return bc(e)(this)}toPromise(e){return e=kh(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function kh(t){var n;return(n=t??_t.Promise)!==null&&n!==void 0?n:Promise}function i0(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function o0(t){return t&&t instanceof Bn||i0(t)&&gs(t)}function Ic(t){return B(t?.lift)}function ee(t){return n=>{if(Ic(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,n,e,r,i){return new xc(t,n,e,r,i)}var xc=class extends Bn{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Tr(){return ee((t,n)=>{let e=null;t._refCount++;let r=X(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var Mr=class extends re{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ic(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ee;let e=this.getSubject();n.add(this.source.subscribe(X(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ee.EMPTY)}return n}refCount(){return Tr()(this)}};var Rh=Dr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new ys(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Rh}next(e){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_c:(this.currentObservers=null,o.push(e),new Ee(()=>{this.currentObservers=null,Li(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new re;return e.source=this,e}}return t.create=(n,e)=>new ys(n,e),t})(),ys=class extends Ae{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:_c}};var Le=class extends Ae{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var rt=new re(t=>t.complete());function Oh(t){return t&&B(t.schedule)}function Ph(t){return t[t.length-1]}function _s(t){return B(Ph(t))?t.pop():void 0}function mn(t){return Oh(Ph(t))?t.pop():void 0}function Lh(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}function Fh(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Un(t){return this instanceof Un?(this.v=t,this):new Un(t)}function Vh(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(f){return Promise.resolve(f).then(g,d)}}function a(g,f){r[g]&&(i[g]=function(C){return new Promise(function(M,O){o.push([g,C,M,O])>1||l(g,C)})},f&&(i[g]=f(i[g])))}function l(g,f){try{c(r[g](f))}catch(C){y(o[0][3],C)}}function c(g){g.value instanceof Un?Promise.resolve(g.value.v).then(u,d):y(o[0][2],g)}function u(g){l("next",g)}function d(g){l("throw",g)}function y(g,f){g(f),o.shift(),o.length&&l(o[0][0],o[0][1])}}function jh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Fh=="function"?Fh(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var ws=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ss(t){return B(t?.then)}function Cs(t){return B(t[xr])}function Ds(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function Es(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function s0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bs=s0();function Is(t){return B(t?.[bs])}function xs(t){return Vh(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield Un(e.read());if(i)return yield Un(void 0);yield yield Un(r)}}finally{e.releaseLock()}})}function Ts(t){return B(t?.getReader)}function be(t){if(t instanceof re)return t;if(t!=null){if(Cs(t))return a0(t);if(ws(t))return l0(t);if(Ss(t))return c0(t);if(Ds(t))return $h(t);if(Is(t))return u0(t);if(Ts(t))return d0(t)}throw Es(t)}function a0(t){return new re(n=>{let e=t[xr]();if(B(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function l0(t){return new re(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function c0(t){return new re(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ms)})}function u0(t){return new re(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function $h(t){return new re(n=>{f0(t,n).catch(e=>n.error(e))})}function d0(t){return $h(xs(t))}function f0(t,n){var e,r,i,o;return Lh(this,void 0,void 0,function*(){try{for(e=jh(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function Ze(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ms(t,n=0){return ee((e,r)=>{e.subscribe(X(r,i=>Ze(r,t,()=>r.next(i),n),()=>Ze(r,t,()=>r.complete(),n),i=>Ze(r,t,()=>r.error(i),n)))})}function As(t,n=0){return ee((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Bh(t,n){return be(t).pipe(As(n),Ms(n))}function Uh(t,n){return be(t).pipe(As(n),Ms(n))}function Hh(t,n){return new re(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function Gh(t,n){return new re(e=>{let r;return Ze(e,n,()=>{r=t[bs](),Ze(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function Ns(t,n){if(!t)throw new Error("Iterable cannot be null");return new re(e=>{Ze(e,n,()=>{let r=t[Symbol.asyncIterator]();Ze(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function zh(t,n){return Ns(xs(t),n)}function qh(t,n){if(t!=null){if(Cs(t))return Bh(t,n);if(ws(t))return Hh(t,n);if(Ss(t))return Uh(t,n);if(Ds(t))return Ns(t,n);if(Is(t))return Gh(t,n);if(Ts(t))return zh(t,n)}throw Es(t)}function _e(t,n){return n?qh(t,n):be(t)}function H(...t){let n=mn(t);return _e(t,n)}function Ar(t,n){let e=B(t)?t:()=>t,r=i=>i.error(e());return new re(n?i=>n.schedule(r,0,i):r)}function Tc(t){return!!t&&(t instanceof re||B(t.lift)&&B(t.subscribe))}var Xt=Dr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,n){return ee((e,r)=>{let i=0;e.subscribe(X(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:h0}=Array;function p0(t,n){return h0(n)?t(...n):t(n)}function ks(t){return Z(n=>p0(t,n))}var{isArray:g0}=Array,{getPrototypeOf:m0,prototype:v0,keys:y0}=Object;function Rs(t){if(t.length===1){let n=t[0];if(g0(n))return{args:n,keys:null};if(_0(n)){let e=y0(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function _0(t){return t&&typeof t=="object"&&m0(t)===v0}function Os(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Ps(...t){let n=mn(t),e=_s(t),{args:r,keys:i}=Rs(t);if(r.length===0)return _e([],n);let o=new re(w0(r,n,i?s=>Os(i,s):nt));return e?o.pipe(ks(e)):o}function w0(t,n,e=nt){return r=>{Wh(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Wh(n,()=>{let c=_e(t[l],n),u=!1;c.subscribe(X(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Wh(t,n,e){t?Ze(e,t,n):n()}function Yh(t,n,e,r,i,o,s,a){let l=[],c=0,u=0,d=!1,y=()=>{d&&!l.length&&!c&&n.complete()},g=C=>c<r?f(C):l.push(C),f=C=>{o&&n.next(C),c++;let M=!1;be(e(C,u++)).subscribe(X(n,O=>{i?.(O),o?g(O):n.next(O)},()=>{M=!0},void 0,()=>{if(M)try{for(c--;l.length&&c<r;){let O=l.shift();s?Ze(n,s,()=>f(O)):f(O)}y()}catch(O){n.error(O)}}))};return t.subscribe(X(n,g,()=>{d=!0,y()})),()=>{a?.()}}function Ne(t,n,e=1/0){return B(n)?Ne((r,i)=>Z((o,s)=>n(r,o,i,s))(be(t(r,i))),e):(typeof n=="number"&&(e=n),ee((r,i)=>Yh(r,i,t,e)))}function Mc(t=1/0){return Ne(nt,t)}function Zh(){return Mc(1)}function Nr(...t){return Zh()(_e(t,mn(t)))}function Fs(t){return new re(n=>{be(t()).subscribe(n)})}function Ac(...t){let n=_s(t),{args:e,keys:r}=Rs(t),i=new re(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;be(e[u]).subscribe(X(o,y=>{d||(d=!0,c--),a[u]=y},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Os(r,a):a),o.complete())}))}});return n?i.pipe(ks(n)):i}function wt(t,n){return ee((e,r)=>{let i=0;e.subscribe(X(r,o=>t.call(n,o,i++)&&r.next(o)))})}function vn(t){return ee((n,e)=>{let r=null,i=!1,o;r=n.subscribe(X(e,void 0,void 0,s=>{o=be(t(s,vn(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Kh(t,n,e,r,i){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(X(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function kr(t,n){return B(n)?Ne(t,n,1):Ne(t,1)}function yn(t){return ee((n,e)=>{let r=!1;n.subscribe(X(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function en(t){return t<=0?()=>rt:ee((n,e)=>{let r=0;n.subscribe(X(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Nc(t){return Z(()=>t)}function Ls(t=S0){return ee((n,e)=>{let r=!1;n.subscribe(X(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function S0(){return new Xt}function ji(t){return ee((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function tn(t,n){let e=arguments.length>=2;return r=>r.pipe(t?wt((i,o)=>t(i,o,r)):nt,en(1),e?yn(n):Ls(()=>new Xt))}function Rr(t){return t<=0?()=>rt:ee((n,e)=>{let r=[];n.subscribe(X(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function kc(t,n){let e=arguments.length>=2;return r=>r.pipe(t?wt((i,o)=>t(i,o,r)):nt,Rr(1),e?yn(n):Ls(()=>new Xt))}function Rc(t,n){return ee(Kh(t,n,arguments.length>=2,!0))}function Oc(...t){let n=mn(t);return ee((e,r)=>{(n?Nr(t,e,n):Nr(t,e)).subscribe(r)})}function St(t,n){return ee((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(X(r,l=>{i?.unsubscribe();let c=0,u=o++;be(t(l,u)).subscribe(i=X(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Pc(t){return ee((n,e)=>{be(t).subscribe(X(e,()=>e.complete(),Vi)),!e.closed&&n.subscribe(e)})}function Ve(t,n,e){let r=B(t)||n||e?{next:t,error:n,complete:e}:t;return r?ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(X(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):nt}var Vp="https://g.co/ng/security#xss",R=class extends Error{code;constructor(n,e){super(Bu(n,e)),this.code=n}};function Bu(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}var jp=Symbol("InputSignalNode#UNSET"),C0=Y(D({},yc),{transformFn:void 0,applyValueToInputSignal(t,n){hs(t,n)}});function $p(t,n){let e=Object.create(C0);e.value=t,e.transformFn=n?.transform;function r(){if(cs(e),e.value===jp)throw new R(-950,!1);return e.value}return r[tt]=e,r}function Ji(t){return{toString:t}.toString()}var Vs="__parameters__";function D0(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function Bp(t,n,e){return Ji(()=>{let r=D0(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Vs)?l[Vs]:Object.defineProperty(l,Vs,{value:[]})[Vs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Yc=globalThis;function le(t){for(let n in t)if(t[n]===le)return n;throw Error("Could not find renamed property on target object.")}function E0(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function qe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(qe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function Qh(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var b0=le({__forward_ref__:le});function bt(t){return t.__forward_ref__=bt,t.toString=function(){return qe(this())},t}function ze(t){return Up(t)?t():t}function Up(t){return typeof t=="function"&&t.hasOwnProperty(b0)&&t.__forward_ref__===bt}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function _a(t){return Jh(t,Gp)||Jh(t,zp)}function Hp(t){return _a(t)!==null}function Jh(t,n){return t.hasOwnProperty(n)?t[n]:null}function I0(t){let n=t&&(t[Gp]||t[zp]);return n||null}function Xh(t){return t&&(t.hasOwnProperty(ep)||t.hasOwnProperty(x0))?t[ep]:null}var Gp=le({\u0275prov:le}),ep=le({\u0275inj:le}),zp=le({ngInjectableDef:le}),x0=le({ngInjectorDef:le}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qp(t){return t&&!!t.\u0275providers}var T0=le({\u0275cmp:le}),M0=le({\u0275dir:le}),A0=le({\u0275pipe:le}),N0=le({\u0275mod:le}),Ws=le({\u0275fac:le}),Hi=le({__NG_ELEMENT_ID__:le}),tp=le({__NG_ENV_ID__:le});function jr(t){return typeof t=="string"?t:t==null?"":String(t)}function k0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():jr(t)}function R0(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new R(-200,t)}function Uu(t,n){throw new R(-201,!1)}var q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(q||{}),Zc;function Wp(){return Zc}function Ke(t){let n=Zc;return Zc=t,n}function Yp(t,n,e){let r=_a(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&q.Optional)return null;if(n!==void 0)return n;Uu(t,"Injector")}var O0={},Gi=O0,Kc="__NG_DI_FLAG__",Ys="ngTempTokenPath",P0="ngTokenPath",F0=/\n/gm,L0="\u0275",np="__source",Lr;function V0(){return Lr}function _n(t){let n=Lr;return Lr=t,n}function j0(t,n=q.Default){if(Lr===void 0)throw new R(-203,!1);return Lr===null?Yp(t,void 0,n):Lr.get(t,n&q.Optional?null:void 0,n)}function k(t,n=q.Default){return(Wp()||j0)(ze(t),n)}function E(t,n=q.Default){return k(t,wa(n))}function wa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qc(t){let n=[];for(let e=0;e<t.length;e++){let r=ze(t[e]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=$0(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(k(i,o))}else n.push(k(r))}return n}function Zp(t,n){return t[Kc]=n,t.prototype[Kc]=n,t}function $0(t){return t[Kc]}function B0(t,n,e,r){let i=t[Ys];throw n[np]&&i.unshift(n[np]),t.message=U0(`
`+t.message,i,e,r),t[P0]=i,t[Ys]=null,t}function U0(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==L0?t.slice(2):t;let i=qe(n);if(Array.isArray(n))i=n.map(qe).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):qe(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(F0,`
  `)}`}var Sa=Zp(Bp("Optional"),8);var Hu=Zp(Bp("SkipSelf"),4);function Gn(t,n){let e=t.hasOwnProperty(Ws);return e?t[Ws]:null}function Gu(t,n){t.forEach(e=>Array.isArray(e)?Gu(e,n):n(e))}function Kp(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Zs(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function H0(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function G0(t,n,e){let r=Xi(t,n);return r>=0?t[r|1]=e:(r=~r,H0(t,r,n,e)),r}function Fc(t,n){let e=Xi(t,n);if(e>=0)return t[e|1]}function Xi(t,n){return z0(t,n,1)}function z0(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var $r={},ct=[],Br=new P(""),Qp=new P("",-1),Jp=new P(""),Ks=class{get(n,e=Gi){if(e===Gi){let r=new Error(`NullInjectorError: No provider for ${qe(n)}!`);throw r.name="NullInjectorError",r}return e}};function Xp(t,n){let e=t[N0]||null;if(!e&&n===!0)throw new Error(`Type ${qe(t)} does not have '\u0275mod' property.`);return e}function zn(t){return t[T0]||null}function eg(t){return t[M0]||null}function tg(t){return t[A0]||null}function ng(t){let n=zn(t)||eg(t)||tg(t);return n!==null?n.standalone:!1}function eo(t){return{\u0275providers:t}}function q0(...t){return{\u0275providers:rg(!0,t),\u0275fromNgModule:!0}}function rg(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return Gu(n,s=>{let a=s;Jc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ig(i,o),e}function ig(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];zu(i,o=>{n(o,r)})}}function Jc(t,n,e,r){if(t=ze(t),!t)return!1;let i=null,o=Xh(t),s=!o&&zn(t);if(!o&&!s){let l=t.ngModule;if(o=Xh(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Jc(c,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Gu(o.imports,u=>{Jc(u,n,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&ig(c,n)}if(!a){let c=Gn(i)||(()=>new i);n({provide:i,useFactory:c,deps:ct},i),n({provide:Jp,useValue:i,multi:!0},i),n({provide:Br,useValue:()=>k(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;zu(l,u=>{n(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function zu(t,n){for(let e of t)qp(e)&&(e=e.\u0275providers),Array.isArray(e)?zu(e,n):n(e)}var W0=le({provide:String,useValue:le});function og(t){return t!==null&&typeof t=="object"&&W0 in t}function Y0(t){return!!(t&&t.useExisting)}function Z0(t){return!!(t&&t.useFactory)}function Ur(t){return typeof t=="function"}function K0(t){return!!t.useClass}var Ca=new P(""),Us={},Q0={},Lc;function qu(){return Lc===void 0&&(Lc=new Ks),Lc}var dt=class{},zi=class extends dt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,eu(n,s=>this.processProvider(s)),this.records.set(Qp,Or(void 0,this)),i.has("environment")&&this.records.set(dt,Or(void 0,this));let o=this.records.get(Ca);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jp,ct,q.Self))}destroy(){Bi(this),this._destroyed=!0;let n=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(n)}}onDestroy(n){return Bi(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Bi(this);let e=_n(this),r=Ke(void 0),i;try{return n()}finally{_n(e),Ke(r)}}get(n,e=Gi,r=q.Default){if(Bi(this),n.hasOwnProperty(tp))return n[tp](this);r=wa(r);let i,o=_n(this),s=Ke(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=nw(n)&&_a(n);c&&this.injectableDefInScope(c)?l=Or(Xc(n),Us):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&q.Self?qu():this.parent;return e=r&q.Optional&&e===Gi?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Ys]=a[Ys]||[]).unshift(qe(n)),o)throw a;return B0(a,n,"R3InjectorError",this.source)}else throw a}finally{Ke(s),_n(o)}}resolveInjectorInitializers(){let n=te(null),e=_n(this),r=Ke(void 0),i;try{let o=this.get(Br,ct,q.Self);for(let s of o)s()}finally{_n(e),Ke(r),te(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(qe(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ze(n);let e=Ur(n)?n:ze(n&&n.provide),r=X0(n);if(!Ur(n)&&n.multi===!0){let i=this.records.get(e);i||(i=Or(void 0,Us,!0),i.factory=()=>Qc(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){let r=te(null);try{return e.value===Us&&(e.value=Q0,e.value=e.factory()),typeof e.value=="object"&&e.value&&tw(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{te(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=ze(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Xc(t){let n=_a(t),e=n!==null?n.factory:Gn(t);if(e!==null)return e;if(t instanceof P)throw new R(204,!1);if(t instanceof Function)return J0(t);throw new R(204,!1)}function J0(t){if(t.length>0)throw new R(204,!1);let e=I0(t);return e!==null?()=>e.factory(t):()=>new t}function X0(t){if(og(t))return Or(void 0,t.useValue);{let n=sg(t);return Or(n,Us)}}function sg(t,n,e){let r;if(Ur(t)){let i=ze(t);return Gn(i)||Xc(i)}else if(og(t))r=()=>ze(t.useValue);else if(Z0(t))r=()=>t.useFactory(...Qc(t.deps||[]));else if(Y0(t))r=()=>k(ze(t.useExisting));else{let i=ze(t&&(t.useClass||t.provide));if(ew(t))r=()=>new i(...Qc(t.deps));else return Gn(i)||Xc(i)}return r}function Bi(t){if(t.destroyed)throw new R(205,!1)}function Or(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function ew(t){return!!t.deps}function tw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nw(t){return typeof t=="function"||typeof t=="object"&&t instanceof P}function eu(t,n){for(let e of t)Array.isArray(e)?eu(e,n):e&&qp(e)?eu(e.\u0275providers,n):n(e)}function It(t,n){t instanceof zi&&Bi(t);let e,r=_n(t),i=Ke(void 0);try{return n()}finally{_n(r),Ke(i)}}function rw(){return Wp()!==void 0||V0()!=null}function iw(t){return typeof t=="function"}var on=0,K=1,j=2,We=3,Dt=4,xt=5,Qs=6,Js=7,Et=8,Hr=9,nn=10,we=11,qi=12,rp=13,Qr=14,Lt=15,Gr=16,Pr=17,zr=18,Da=19,ag=20,wn=21,Vc=22,Xs=23,it=24,ft=25,lg=1;var qn=7,ea=8,ta=9,ut=10,na=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(na||{});function Sn(t){return Array.isArray(t)&&typeof t[lg]=="object"}function sn(t){return Array.isArray(t)&&t[lg]===!0}function Wu(t){return(t.flags&4)!==0}function Ea(t){return t.componentOffset>-1}function ba(t){return(t.flags&1)===1}function Cn(t){return!!t.template}function tu(t){return(t[j]&512)!==0}var nu=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function cg(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var Xn=(()=>{let t=()=>ug;return t.ngInherit=!0,t})();function ug(t){return t.type.prototype.ngOnChanges&&(t.setInput=sw),ow}function ow(){let t=fg(this),n=t?.current;if(n){let e=t.previous;if(e===$r)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function sw(t,n,e,r,i){let o=this.declaredInputs[r],s=fg(t)||aw(t,{previous:$r,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new nu(c&&c.currentValue,e,l===$r),cg(t,n,i,e)}var dg="__ngSimpleChanges__";function fg(t){return t[dg]||null}function aw(t,n){return t[dg]=n}var ip=null;var Pt=function(t,n,e){ip?.(t,n,e)},lw="svg",cw="math";function Vt(t){for(;Array.isArray(t);)t=t[on];return t}function hg(t,n){return Vt(n[t])}function ht(t,n){return Vt(n[t.index])}function pg(t,n){return t.data[n]}function gg(t,n){return t[n]}function Mn(t,n){let e=n[t];return Sn(e)?e:e[on]}function Yu(t){return(t[j]&128)===128}function uw(t){return sn(t[We])}function qr(t,n){return n==null?null:t[n]}function mg(t){t[Pr]=0}function Zu(t){t[j]&1024||(t[j]|=1024,Yu(t)&&xa(t))}function dw(t,n){for(;t>0;)n=n[Qr],t--;return n}function Ia(t){return!!(t[j]&9216||t[it]?.dirty)}function ru(t){t[nn].changeDetectionScheduler?.notify(9),t[j]&64&&(t[j]|=1024),Ia(t)&&xa(t)}function xa(t){t[nn].changeDetectionScheduler?.notify(0);let n=Wn(t);for(;n!==null&&!(n[j]&8192||(n[j]|=8192,!Yu(n)));)n=Wn(n)}function vg(t,n){if((t[j]&256)===256)throw new R(911,!1);t[wn]===null&&(t[wn]=[]),t[wn].push(n)}function fw(t,n){if(t[wn]===null)return;let e=t[wn].indexOf(n);e!==-1&&t[wn].splice(e,1)}function Wn(t){let n=t[We];return sn(n)?n[We]:n}var W={lFrame:Ig(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var iu=!1;function hw(){return W.lFrame.elementDepthCount}function pw(){W.lFrame.elementDepthCount++}function gw(){W.lFrame.elementDepthCount--}function yg(){return W.bindingsEnabled}function mw(){return W.skipHydrationRootTNode!==null}function vw(t){return W.skipHydrationRootTNode===t}function yw(){W.skipHydrationRootTNode=null}function ne(){return W.lFrame.lView}function je(){return W.lFrame.tView}function I(t){return W.lFrame.contextLView=t,t[Et]}function x(t){return W.lFrame.contextLView=null,t}function Ue(){let t=_g();for(;t!==null&&t.type===64;)t=t.parent;return t}function _g(){return W.lFrame.currentTNode}function _w(){let t=W.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function er(t,n){let e=W.lFrame;e.currentTNode=t,e.isParent=n}function Ku(){return W.lFrame.isParent}function wg(){W.lFrame.isParent=!1}function ww(){return W.lFrame.contextLView}function Sg(){return iu}function op(t){let n=iu;return iu=t,n}function Qu(){let t=W.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Sw(){return W.lFrame.bindingIndex}function Cw(t){return W.lFrame.bindingIndex=t}function Ta(){return W.lFrame.bindingIndex++}function Cg(t){let n=W.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Dw(){return W.lFrame.inI18n}function Ew(t,n){let e=W.lFrame;e.bindingIndex=e.bindingRootIndex=t,ou(n)}function bw(){return W.lFrame.currentDirectiveIndex}function ou(t){W.lFrame.currentDirectiveIndex=t}function Iw(t){let n=W.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function Dg(t){W.lFrame.currentQueryIndex=t}function xw(t){let n=t[K];return n.type===2?n.declTNode:n.type===1?t[xt]:null}function Eg(t,n,e){if(e&q.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&q.Host);)if(i=xw(o),i===null||(o=o[Qr],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=W.lFrame=bg();return r.currentTNode=n,r.lView=t,!0}function Ju(t){let n=bg(),e=t[K];W.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function bg(){let t=W.lFrame,n=t===null?null:t.child;return n===null?Ig(t):n}function Ig(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function xg(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Tg=xg;function Xu(){let t=xg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tw(t){return(W.lFrame.contextLView=dw(t,W.lFrame.contextLView))[Et]}function tr(){return W.lFrame.selectedIndex}function Yn(t){W.lFrame.selectedIndex=t}function Ma(){let t=W.lFrame;return pg(t.tView,t.selectedIndex)}function Mw(){return W.lFrame.currentNamespace}var Mg=!0;function Aa(){return Mg}function Na(t){Mg=t}function Aw(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=ug(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function ka(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function Hs(t,n,e){Ag(t,n,3,e)}function Gs(t,n,e,r){(t[j]&3)===e&&Ag(t,n,e,r)}function jc(t,n){let e=t[j];(e&3)===n&&(e&=16383,e+=1,t[j]=e)}function Ag(t,n,e,r){let i=r!==void 0?t[Pr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[Pr]+=65536),(a<o||o==-1)&&(Nw(t,e,n,l),t[Pr]=(t[Pr]&4294901760)+l+2),l++}function sp(t,n){Pt(4,t,n);let e=te(null);try{n.call(t)}finally{te(e),Pt(5,t,n)}}function Nw(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[j]>>14<t[Pr]>>16&&(t[j]&3)===n&&(t[j]+=16384,sp(a,o)):sp(a,o)}var Vr=-1,Zn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function kw(t){return t instanceof Zn}function Rw(t){return(t.flags&8)!==0}function Ow(t){return(t.flags&16)!==0}function su(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];Pw(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function Ng(t){return t===3||t===4||t===6}function Pw(t){return t.charCodeAt(0)===64}function Wi(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?ap(t,e,i,null,n[++r]):ap(t,e,i,null,null))}}return t}function ap(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var $c={},au=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=wa(r);let i=this.injector.get(n,$c,r);return i!==$c||e===$c?i:this.parentInjector.get(n,e,r)}};function kg(t){return t!==Vr}function ra(t){return t&32767}function Fw(t){return t>>16}function ia(t,n){let e=Fw(t),r=n;for(;e>0;)r=r[Qr],e--;return r}var lu=!0;function oa(t){let n=lu;return lu=t,n}var Lw=256,Rg=Lw-1,Og=5,Vw=0,Ft={};function jw(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Hi)&&(r=e[Hi]),r==null&&(r=e[Hi]=Vw++);let i=r&Rg,o=1<<i;n.data[t+(i>>Og)]|=o}function sa(t,n){let e=Pg(t,n);if(e!==-1)return e;let r=n[K];r.firstCreatePass&&(t.injectorIndex=n.length,Bc(r.data,t),Bc(n,null),Bc(r.blueprint,null));let i=ed(t,n),o=t.injectorIndex;if(kg(i)){let s=ra(i),a=ia(i,n),l=a[K].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function Bc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Pg(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function ed(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=$g(i),r===null)return Vr;if(e++,i=i[Qr],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Vr}function cu(t,n,e){jw(t,n,e)}function $w(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(Ng(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function Fg(t,n,e){if(e&q.Optional||t!==void 0)return t;Uu(n,"NodeInjector")}function Lg(t,n,e,r){if(e&q.Optional&&r===void 0&&(r=null),!(e&(q.Self|q.Host))){let i=t[Hr],o=Ke(void 0);try{return i?i.get(n,r,e&q.Optional):Yp(n,r,e&q.Optional)}finally{Ke(o)}}return Fg(r,n,e)}function Vg(t,n,e,r=q.Default,i){if(t!==null){if(n[j]&2048&&!(r&q.Self)){let s=zw(t,n,e,r,Ft);if(s!==Ft)return s}let o=jg(t,n,e,r,Ft);if(o!==Ft)return o}return Lg(n,e,r,i)}function jg(t,n,e,r,i){let o=Hw(e);if(typeof o=="function"){if(!Eg(n,t,r))return r&q.Host?Fg(i,e,r):Lg(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&q.Optional))Uu(e);else return s}finally{Tg()}}else if(typeof o=="number"){let s=null,a=Pg(t,n),l=Vr,c=r&q.Host?n[Lt][xt]:null;for((a===-1||r&q.SkipSelf)&&(l=a===-1?ed(t,n):n[a+8],l===Vr||!cp(r,!1)?a=-1:(s=n[K],a=ra(l),n=ia(l,n)));a!==-1;){let u=n[K];if(lp(o,a,u.data)){let d=Bw(a,n,e,s,r,c);if(d!==Ft)return d}l=n[a+8],l!==Vr&&cp(r,n[K].data[a+8]===c)&&lp(o,a,n)?(s=u,a=ra(l),n=ia(l,n)):a=-1}}return i}function Bw(t,n,e,r,i,o){let s=n[K],a=s.data[t+8],l=r==null?Ea(a)&&lu:r!=s&&(a.type&3)!==0,c=i&q.Host&&o===a,u=Uw(a,s,e,l,c);return u!==null?Wr(n,s,u,a):Ft}function Uw(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,y=i?a+u:c;for(let g=d;g<y;g++){let f=s[g];if(g<l&&e===f||g>=l&&f.type===e)return g}if(i){let g=s[l];if(g&&Cn(g)&&g.type===e)return l}return null}function Wr(t,n,e,r){let i=t[e],o=n.data;if(kw(i)){let s=i;s.resolving&&R0(k0(o[e]));let a=oa(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Ke(s.injectImpl):null,u=Eg(t,r,q.Default);try{i=t[e]=s.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&Aw(e,o[e],n)}finally{c!==null&&Ke(c),oa(a),s.resolving=!1,Tg()}}return i}function Hw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Hi)?t[Hi]:void 0;return typeof n=="number"?n>=0?n&Rg:Gw:n}function lp(t,n,e){let r=1<<t;return!!(e[n+(t>>Og)]&r)}function cp(t,n){return!(t&q.Self)&&!(t&q.Host&&n)}var Hn=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Vg(this._tNode,this._lView,n,wa(r),e)}};function Gw(){return new Hn(Ue(),ne())}function Bt(t){return Ji(()=>{let n=t.prototype.constructor,e=n[Ws]||uu(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ws]||uu(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function uu(t){return Up(t)?()=>{let n=uu(ze(t));return n&&n()}:Gn(t)}function zw(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[j]&2048&&!(s[j]&512);){let a=jg(o,s,e,r|q.Self,Ft);if(a!==Ft)return a;let l=o.parent;if(!l){let c=s[ag];if(c){let u=c.get(e,Ft,r);if(u!==Ft)return u}l=$g(s),s=s[Qr]}o=l}return i}function $g(t){let n=t[K],e=n.type;return e===2?n.declTNode:e===1?t[xt]:null}function td(t){return $w(Ue(),t)}function up(t,n=null,e=null,r){let i=Bg(t,n,e,r);return i.resolveInjectorInitializers(),i}function Bg(t,n=null,e=null,r,i=new Set){let o=[e||ct,q0(t)];return r=r||(typeof t=="object"?void 0:qe(t)),new zi(o,n||qu(),r||null,i)}var rn=class t{static THROW_IF_NOT_FOUND=Gi;static NULL=new Ks;static create(n,e){if(Array.isArray(n))return up({name:""},e,n,"");{let r=n.name??"";return up({name:r},n.parent,n.providers,r)}}static \u0275prov=T({token:t,providedIn:"any",factory:()=>k(Qp)});static __NG_ELEMENT_ID__=-1};var qw=new P("");qw.__NG_ELEMENT_ID__=t=>{let n=Ue();if(n===null)throw new R(204,!1);if(n.type&2)return n.value;if(t&q.Optional)return null;throw new R(204,!1)};var Ug=!1,Hg=(()=>{class t{static __NG_ELEMENT_ID__=Ww;static __NG_ENV_ID__=e=>e}return t})(),du=class extends Hg{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return vg(this._lView,n),()=>fw(this._lView,n)}};function Ww(){return new du(ne())}var Yi=class{},nd=new P("",{providedIn:"root",factory:()=>!1});var Gg=new P(""),zg=new P(""),Jr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Le(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}return t})();var fu=class extends Ae{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,rw()&&(this.destroyRef=E(Hg,{optional:!0})??void 0,this.pendingTasks=E(Jr,{optional:!0})??void 0)}emit(n){let e=te(null);try{super.next(n)}finally{te(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Ee&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},me=fu;function aa(...t){}function qg(t){let n,e;function r(){t=aa;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function dp(t){return queueMicrotask(()=>t()),()=>{t=aa}}var rd="isAngularZone",la=rd+"_ID",Yw=0,Re=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new me(!1);onMicrotaskEmpty=new me(!1);onStable=new me(!1);onError=new me(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ug}=n;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Qw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,Zw,aa,aa);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},Zw={};function id(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kw(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){qg(()=>{t.callbackScheduled=!1,hu(t),t.isCheckStableRunning=!0,id(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),hu(t)}function Qw(t){let n=()=>{Kw(t)},e=Yw++;t._inner=t._inner.fork({name:"angular",properties:{[rd]:!0,[la]:e,[la+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Jw(l))return r.invokeTask(o,s,a,l);try{return fp(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),hp(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return fp(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Xw(l)&&n(),hp(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,hu(t),id(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function hu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hp(t){t._nesting--,id(t)}var pu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new me;onMicrotaskEmpty=new me;onStable=new me;onError=new me;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function Jw(t){return Wg(t,"__ignore_ng_zone__")}function Xw(t){return Wg(t,"__scheduler_tick__")}function Wg(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Dn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},eS=new P("",{providedIn:"root",factory:()=>{let t=E(Re),n=E(Dn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function pp(t,n){return $p(t,n)}function tS(t){return $p(jp,t)}var od=(pp.required=tS,pp);function nS(){return Ra(Ue(),ne())}function Ra(t,n){return new Ye(ht(t,n))}var Ye=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=nS}return t})();function Yg(t){return(t.flags&128)===128}var Zg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Zg||{}),Kg=new Map,rS=0;function iS(){return rS++}function oS(t){Kg.set(t[Da],t)}function gu(t){Kg.delete(t[Da])}var gp="__ngContext__";function En(t,n){Sn(n)?(t[gp]=n[Da],oS(n)):t[gp]=n}function Qg(t){return Xg(t[qi])}function Jg(t){return Xg(t[Dt])}function Xg(t){for(;t!==null&&!sn(t);)t=t[Dt];return t}var mu;function em(t){mu=t}function sS(){if(mu!==void 0)return mu;if(typeof document<"u")return document;throw new R(210,!1)}var sd=new P("",{providedIn:"root",factory:()=>aS}),aS="ng",ad=new P(""),Xr=new P("",{providedIn:"platform",factory:()=>"unknown"});var ld=new P("",{providedIn:"root",factory:()=>sS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lS="h",cS="b";var tm=!1,uS=new P("",{providedIn:"root",factory:()=>tm});var nm=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(nm||{}),rm=new P(""),mp=new Set;function Oa(t){mp.has(t)||(mp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var dS=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}return t})();var fS=()=>null;function cd(t,n,e=!1){return fS(t,n,e)}var jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(jt||{});var js;function hS(){if(js===void 0&&(js=null,Yc.trustedTypes))try{js=Yc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return js}function vp(t){return hS()?.createScriptURL(t)||t}var ca=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vp})`}};function to(t){return t instanceof ca?t.changingThisBreaksApplicationSecurity:t}function ud(t,n){let e=pS(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Vp})`)}return e===n}function pS(t){return t instanceof ca&&t.getTypeName()||null}var gS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function im(t){return t=String(t),t.match(gS)?t:"unsafe:"+t}var Pa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Pa||{});function nr(t){let n=sm();return n?n.sanitize(Pa.URL,t)||"":ud(t,"URL")?to(t):im(jr(t))}function mS(t){let n=sm();if(n)return vp(n.sanitize(Pa.RESOURCE_URL,t)||"");if(ud(t,"ResourceURL"))return vp(to(t));throw new R(904,!1)}function vS(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?mS:nr}function om(t,n,e){return vS(n,e)(t)}function sm(){let t=ne();return t&&t[nn].sanitizer}var yS=/^>|^->|<!--|-->|--!>|<!-$/g,_S=/(<|>)/g,wS="\u200B$1\u200B";function SS(t){return t.replace(yS,n=>n.replace(_S,wS))}function am(t){return t instanceof Function?t():t}var bn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(bn||{}),$t=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($t||{}),CS;function dd(t,n){return CS(t,n)}function Fr(t,n,e,r,i){if(r!=null){let o,s=!1;sn(r)?o=r:Sn(r)&&(s=!0,r=r[on]);let a=Vt(r);t===0&&e!==null?i==null?fm(n,e,a):ua(n,e,a,i||null,!0):t===1&&e!==null?ua(n,e,a,i||null,!0):t===2?VS(n,a,s):t===3&&n.destroyNode(a),o!=null&&$S(n,t,o,e,i)}}function DS(t,n){return t.createText(n)}function ES(t,n,e){t.setValue(n,e)}function bS(t,n){return t.createComment(SS(n))}function lm(t,n,e){return t.createElement(n,e)}function IS(t,n){cm(t,n),n[on]=null,n[xt]=null}function xS(t,n,e,r,i,o){r[on]=i,r[xt]=n,La(t,r,e,1,i,o)}function cm(t,n){n[nn].changeDetectionScheduler?.notify(10),La(t,n,n[we],2,null,null)}function TS(t){let n=t[qi];if(!n)return Uc(t[K],t);for(;n;){let e=null;if(Sn(n))e=n[qi];else{let r=n[ut];r&&(e=r)}if(!e){for(;n&&!n[Dt]&&n!==t;)Sn(n)&&Uc(n[K],n),n=n[We];n===null&&(n=t),Sn(n)&&Uc(n[K],n),e=n&&n[Dt]}n=e}}function MS(t,n,e,r){let i=ut+r,o=e.length;r>0&&(e[i-1][Dt]=n),r<o-ut?(n[Dt]=e[i],Kp(e,ut+r,n)):(e.push(n),n[Dt]=null),n[We]=e;let s=n[Gr];s!==null&&e!==s&&um(s,n);let a=n[zr];a!==null&&a.insertView(t),ru(n),n[j]|=128}function um(t,n){let e=t[ta],r=n[We];if(Sn(r))t[j]|=na.HasTransplantedViews;else{let i=r[We][Lt];n[Lt]!==i&&(t[j]|=na.HasTransplantedViews)}e===null?t[ta]=[n]:e.push(n)}function fd(t,n){let e=t[ta],r=e.indexOf(n);e.splice(r,1)}function vu(t,n){if(t.length<=ut)return;let e=ut+n,r=t[e];if(r){let i=r[Gr];i!==null&&i!==t&&fd(i,r),n>0&&(t[e-1][Dt]=r[Dt]);let o=Zs(t,ut+n);IS(r[K],r);let s=o[zr];s!==null&&s.detachView(o[K]),r[We]=null,r[Dt]=null,r[j]&=-129}return r}function dm(t,n){if(!(n[j]&256)){let e=n[we];e.destroyNode&&La(t,n,e,3,null,null),TS(n)}}function Uc(t,n){if(n[j]&256)return;let e=te(null);try{n[j]&=-129,n[j]|=256,n[it]&&vc(n[it]),NS(t,n),AS(t,n),n[K].type===1&&n[we].destroy();let r=n[Gr];if(r!==null&&sn(n[We])){r!==n[We]&&fd(r,n);let i=n[zr];i!==null&&i.detachView(t)}gu(n)}finally{te(e)}}function AS(t,n){let e=t.cleanup,r=n[Js];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[Js]=null);let i=n[wn];if(i!==null){n[wn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Xs];if(o!==null){n[Xs]=null;for(let s of o)s.destroy()}}function NS(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof Zn)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Pt(4,a,l);try{l.call(a)}finally{Pt(5,a,l)}}else{Pt(4,i,o);try{o.call(i)}finally{Pt(5,i,o)}}}}}function kS(t,n,e){return RS(t,n.parent,e)}function RS(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[on];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===jt.None||o===jt.Emulated)return null}return ht(r,e)}}function ua(t,n,e,r,i){t.insertBefore(n,e,r,i)}function fm(t,n,e){t.appendChild(n,e)}function yp(t,n,e,r,i){r!==null?ua(t,n,e,r,i):fm(t,n,e)}function hm(t,n){return t.parentNode(n)}function OS(t,n){return t.nextSibling(n)}function PS(t,n,e){return LS(t,n,e)}function FS(t,n,e){return t.type&40?ht(t,e):null}var LS=FS,_p;function Fa(t,n,e,r){let i=kS(t,r,n),o=n[we],s=r.parent||n[xt],a=PS(s,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)yp(o,i,e[l],a,!1);else yp(o,i,e,a,!1);_p!==void 0&&_p(o,r,n,e,i)}function Ui(t,n){if(n!==null){let e=n.type;if(e&3)return ht(n,t);if(e&4)return yu(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return Ui(t,r);{let i=t[n.index];return sn(i)?yu(-1,i):Vt(i)}}else{if(e&128)return Ui(t,n.next);if(e&32)return dd(n,t)()||Vt(t[n.index]);{let r=pm(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Wn(t[Lt]);return Ui(i,r)}else return Ui(t,n.next)}}}return null}function pm(t,n){if(n!==null){let r=t[Lt][xt],i=n.projection;return r.projection[i]}return null}function yu(t,n){let e=ut+t+1;if(e<n.length){let r=n[e],i=r[K].firstChild;if(i!==null)return Ui(r,i)}return n[qn]}function VS(t,n,e){t.removeChild(null,n,e)}function hd(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&En(Vt(a),r),e.flags|=2),(e.flags&32)!==32)if(l&8)hd(t,n,e.child,r,i,o,!1),Fr(n,t,i,a,o);else if(l&32){let c=dd(e,r),u;for(;u=c();)Fr(n,t,i,u,o);Fr(n,t,i,a,o)}else l&16?jS(t,n,r,e,i,o):Fr(n,t,i,a,o);e=s?e.projectionNext:e.next}}function La(t,n,e,r,i,o){hd(e,r,t.firstChild,n,i,o,!1)}function jS(t,n,e,r,i,o){let s=e[Lt],l=s[xt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Fr(n,t,i,u,o)}else{let c=l,u=s[We];Yg(r)&&(c.flags|=128),hd(t,n,c,u,i,o,!0)}}function $S(t,n,e,r,i){let o=e[qn],s=Vt(e);o!==s&&Fr(n,t,r,o,i);for(let a=ut;a<e.length;a++){let l=e[a];La(l[K],l,t,n,r,o)}}function BS(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:$t.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$t.Important),t.setStyle(e,r,i,o))}}function US(t,n,e){t.setAttribute(n,"style",e)}function gm(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function mm(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&su(t,n,r),i!==null&&gm(t,n,i),o!==null&&US(t,n,o)}function HS(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var vm="ng-template";function GS(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&HS(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(pd(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function pd(t){return t.type===4&&t.value!==vm}function zS(t,n,e){let r=t.type===4&&!e?vm:t.value;return n===r}function qS(t,n,e){let r=4,i=t.attrs,o=i!==null?ZS(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Ct(r)&&!Ct(l))return!1;if(s&&Ct(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!zS(t,l,e)||l===""&&n.length===1){if(Ct(r))return!1;s=!0}}else if(r&8){if(i===null||!GS(t,i,l,e)){if(Ct(r))return!1;s=!0}}else{let c=n[++a],u=WS(l,i,pd(t),e);if(u===-1){if(Ct(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Ct(r))return!1;s=!0}}}}return Ct(r)||s}function Ct(t){return(t&1)===0}function WS(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return KS(n,t)}function YS(t,n,e=!1){for(let r=0;r<n.length;r++)if(qS(t,n[r],e))return!0;return!1}function ZS(t){for(let n=0;n<t.length;n++){let e=t[n];if(Ng(e))return n}return t.length}function KS(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function wp(t,n){return t?":not("+n.trim()+")":n}function QS(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ct(s)&&(n+=wp(o,i),i=""),r=s,o=o||!Ct(r);e++}return i!==""&&(n+=wp(o,i)),n}function JS(t){return t.map(QS).join(",")}function XS(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!Ct(i))break;i=o}r++}return{attrs:n,classes:e}}var Ut={};function w(t=1){ym(je(),ne(),tr()+t,!1)}function ym(t,n,e,r){if(!r)if((n[j]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Hs(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Gs(n,o,0,e)}Yn(e)}function b(t,n=q.Default){let e=ne();if(e===null)return k(t,n);let r=Ue();return Vg(r,e,ze(t),n)}function _m(t,n,e,r,i,o){let s=te(null);try{let a=null;i&bn.SignalBased&&(a=n[r][tt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&bn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,r):cg(n,a,r,o)}finally{te(s)}}function eC(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Yn(~i);else{let o=i,s=e[++r],a=e[++r];Ew(s,o);let l=n[o];a(2,l)}}}finally{Yn(-1)}}function Va(t,n,e,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[on]=i,d[j]=r|4|128|8|64|1024,(c!==null||t&&t[j]&2048)&&(d[j]|=2048),mg(d),d[We]=d[Qr]=t,d[Et]=e,d[nn]=s||t&&t[nn],d[we]=a||t&&t[we],d[Hr]=l||t&&t[Hr]||null,d[xt]=o,d[Da]=iS(),d[Qs]=u,d[ag]=c,d[Lt]=n.type==2?t[Lt]:d,d}function no(t,n,e,r,i){let o=t.data[n];if(o===null)o=tC(t,n,e,r,i),Dw()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=_w();o.injectorIndex=s===null?-1:s.injectorIndex}return er(o,!0),o}function tC(t,n,e,r,i){let o=_g(),s=Ku(),a=s?o:o&&o.parent,l=t.data[n]=sC(t,a,e,n,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function wm(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Sm(t,n,e,r,i){let o=tr(),s=r&2;try{Yn(-1),s&&n.length>ft&&ym(t,n,ft,!1),Pt(s?2:0,i),e(r,i)}finally{Yn(o),Pt(s?3:1,i)}}function gd(t,n,e){if(Wu(n)){let r=te(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{te(r)}}}function md(t,n,e){yg()&&(fC(t,n,e,ht(e,n)),(e.flags&64)===64&&Em(t,n,e))}function vd(t,n,e=ht){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function Cm(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=yd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function yd(t,n,e,r,i,o,s,a,l,c,u){let d=ft+r,y=d+i,g=nC(d,y),f=typeof c=="function"?c():c;return g[K]={type:t,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:u}}function nC(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:Ut);return e}function rC(t,n,e,r){let o=r.get(uS,tm)||e===jt.ShadowDom,s=t.selectRootElement(n,o);return iC(s),s}function iC(t){oC(t)}var oC=()=>null;function sC(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return mw()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Sp(t,n,e,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,l=bn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?Cp(r,e,c,a,l):Cp(r,e,c,a)}return r}function Cp(t,n,e,r,i){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,r):o=t[e]=[n,r],i!==void 0&&o.push(i)}function aC(t,n,e){let r=n.directiveStart,i=n.directiveEnd,o=t.data,s=n.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],y=e?e.get(d):null,g=y?y.inputs:null,f=y?y.outputs:null;l=Sp(0,d.inputs,u,l,g),c=Sp(1,d.outputs,u,c,f);let C=l!==null&&s!==null&&!pd(n)?DC(l,u,s):null;a.push(C)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function lC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function _d(t,n,e,r,i,o,s,a){let l=ht(n,e),c=n.inputs,u;!a&&c!=null&&(u=c[r])?(Sd(t,e,u,r,i),Ea(n)&&cC(e,n.index)):n.type&3?(r=lC(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)):n.type&12}function cC(t,n){let e=Mn(n,t);e[j]&16||(e[j]|=64)}function wd(t,n,e,r){if(yg()){let i=r===null?null:{"":-1},o=pC(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Dm(t,n,e,s,i,a),i&&gC(e,r,i)}e.mergedAttrs=Wi(e.mergedAttrs,e.attrs)}function Dm(t,n,e,r,i,o){for(let c=0;c<r.length;c++)cu(sa(e,n),t,r[c].type);vC(e,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=wm(t,n,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];e.mergedAttrs=Wi(e.mergedAttrs,u.hostAttrs),yC(t,e,n,l,u),mC(l,u,i),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}aC(t,e,o)}function uC(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;dC(s)!=a&&s.push(a),s.push(e,r,o)}}function dC(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function fC(t,n,e,r){let i=e.directiveStart,o=e.directiveEnd;Ea(e)&&_C(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||sa(e,n),En(r,n);let s=e.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=Wr(n,t,a,e);if(En(c,n),s!==null&&CC(n,a-i,c,l,e,s),Cn(l)){let u=Mn(e.index,n);u[Et]=Wr(n,t,a,e)}}}function Em(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=bw();try{Yn(o);for(let a=r;a<i;a++){let l=t.data[a],c=n[a];ou(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&hC(l,c)}}finally{Yn(-1),ou(s)}}function hC(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function pC(t,n){let e=t.directiveRegistry,r=null,i=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(YS(n,s.selectors,!1))if(r||(r=[]),Cn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;_u(t,n,l)}else r.unshift(s),_u(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function _u(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function gC(t,n,e){if(n){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new R(-301,!1);r.push(n[i],o)}}}function mC(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Cn(n)&&(e[""]=t)}}function vC(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function yC(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=Gn(i.type,!0)),s=new Zn(o,Cn(i),b);t.blueprint[r]=s,e[r]=s,uC(t,n,r,wm(t,e,i.hostVars,Ut),i)}function bm(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function _C(t,n,e){let r=ht(n,t),i=Cm(e),o=t[nn].rendererFactory,s=ja(t,Va(t,i,null,bm(e),r,n,null,o.createRenderer(r,e),null,null,null));t[n.index]=s}function wC(t,n,e,r,i,o){let s=ht(t,n);SC(n[we],s,o,t.value,e,r,i)}function SC(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?jr(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function CC(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];_m(r,e,l,c,u,d)}}function DC(t,n,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function Im(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function xm(t,n){let e=t.contentQueries;if(e!==null){let r=te(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];Dg(o),a.contentQueries(2,n[s],s)}}}finally{te(r)}}}function ja(t,n){return t[qi]?t[rp][Dt]=n:t[qi]=n,t[rp]=n,n}function wu(t,n,e){Dg(0);let r=te(null);try{n(t,e)}finally{te(r)}}function EC(t){return t[Js]??=[]}function bC(t){return t.cleanup??=[]}function Tm(t,n){let e=t[Hr],r=e?e.get(Dn,null):null;r&&r.handleError(n)}function Sd(t,n,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=n[s],u=t.data[s];_m(u,c,r,a,l,i)}}function Mm(t,n,e){let r=hg(n,t);ES(t[we],r,e)}function IC(t,n){let e=Mn(n,t),r=e[K];xC(r,e);let i=e[on];i!==null&&e[Qs]===null&&(e[Qs]=cd(i,e[Hr])),Cd(r,e,e[Et])}function xC(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Cd(t,n,e){Ju(n);try{let r=t.viewQuery;r!==null&&wu(1,r,e);let i=t.template;i!==null&&Sm(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[zr]?.finishViewCreation(t),t.staticContentQueries&&xm(t,n),t.staticViewQueries&&wu(2,t.viewQuery,e);let o=t.components;o!==null&&TC(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[j]&=-5,Xu()}}function TC(t,n){for(let e=0;e<n.length;e++)IC(t,n[e])}function MC(t,n,e,r){let i=te(null);try{let o=n.tView,a=t[j]&4096?4096:16,l=Va(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[Gr]=c;let u=t[zr];return u!==null&&(l[zr]=u.createEmbeddedView(o)),Cd(o,l,e),l}finally{te(i)}}function Dp(t,n){return!n||n.firstChild===null||Yg(t)}function AC(t,n,e,r=!0){let i=n[K];if(MS(i,n,t,e),r){let s=yu(e,t),a=n[we],l=hm(a,t[qn]);l!==null&&xS(i,t[xt],a,n,l,s)}let o=n[Qs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function da(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(Vt(o)),sn(o)&&NC(o,r);let s=e.type;if(s&8)da(t,n,e.child,r);else if(s&32){let a=dd(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=pm(n,e);if(Array.isArray(a))r.push(...a);else{let l=Wn(n[Lt]);da(l[K],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function NC(t,n){for(let e=ut;e<t.length;e++){let r=t[e],i=r[K].firstChild;i!==null&&da(r[K],r,i,n)}t[qn]!==t[on]&&n.push(t[qn])}var Am=[];function kC(t){return t[it]??RC(t)}function RC(t){let n=Am.pop()??Object.create(PC);return n.lView=t,n}function OC(t){t.lView[it]!==t&&(t.lView=null,Am.push(t))}var PC=Y(D({},Fi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xa(t.lView)},consumerOnSignalRead(){this.lView[it]=this}});function FC(t){let n=t[it]??Object.create(LC);return n.lView=t,n}var LC=Y(D({},Fi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Wn(t.lView);for(;n&&!Nm(n[K]);)n=Wn(n);n&&Zu(n)},consumerOnSignalRead(){this.lView[it]=this}});function Nm(t){return t.type!==2}function km(t){if(t[Xs]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[Xs])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[j]&8192)}}var VC=100;function Rm(t,n=!0,e=0){let i=t[nn].rendererFactory,o=!1;o||i.begin?.();try{jC(t,e)}catch(s){throw n&&Tm(t,s),s}finally{o||i.end?.()}}function jC(t,n){let e=Sg();try{op(!0),Su(t,n);let r=0;for(;Ia(t);){if(r===VC)throw new R(103,!1);r++,Su(t,1)}}finally{op(e)}}function $C(t,n,e,r){let i=n[j];if((i&256)===256)return;let o=!1,s=!1;Ju(n);let a=!0,l=null,c=null;o||(Nm(t)?(c=kC(n),l=us(c)):gh()===null?(a=!1,c=FC(n),l=us(c)):n[it]&&(vc(n[it]),n[it]=null));try{mg(n),Cw(t.bindingStartIndex),e!==null&&Sm(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let g=t.preOrderCheckHooks;g!==null&&Hs(n,g,null)}else{let g=t.preOrderHooks;g!==null&&Gs(n,g,0,null),jc(n,0)}if(s||BC(n),km(n),Om(n,0),t.contentQueries!==null&&xm(t,n),!o)if(u){let g=t.contentCheckHooks;g!==null&&Hs(n,g)}else{let g=t.contentHooks;g!==null&&Gs(n,g,1),jc(n,1)}eC(t,n);let d=t.components;d!==null&&Fm(n,d,0);let y=t.viewQuery;if(y!==null&&wu(2,y,r),!o)if(u){let g=t.viewCheckHooks;g!==null&&Hs(n,g)}else{let g=t.viewHooks;g!==null&&Gs(n,g,2),jc(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[Vc]){for(let g of n[Vc])g();n[Vc]=null}o||(n[j]&=-73)}catch(u){throw o||xa(n),u}finally{c!==null&&(gc(c,l),a&&OC(c)),Xu()}}function Om(t,n){for(let e=Qg(t);e!==null;e=Jg(e))for(let r=ut;r<e.length;r++){let i=e[r];Pm(i,n)}}function BC(t){for(let n=Qg(t);n!==null;n=Jg(n)){if(!(n[j]&na.HasTransplantedViews))continue;let e=n[ta];for(let r=0;r<e.length;r++){let i=e[r];Zu(i)}}}function UC(t,n,e){let r=Mn(n,t);Pm(r,e)}function Pm(t,n){Yu(t)&&Su(t,n)}function Su(t,n){let r=t[K],i=t[j],o=t[it],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&mc(o)),s||=!1,o&&(o.dirty=!1),t[j]&=-9217,s)$C(r,t,r.template,t[Et]);else if(i&8192){km(t),Om(t,1);let a=r.components;a!==null&&Fm(t,a,1)}}function Fm(t,n,e){for(let r=0;r<n.length;r++)UC(t,n[r],e)}function Dd(t,n){let e=Sg()?64:1088;for(t[nn].changeDetectionScheduler?.notify(n);t;){t[j]|=e;let r=Wn(t);if(tu(t)&&!r)return t;t=r}return null}var Kn=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[K];return da(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[Et]}get dirty(){return!!(this._lView[j]&9280)||!!this._lView[it]?.dirty}set context(n){this._lView[Et]=n}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[We];if(sn(n)){let e=n[ea],r=e?e.indexOf(this):-1;r>-1&&(vu(n,r),Zs(e,r))}this._attachedToViewContainer=!1}dm(this._lView[K],this._lView)}onDestroy(n){vg(this._lView,n)}markForCheck(){Dd(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Zu(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){ru(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,Rm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=tu(this._lView),e=this._lView[Gr];e!==null&&!n&&fd(e,this._lView),cm(this._lView[K],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n;let e=tu(this._lView),r=this._lView[Gr];r!==null&&!e&&um(r,this._lView),ru(this._lView)}},$a=(()=>{class t{static __NG_ELEMENT_ID__=zC}return t})(),HC=$a,GC=class extends HC{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=MC(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new Kn(i)}};function zC(){return Lm(Ue(),ne())}function Lm(t,n){return t.type&4?new GC(n,t,Ra(t,n)):null}var sO=new RegExp(`^(\\d+)*(${cS}|${lS})*(.*)`);var qC=()=>null;function Ep(t,n){return qC(t,n)}var Cu=class{},fa=class{},Du=class{resolveComponentFactory(n){throw Error(`No component factory found for ${qe(n)}.`)}},Yr=class{static NULL=new Du},Zr=class{},Qe=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>WC()}return t})();function WC(){let t=ne(),n=Ue(),e=Mn(n.index,t);return(Sn(e)?e:t)[we]}var YC=(()=>{class t{static \u0275prov=T({token:t,providedIn:"root",factory:()=>null})}return t})();function ha(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Qh(i,a);else if(o==2){let l=a,c=n[++s];r=Qh(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}var pa=class extends Yr{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=zn(n);return new Zi(e,this.ngModule)}};function bp(t,n){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:bn.None;n?e.push({propName:s,templateName:r,isSignal:(a&bn.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function ZC(t){let n=t.toLowerCase();return n==="svg"?lw:n==="math"?cw:null}var Zi=class extends fa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let n=this.componentDef,e=n.inputTransforms,r=bp(n.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return bp(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=JS(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=te(null);try{i=i||this.ngModule;let s=i instanceof dt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new au(n,s):n,l=a.get(Zr,null);if(l===null)throw new R(407,!1);let c=a.get(YC,null),u=a.get(Yi,null),d={rendererFactory:l,sanitizer:c,changeDetectionScheduler:u},y=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",f=r?rC(y,r,this.componentDef.encapsulation,a):lm(y,g,ZC(g)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let M=null;f!==null&&(M=cd(f,a,!0));let O=yd(0,null,null,1,0,null,null,null,null,null,null),se=Va(null,O,null,C,null,null,d,y,a,null,M);Ju(se);let ae,ce,Ce=null;try{let ge=this.componentDef,J,F=null;ge.findHostDirectiveDefs?(J=[],F=new Map,ge.findHostDirectiveDefs(ge,J,F),J.push(ge)):J=[ge];let yt=KC(se,f);Ce=QC(yt,f,ge,J,se,d,y),ce=pg(O,ft),f&&eD(y,ge,f,r),e!==void 0&&tD(ce,this.ngContentSelectors,e),ae=XC(Ce,ge,J,F,se,[nD]),Cd(O,se,null)}catch(ge){throw Ce!==null&&gu(Ce),gu(se),ge}finally{Xu()}return new Eu(this.componentType,ae,Ra(ce,se),se,ce)}finally{te(o)}}},Eu=class extends Cu{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new Kn(i,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;Sd(o[K],o,i,n,e),this.previousInputValues.set(n,e);let s=Mn(this._tNode.index,o);Dd(s,1)}}get injector(){return new Hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function KC(t,n){let e=t[K],r=ft;return t[r]=n,no(e,r,2,"#host",null)}function QC(t,n,e,r,i,o,s){let a=i[K];JC(r,t,n,s);let l=null;n!==null&&(l=cd(n,i[Hr]));let c=o.rendererFactory.createRenderer(n,e),u=Va(i,Cm(e),null,bm(e),i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&_u(a,t,r.length-1),ja(i,u),i[t.index]=u}function JC(t,n,e,r){for(let i of t)n.mergedAttrs=Wi(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(ha(n,n.mergedAttrs,!0),e!==null&&mm(r,e,n))}function XC(t,n,e,r,i,o){let s=Ue(),a=i[K],l=ht(s,i);Dm(a,i,s,e,null,r);for(let u=0;u<e.length;u++){let d=s.directiveStart+u,y=Wr(i,a,d,s);En(y,i)}Em(a,i,s),l&&En(l,i);let c=Wr(i,a,s.directiveStart+s.componentOffset,s);if(t[Et]=i[Et]=c,o!==null)for(let u of o)u(c,n);return gd(a,s,i),c}function eD(t,n,e,r){if(r)su(t,e,["ng-version","19.0.5"]);else{let{attrs:i,classes:o}=XS(n.selectors[0]);i&&su(t,e,i),o&&o.length>0&&gm(t,e,o.join(" "))}}function tD(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}function nD(){let t=Ue();ka(ne()[K],t)}var ei=(()=>{class t{static __NG_ELEMENT_ID__=rD}return t})();function rD(){let t=Ue();return oD(t,ne())}var iD=ei,Vm=class extends iD{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Ra(this._hostTNode,this._hostLView)}get injector(){return new Hn(this._hostTNode,this._hostLView)}get parentInjector(){let n=ed(this._hostTNode,this._hostLView);if(kg(n)){let e=ia(n,this._hostLView),r=ra(n),i=e[K].data[r+8];return new Hn(i,e)}else return new Hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=Ip(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ep(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,Dp(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!iw(n),a;if(s)a=e;else{let f=e||{};a=f.index,r=f.injector,i=f.projectableNodes,o=f.environmentInjector||f.ngModuleRef}let l=s?n:new Zi(zn(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let C=(s?c:this.parentInjector).get(dt,null);C&&(o=C)}let u=zn(l.componentType??{}),d=Ep(this._lContainer,u?.id??null),y=d?.firstChild??null,g=l.create(c,i,y,o);return this.insertImpl(g.hostView,a,Dp(this._hostTNode,d)),g}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(uw(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[We],c=new Vm(l,l[xt],l[We]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return AC(s,i,o,r),n.attachToViewContainerRef(),Kp(Hc(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=Ip(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=vu(this._lContainer,e);r&&(Zs(Hc(this._lContainer),e),dm(r[K],r))}detach(n){let e=this._adjustIndex(n,-1),r=vu(this._lContainer,e);return r&&Zs(Hc(this._lContainer),e)!=null?new Kn(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function Ip(t){return t[ea]}function Hc(t){return t[ea]||(t[ea]=[])}function oD(t,n){let e,r=n[t.index];return sn(r)?e=r:(e=Im(r,n,null,t),n[t.index]=e,ja(n,e)),aD(e,n,t,r),new Vm(e,t,n)}function sD(t,n){let e=t[we],r=e.createComment(""),i=ht(n,t),o=hm(e,i);return ua(e,o,r,OS(e,i),!1),r}var aD=uD,lD=()=>!1;function cD(t,n,e){return lD(t,n,e)}function uD(t,n,e,r){if(t[qn])return;let i;e.type&8?i=Vt(r):i=sD(n,e),t[qn]=i}function dD(t){return typeof t=="function"&&t[tt]!==void 0}function ti(t,n){Oa("NgSignals");let e=bh(t),r=e[tt];return n?.equal&&(r.equal=n.equal),e.set=i=>hs(r,i),e.update=i=>Ih(r,i),e.asReadonly=fD.bind(e),e}function fD(){let t=this[tt];if(t.readonlyFn===void 0){let n=()=>this();n[tt]=t,t.readonlyFn=n}return t.readonlyFn}function jm(t){return dD(t)&&typeof t.set=="function"}var In=class{},Ki=class{};var bu=class extends In{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new pa(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=Xp(n);this._bootstrapComponents=am(o.bootstrap),this._r3Injector=Bg(n,e,[{provide:In,useValue:this},{provide:Yr,useValue:this.componentFactoryResolver},...r],qe(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Iu=class extends Ki{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new bu(this.moduleType,n,[])}};var ga=class extends In{injector;componentFactoryResolver=new pa(this);instance=null;constructor(n){super();let e=new zi([...n.providers,{provide:In,useValue:this},{provide:Yr,useValue:this.componentFactoryResolver}],n.parent||qu(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ed(t,n,e=null){return new ga({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var hD=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=rg(!1,e.type),i=r.length>0?Ed([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:t,providedIn:"environment",factory:()=>new t(k(dt))})}return t})();function ve(t){return Ji(()=>{let n=$m(t),e=Y(D({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Zg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(hD).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||jt.Emulated,styles:t.styles||ct,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Oa("NgStandalone"),Bm(e);let r=t.dependencies;return e.directiveDefs=Tp(r,!1),e.pipeDefs=Tp(r,!0),e.id=mD(e),e})}function pD(t){return zn(t)||eg(t)}function gD(t){return t!==null}function rr(t){return Ji(()=>({type:t.type,bootstrap:t.bootstrap||ct,declarations:t.declarations||ct,imports:t.imports||ct,exports:t.exports||ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xp(t,n){if(t==null)return $r;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=bn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(e[o]=a!==bn.None?[r,a]:r,n[o]=s):e[o]=r}return e}function he(t){return Ji(()=>{let n=$m(t);return Bm(n),n})}function Ba(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function $m(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||$r,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xp(t.inputs,n),outputs:xp(t.outputs),debugInfo:null}}function Bm(t){t.features?.forEach(n=>n(t))}function Tp(t,n){if(!t)return null;let e=n?tg:pD;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(gD)}function mD(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function vD(t){return Object.getPrototypeOf(t.prototype).constructor}function Tt(t){let n=vD(t.type),e=!0,r=[t];for(;n;){let i;if(Cn(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=$s(t.inputs),s.inputTransforms=$s(t.inputTransforms),s.declaredInputs=$s(t.declaredInputs),s.outputs=$s(t.outputs);let a=i.hostBindings;a&&CD(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&wD(t,l),c&&SD(t,c),yD(t,i),E0(t.outputs,i.outputs),Cn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Tt&&(e=!1)}}n=Object.getPrototypeOf(n)}_D(r)}function yD(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];if(r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function _D(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Wi(i.hostAttrs,e=Wi(e,i.hostAttrs))}}function $s(t){return t===$r?{}:t===ct?[]:t}function wD(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function SD(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function CD(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function bd(t){let n=t.inputConfig,e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}t.inputTransforms=e}function Um(t){return Id(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function DD(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function Id(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Hm(t,n,e){return t[n]=e}function xn(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function Gm(t,n,e,r){let i=xn(t,n,e);return xn(t,n+1,r)||i}function ED(t){return(t.flags&32)===32}function bD(t,n,e,r,i,o,s,a,l){let c=n.consts,u=no(n,t,4,s||null,a||null);wd(n,e,u,qr(c,l)),ka(n,u);let d=u.tView=yd(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function ID(t,n,e,r,i,o,s,a,l,c){let u=e+ft,d=n.firstCreatePass?bD(u,n,t,r,i,o,s,a,l):n.data[u];er(d,!1);let y=xD(n,t,d,e);Aa()&&Fa(n,t,y,d),En(y,t);let g=Im(y,t,y,d);return t[u]=g,ja(t,g),cD(g,d,t),ba(d)&&md(n,t,d),l!=null&&vd(t,d,c),d}function U(t,n,e,r,i,o,s,a){let l=ne(),c=je(),u=qr(c.consts,o);return ID(l,c,t,n,e,r,i,u,s,a),U}var xD=TD;function TD(t,n,e,r){return Na(!0),n[we].createComment("")}var Ua=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var zm=new P("");function ir(t){return!!t&&typeof t.then=="function"}function qm(t){return!!t&&typeof t.subscribe=="function"}var Ha=new P("");var Wm=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=E(Ha,{optional:!0})??[];injector=E(rn);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=It(this.injector,i);if(ir(o))e.push(o);else if(qm(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MD=(()=>{class t{static \u0275prov=T({token:t,providedIn:"root",factory:()=>new xu})}return t})(),xu=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}},xd=new P("");function AD(){Eh(()=>{throw new R(600,!1)})}function ND(t){return t.isBoundToModule}var kD=10;function RD(t,n,e){try{let r=e();return ir(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var Tn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(eS);afterRenderManager=E(dS);zonelessEnabled=E(nd);rootEffectScheduler=E(MD);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ae;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(Jr).hasPendingTasks.pipe(Z(e=>!e));constructor(){E(rm,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=E(dt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof fa;if(!this._injector.get(Wm).done){let y=!i&&ng(e),g=!1;throw new R(405,g)}let s;i?s=e:s=this._injector.get(Yr).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=ND(s)?void 0:this._injector.get(In),l=r||s.selector,c=s.create(rn.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(zm,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),zs(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(nm.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new R(101,!1);let e=te(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,te(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<kD;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)OD(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Ia(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;zs(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(xd,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>zs(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new R(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zs(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function OD(t,n,e,r){if(!e&&!Ia(t))return;Rm(t,n,e&&!r?0:1)}function Ga(t,n,e,r){let i=ne(),o=Ta();if(xn(i,o,n)){let s=je(),a=Ma();wC(a,i,t,n,e,r)}return Ga}function Ym(t,n,e,r){return xn(t,Ta(),e)?n+jr(e)+r:Ut}function PD(t,n,e,r,i,o){let s=Sw(),a=Gm(t,s,e,i);return Cg(2),a?n+jr(e)+r+jr(i)+o:Ut}function Bs(t,n){return t<<17|n<<2}function Qn(t){return t>>17&32767}function FD(t){return(t&2)==2}function LD(t,n){return t&131071|n<<17}function Tu(t){return t|2}function Kr(t){return(t&131068)>>2}function Gc(t,n){return t&-131069|n<<2}function VD(t){return(t&1)===1}function Mu(t){return t|1}function jD(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Qn(s),l=Kr(s);t[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Xi(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let y=Qn(t[a+1]);t[r+1]=Bs(y,a),y!==0&&(t[y+1]=Gc(t[y+1],r)),t[a+1]=LD(t[a+1],r)}else t[r+1]=Bs(a,0),a!==0&&(t[a+1]=Gc(t[a+1],r)),a=r;else t[r+1]=Bs(l,0),a===0?a=r:t[l+1]=Gc(t[l+1],r),l=r;c&&(t[r+1]=Tu(t[r+1])),Mp(t,u,r,!0),Mp(t,u,r,!1),$D(n,u,t,r,o),s=Bs(a,l),o?n.classBindings=s:n.styleBindings=s}function $D(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Xi(o,n)>=0&&(e[r+1]=Mu(e[r+1]))}function Mp(t,n,e,r){let i=t[e+1],o=n===null,s=r?Qn(i):Kr(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];BD(l,n)&&(a=!0,t[s+1]=r?Mu(c):Tu(c)),s=r?Qn(c):Kr(c)}a&&(t[e+1]=r?Tu(i):Mu(i))}function BD(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Xi(t,n)>=0:!1}function N(t,n,e){let r=ne(),i=Ta();if(xn(r,i,n)){let o=je(),s=Ma();_d(o,s,r,t,n,r[we],e,!1)}return N}function Ap(t,n,e,r,i){let o=n.inputs,s=i?"class":"style";Sd(t,e,o[s],s,r)}function za(t,n){return UD(t,n,null,!0),za}function UD(t,n,e,r){let i=ne(),o=je(),s=Cg(2);if(o.firstUpdatePass&&GD(o,t,s,r),n!==Ut&&xn(i,s,n)){let a=o.data[tr()];ZD(o,a,i,i[we],t,i[s+1]=KD(n,e),r,s)}}function HD(t,n){return n>=t.expandoStartIndex}function GD(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[tr()],s=HD(t,e);QD(o,r)&&n===null&&!s&&(n=!1),n=zD(i,o,n,r),jD(i,o,n,e,s,r)}}function zD(t,n,e,r){let i=Iw(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=zc(null,t,n,e,r),e=Qi(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=zc(i,t,n,e,r),o===null){let l=qD(t,n,r);l!==void 0&&Array.isArray(l)&&(l=zc(null,t,n,l[1],r),l=Qi(l,n.attrs,r),WD(t,n,r,l))}else o=YD(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function qD(t,n,e){let r=e?n.classBindings:n.styleBindings;if(Kr(r)!==0)return t[Qn(r)]}function WD(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[Qn(i)]=r}function YD(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Qi(r,s,e)}return Qi(r,n.attrs,e)}function zc(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=Qi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function Qi(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),G0(t,s,e?!0:n[++o]))}return t===void 0?null:t}function ZD(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],u=VD(c)?Np(l,n,e,i,Kr(c),s):void 0;if(!ma(u)){ma(o)||FD(c)&&(o=Np(l,null,e,i,a,s));let d=hg(tr(),e);BS(r,s,d,i,o)}}function Np(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,y=e[i+1];y===Ut&&(y=d?ct:void 0);let g=d?Fc(y,r):u===r?y:void 0;if(c&&!ma(g)&&(g=Fc(l,r)),ma(g)&&(a=g,s))return a;let f=t[i+1];i=s?Qn(f):Kr(f)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=Fc(l,r))}return a}function ma(t){return t!==void 0}function KD(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=qe(to(t)))),t}function QD(t,n){return(t.flags&(n?8:16))!==0}function JD(t,n,e,r,i,o){let s=n.consts,a=qr(s,i),l=no(n,t,2,r,a);return wd(n,e,l,qr(s,o)),l.attrs!==null&&ha(l,l.attrs,!1),l.mergedAttrs!==null&&ha(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function p(t,n,e,r){let i=ne(),o=je(),s=ft+t,a=i[we],l=o.firstCreatePass?JD(s,o,i,n,e,r):o.data[s],c=XD(o,i,l,a,n,t);i[s]=c;let u=ba(l);return er(l,!0),mm(a,c,l),!ED(l)&&Aa()&&Fa(o,i,c,l),hw()===0&&En(c,i),pw(),u&&(md(o,i,l),gd(o,l,i)),r!==null&&vd(i,l),p}function m(){let t=Ue();Ku()?wg():(t=t.parent,er(t,!1));let n=t;vw(n)&&yw(),gw();let e=je();return e.firstCreatePass&&(ka(e,t),Wu(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&Rw(n)&&Ap(e,n,ne(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Ow(n)&&Ap(e,n,ne(),n.stylesWithoutHost,!1),m}function de(t,n,e,r){return p(t,n,e,r),m(),de}var XD=(t,n,e,r,i,o)=>(Na(!0),lm(r,i,Mw()));function eE(t,n,e,r,i){let o=n.consts,s=qr(o,r),a=no(n,t,8,"ng-container",s);s!==null&&ha(a,s,!0);let l=qr(o,i);return wd(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function An(t,n,e){let r=ne(),i=je(),o=t+ft,s=i.firstCreatePass?eE(o,i,r,n,e):i.data[o];er(s,!0);let a=tE(i,r,s,t);return r[o]=a,Aa()&&Fa(i,r,a,s),En(a,r),ba(s)&&(md(i,r,s),gd(i,s,r)),e!=null&&vd(r,s),An}function Nn(){let t=Ue(),n=je();return Ku()?wg():(t=t.parent,er(t,!1)),n.firstCreatePass&&(ka(n,t),Wu(t)&&n.queries.elementEnd(t)),Nn}var tE=(t,n,e,r)=>(Na(!0),bS(n[we],""));function pe(){return ne()}var va="en-US";var nE=va;function rE(t){typeof t=="string"&&(nE=t.toLowerCase().replace(/_/g,"-"))}var iE=(t,n,e)=>{};function A(t,n,e,r){let i=ne(),o=je(),s=Ue();return Zm(o,i,i[we],s,t,n,r),A}function oE(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[Js],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Zm(t,n,e,r,i,o,s){let a=ba(r),c=t.firstCreatePass&&bC(t),u=n[Et],d=EC(n),y=!0;if(r.type&3||s){let C=ht(r,n),M=s?s(C):C,O=d.length,se=s?ce=>s(Vt(ce[r.index])):r.index,ae=null;if(!s&&a&&(ae=oE(t,n,i,r.index)),ae!==null){let ce=ae.__ngLastListenerFn__||ae;ce.__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,y=!1}else{o=Rp(r,n,u,o),iE(C,i,o);let ce=e.listen(M,i,o);d.push(o,ce),c&&c.push(i,se,O,O+1)}}else o=Rp(r,n,u,o);let g=r.outputs,f;if(y&&g!==null&&(f=g[i])){let C=f.length;if(C)for(let M=0;M<C;M+=2){let O=f[M],se=f[M+1],Ce=n[O][se].subscribe(o),ge=d.length;d.push(o,Ce),c&&c.push(i,r.index,ge,-(ge+1))}}}function kp(t,n,e,r){let i=te(null);try{return Pt(6,n,e),e(r)!==!1}catch(o){return Tm(t,o),!1}finally{Pt(7,n,e),te(i)}}function Rp(t,n,e,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Mn(t.index,n):n;Dd(s,5);let a=kp(n,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=kp(n,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function S(t=1){return Tw(t)}function qa(t,n,e,r,i){let o=ne(),s=Ym(o,n,e,r);if(s!==Ut){let a=je(),l=Ma();_d(a,l,o,t,s,o[we],i,!1)}return qa}function sE(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function Km(t){let n=ww();return gg(n,ft+t)}function _(t,n=""){let e=ne(),r=je(),i=t+ft,o=r.firstCreatePass?no(r,i,1,n,null):r.data[i],s=aE(r,e,o,n,t);e[i]=s,Aa()&&Fa(r,e,s,o),er(o,!1)}var aE=(t,n,e,r,i)=>(Na(!0),DS(n[we],r));function kn(t){return Oe("",t,""),kn}function Oe(t,n,e){let r=ne(),i=Ym(r,t,n,e);return i!==Ut&&Mm(r,tr(),i),Oe}function He(t,n,e,r,i){let o=ne(),s=PD(o,t,n,e,r,i);return s!==Ut&&Mm(o,tr(),s),He}function L(t,n,e){jm(n)&&(n=n());let r=ne(),i=Ta();if(xn(r,i,n)){let o=je(),s=Ma();_d(o,s,r,t,n,r[we],e,!1)}return L}function $(t,n){let e=jm(t);return e&&t.set(n),e}function V(t,n){let e=ne(),r=je(),i=Ue();return Zm(r,e,e[we],i,t,n),V}function lE(t,n,e){let r=je();if(r.firstCreatePass){let i=Cn(t);Au(e,r.data,r.blueprint,i,!0),Au(n,r.data,r.blueprint,i,!1)}}function Au(t,n,e,r,i){if(t=ze(t),Array.isArray(t))for(let o=0;o<t.length;o++)Au(t[o],n,e,r,i);else{let o=je(),s=ne(),a=Ue(),l=Ur(t)?t:ze(t.provide),c=sg(t),u=a.providerIndexes&1048575,d=a.directiveStart,y=a.providerIndexes>>20;if(Ur(t)||!t.multi){let g=new Zn(c,i,b),f=Wc(l,n,i?u:u+y,d);f===-1?(cu(sa(a,s),o,l),qc(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[f]=g,s[f]=g)}else{let g=Wc(l,n,u+y,d),f=Wc(l,n,u,u+y),C=g>=0&&e[g],M=f>=0&&e[f];if(i&&!M||!i&&!C){cu(sa(a,s),o,l);let O=dE(i?uE:cE,e.length,i,r,c);!i&&M&&(e[f].providerFactory=O),qc(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(O),s.push(O)}else{let O=Qm(e[i?f:g],c,!i&&r);qc(o,t,g>-1?g:f,O)}!i&&r&&M&&e[f].componentProviders++}}}function qc(t,n,e,r){let i=Ur(n),o=K0(n);if(i||o){let l=(o?ze(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function Qm(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Wc(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function cE(t,n,e,r){return Nu(this.multi,[])}function uE(t,n,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Wr(e,e[K],this.providerFactory.index,r);o=a.slice(0,s),Nu(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Nu(i,o);return o}function Nu(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function dE(t,n,e,r,i){let o=new Zn(t,e,b);return o.multi=[],o.index=n,o.componentProviders=0,Qm(o,i,r&&!e),o}function Ht(t,n=[]){return e=>{e.providersResolver=(r,i)=>lE(r,i?i(t):t,n)}}function Rn(t,n,e,r){return ev(ne(),Qu(),t,n,e,r)}function Jm(t,n,e,r,i){return fE(ne(),Qu(),t,n,e,r,i)}function Xm(t,n){let e=t[n];return e===Ut?void 0:e}function ev(t,n,e,r,i,o){let s=n+e;return xn(t,s,i)?Hm(t,s+1,o?r.call(o,i):r(i)):Xm(t,s+1)}function fE(t,n,e,r,i,o,s){let a=n+e;return Gm(t,a,i,o)?Hm(t,a+2,s?r.call(s,i,o):r(i,o)):Xm(t,a+2)}function ni(t,n){let e=je(),r,i=t+ft;e.firstCreatePass?(r=hE(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Gn(r.type,!0)),s,a=Ke(b);try{let l=oa(!1),c=o();return oa(l),sE(e,ne(),i,c),c}finally{Ke(a)}}function hE(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function ri(t,n,e){let r=t+ft,i=ne(),o=gg(i,r);return pE(i,r)?ev(i,Qu(),n,o.transform,e,o):o.transform(e)}function pE(t,n){return t[K].data[n].pure}function tv(t,n){return Lm(t,n)}var ku=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Td=(()=>{class t{compileModuleSync(e){return new Iu(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Xp(e),o=am(i.declarations).reduce((s,a)=>{let l=zn(a);return l&&s.push(new Zi(l)),s},[]);return new ku(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var gE=(()=>{class t{zone=E(Re);changeDetectionScheduler=E(Yi);applicationRef=E(Tn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mE({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new Re(Y(D({},vE()),{scheduleInRootZone:e})),[{provide:Re,useFactory:t},{provide:Br,multi:!0,useFactory:()=>{let r=E(gE,{optional:!0});return()=>r.initialize()}},{provide:Br,multi:!0,useFactory:()=>{let r=E(yE);return()=>{r.initialize()}}},n===!0?{provide:Gg,useValue:!0}:[],{provide:zg,useValue:e??Ug}]}function vE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var yE=(()=>{class t{subscription=new Ee;initialized=!1;zone=E(Re);pendingTasks=E(Jr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _E=(()=>{class t{appRef=E(Tn);taskService=E(Jr);ngZone=E(Re);zonelessEnabled=E(nd);tracing=E(rm,{optional:!0});disableScheduling=E(Gg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ee;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(la):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(zg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pu||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?dp:qg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(la+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wE(){return typeof $localize<"u"&&$localize.locale||va}var Md=new P("",{providedIn:"root",factory:()=>E(Md,q.Optional|q.SkipSelf)||wE()});var Ru=new P(""),SE=new P("");function $i(t){return!t.moduleRef}function CE(t){let n=$i(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Re);return e.run(()=>{$i(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(Dn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),$i(t)){let o=()=>n.destroy(),s=t.platformInjector.get(Ru);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ru);s.add(o),t.moduleRef.onDestroy(()=>{zs(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return RD(r,e,()=>{let o=n.get(Wm);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Md,va);if(rE(s||va),!n.get(SE,!0))return $i(t)?n.get(Tn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if($i(t)){let l=n.get(Tn);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return DE(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function DE(t,n){let e=t.injector.get(Tn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new R(-403,!1);n.push(t)}var qs=null;function EE(t=[],n){return rn.create({name:n,providers:[{provide:Ca,useValue:"platform"},{provide:Ru,useValue:new Set([()=>qs=null])},...t]})}function bE(t=[]){if(qs)return qs;let n=EE(t);return qs=n,AD(),IE(n),n}function IE(t){let n=t.get(ad,null);It(t,()=>{n?.forEach(e=>e())})}var or=(()=>{class t{static __NG_ELEMENT_ID__=xE}return t})();function xE(t){return TE(Ue(),ne(),(t&16)===16)}function TE(t,n,e){if(Ea(t)&&!e){let r=Mn(t.index,n);return new Kn(r,r)}else if(t.type&175){let r=n[Lt];return new Kn(r,n)}return null}var Ou=class{constructor(){}supports(n){return Um(n)}create(n){return new Pu(n)}},ME=(t,n)=>n,Pu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||ME}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Op(r,i,o)?e:r,a=Op(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let y=0;y<c;y++){let g=y<o.length?o[y]:o[y]=0,f=g+y;u<=f&&f<c&&(o[y]=g+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!Um(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,DD(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new Fu(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new ya),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ya),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Fu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},Lu=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},ya=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Lu,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Op(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}var Vu=class{constructor(){}supports(n){return n instanceof Map||Id(n)}create(){return new ju}},ju=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||Id(n)))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new $u(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}},$u=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function Pp(){return new Ad([new Ou])}var Ad=(()=>{class t{factories;static \u0275prov=T({token:t,providedIn:"root",factory:Pp});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Pp()),deps:[[t,new Hu,new Sa]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new R(901,!1)}}return t})();function Fp(){return new Nd([new Vu])}var Nd=(()=>{class t{static \u0275prov=T({token:t,providedIn:"root",factory:Fp});factories;constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Fp()),deps:[[t,new Hu,new Sa]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new R(901,!1)}}return t})();function nv(t){try{let{rootComponent:n,appProviders:e,platformProviders:r}=t,i=bE(r),o=[mE({}),{provide:Yi,useExisting:_E},...e||[]],s=new ga({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return CE({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function sr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ro(t,n){Oa("NgSignals");let e=Sh(t);return n?.equal&&(e[tt].equal=n.equal),e}function an(t){let n=te(null);try{return t()}finally{te(n)}}var Lp=class{[tt];constructor(n){this[tt]=n}destroy(){this[tt].destroy()}};var av=null;function ln(){return av}function lv(t){av??=t}var Wa=class{};var Je=new P(""),cv=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>E(AE),providedIn:"platform"})}return t})();var AE=(()=>{class t extends cv{_location;_history;_doc=E(Je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ln().getBaseHref(this._doc)}onPopState(e){let r=ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function uv(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function rv(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,r=e-(t[e-1]==="/"?1:0);return t.slice(0,r)+t.slice(e)}function ar(t){return t&&t[0]!=="?"?"?"+t:t}var ii=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>E(dv),providedIn:"root"})}return t})(),NE=new P(""),dv=(()=>{class t extends ii{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return uv(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+ar(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+ar(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+ar(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(k(cv),k(NE,8))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var io=(()=>{class t{_subject=new Ae;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=OE(rv(iv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ar(r))}normalize(e){return t.stripTrailingSlash(RE(this._basePath,iv(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ar(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ar(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ar;static joinWithSlash=uv;static stripTrailingSlash=rv;static \u0275fac=function(r){return new(r||t)(k(ii))};static \u0275prov=T({token:t,factory:()=>kE(),providedIn:"root"})}return t})();function kE(){return new io(k(ii))}function RE(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function iv(t){return t.replace(/\/index.html$/,"")}function OE(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}function fv(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var kd=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ge=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new kd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ov(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ov(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(b(ei),b($a),b(Ad))};static \u0275dir=he({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function ov(t,n){t.context.$implicit=n.item}var pt=(()=>{class t{_viewContainer;_context=new Rd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){sv("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){sv("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(b(ei),b($a))};static \u0275dir=he({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Rd=class{$implicit=null;ngIf=null};function sv(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${qe(n)}'.`)}var hv=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),s=i.indexOf("-")===-1?void 0:$t.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(b(Ye),b(Nd),b(Qe))};static \u0275dir=he({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();var Se=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=rr({type:t});static \u0275inj=Jn({})}return t})(),pv="browser",PE="server";function Pd(t){return t===PE}var Ya=class{};var Ld=class extends Wa{supportsDOMEvents=!0},Vd=class t extends Ld{static makeCurrent(){lv(new t)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=FE();return e==null?null:LE(e)}resetBaseElement(){oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return fv(document.cookie,n)}},oo=null;function FE(){return oo=oo||document.querySelector("base"),oo?oo.getAttribute("href"):null}function LE(t){return new URL(t,document.baseURI).pathname}var VE=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),jd=new P(""),wv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(k(jd),k(Re))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Ka=class{_doc;constructor(n){this._doc=n}manager},Za="ng-app-id";function gv(t){for(let n of t)n.remove()}function mv(t,n){let e=n.createElement("style");return e.textContent=t,e}function jE(t,n,e,r){let i=t.head?.querySelectorAll(`style[${Za}="${n}"],link[${Za}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Za),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function $d(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Sv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Pd(o),jE(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,mv);r?.forEach(i=>this.addUsage(i,this.external,$d))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(gv(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])gv(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,mv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,$d(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Za,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(k(Je),k(sd),k(ld,8),k(Xr))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Fd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ud=/%COMP%/g,Cv="%COMP%",$E=`_nghost-${Cv}`,BE=`_ngcontent-${Cv}`,UE=!0,HE=new P("",{providedIn:"root",factory:()=>UE});function GE(t){return BE.replace(Ud,t)}function zE(t){return $E.replace(Ud,t)}function Dv(t,n){return n.map(e=>e.replace(Ud,t))}var vv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.platformIsServer=Pd(a),this.defaultRenderer=new so(e,s,l,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jt.ShadowDom&&(r=Y(D({},r),{encapsulation:jt.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Qa?i.applyToHost(e):i instanceof ao&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case jt.Emulated:o=new Qa(l,c,r,this.appId,u,s,a,d);break;case jt.ShadowDom:return new Bd(l,c,e,r,s,a,this.nonce,d);default:o=new ao(l,c,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||t)(k(wv),k(Sv),k(sd),k(HE),k(Je),k(Xr),k(Re),k(ld))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),so=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Fd[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(yv(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(yv(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new R(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=Fd[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=Fd[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&($t.DashCase|$t.Important)?n.style.setProperty(e,r,i&$t.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&$t.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r){if(typeof n=="string"&&(n=ln().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function yv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Bd=class extends so{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Dv(i.id,i.styles);for(let d of c){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=d,this.shadowRoot.appendChild(y)}let u=i.getExternalStyles?.();if(u)for(let d of u){let y=$d(d,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ao=class extends so{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=l?Dv(l,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qa=class extends ao{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,l){let c=i+"-"+r.id;super(n,e,r,o,s,a,l,c),this.contentAttr=GE(c),this.hostAttr=zE(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}},qE=(()=>{class t extends Ka{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||t)(k(Je))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),_v=["alt","control","meta","shift"],WE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ZE=(()=>{class t extends Ka{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ln().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_v.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=WE[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_v.forEach(s=>{if(s!==i){let a=YE[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(k(Je))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})();function Ev(t,n){return nv(D({rootComponent:t},KE(n)))}function KE(t){return{appProviders:[...tb,...t?.providers??[]],platformProviders:eb}}function QE(){Vd.makeCurrent()}function JE(){return new Dn}function XE(){return em(document),document}var eb=[{provide:Xr,useValue:pv},{provide:ad,useValue:QE,multi:!0},{provide:Je,useFactory:XE,deps:[]}];var tb=[{provide:Ca,useValue:"root"},{provide:Dn,useFactory:JE,deps:[]},{provide:jd,useClass:qE,multi:!0,deps:[Je,Re,Xr]},{provide:jd,useClass:ZE,multi:!0,deps:[Je]},vv,Sv,wv,{provide:Zr,useExisting:vv},{provide:Ya,useClass:VE,deps:[]},[]];var bv=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(k(Je))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var z="primary",Eo=Symbol("RouteTitle"),Wd=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ui(t){return new Wd(t)}function rb(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ib(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Gt(t[e],n[e]))return!1;return!0}function Gt(t,n){let e=t?Yd(t):void 0,r=n?Yd(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Rv(t[i],n[i]))return!1;return!0}function Yd(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Rv(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function Ov(t){return t.length>0?t[t.length-1]:null}function Pn(t){return Tc(t)?t:ir(t)?_e(Promise.resolve(t)):H(t)}var ob={exact:Fv,subset:Lv},Pv={exact:sb,subset:ab,ignored:()=>!0};function Iv(t,n,e){return ob[e.paths](t.root,n.root,e.matrixParams)&&Pv[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function sb(t,n){return Gt(t,n)}function Fv(t,n,e){if(!cr(t.segments,n.segments)||!el(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!Fv(t.children[r],n.children[r],e))return!1;return!0}function ab(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Rv(t[e],n[e]))}function Lv(t,n,e){return Vv(t,n,n.segments,e)}function Vv(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!cr(i,e)||n.hasChildren()||!el(i,e,r))}else if(t.segments.length===e.length){if(!cr(t.segments,e)||!el(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!Lv(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!cr(t.segments,i)||!el(t.segments,i,r)||!t.children[z]?!1:Vv(t.children[z],n,o,r)}}function el(t,n,e){return n.every((r,i)=>Pv[e](t[i].parameters,r.parameters))}var un=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ie([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ui(this.queryParams),this._queryParamMap}toString(){return ub.serialize(this)}},ie=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}},lr=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=ui(this.parameters),this._parameterMap}toString(){return $v(this)}};function lb(t,n){return cr(t,n)&&t.every((e,r)=>Gt(e.parameters,n[r].parameters))}function cr(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function cb(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(e=e.concat(n(i,r)))}),e}var Sf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>new go,providedIn:"root"})}return t})(),go=class{parse(n){let e=new Kd(n);return new un(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${lo(n.root,!0)}`,r=hb(n.queryParams),i=typeof n.fragment=="string"?`#${db(n.fragment)}`:"";return`${e}${r}${i}`}},ub=new go;function tl(t){return t.segments.map(n=>$v(n)).join("/")}function lo(t,n){if(!t.hasChildren())return tl(t);if(n){let e=t.children[z]?lo(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${lo(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=cb(t,(r,i)=>i===z?[lo(t.children[z],!1)]:[`${i}:${lo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${tl(t)}/${e[0]}`:`${tl(t)}/(${e.join("//")})`}}function jv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ja(t){return jv(t).replace(/%3B/gi,";")}function db(t){return encodeURI(t)}function Zd(t){return jv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nl(t){return decodeURIComponent(t)}function xv(t){return nl(t.replace(/\+/g,"%20"))}function $v(t){return`${Zd(t.path)}${fb(t.parameters)}`}function fb(t){return Object.entries(t).map(([n,e])=>`;${Zd(n)}=${Zd(e)}`).join("")}function hb(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Ja(e)}=${Ja(i)}`).join("&"):`${Ja(e)}=${Ja(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var pb=/^[^\/()?;#]+/;function Hd(t){let n=t.match(pb);return n?n[0]:""}var gb=/^[^\/()?;=#]+/;function mb(t){let n=t.match(gb);return n?n[0]:""}var vb=/^[^=?&#]+/;function yb(t){let n=t.match(vb);return n?n[0]:""}var _b=/^[^&#]+/;function wb(t){let n=t.match(_b);return n?n[0]:""}var Kd=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[z]=new ie(n,e)),r}parseSegment(){let n=Hd(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new lr(nl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=mb(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Hd(this.remaining);i&&(r=i,this.capture(r))}n[nl(e)]=nl(r)}parseQueryParam(n){let e=yb(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=wb(this.remaining);s&&(r=s,this.capture(r))}let i=xv(e),o=xv(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=z);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[z]:new ie([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}};function Bv(t){return t.segments.length>0?new ie([],{[z]:t}):t}function Uv(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=Uv(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new ie(t.segments,n);return Sb(e)}function Sb(t){if(t.numberOfChildren===1&&t.children[z]){let n=t.children[z];return new ie(t.segments.concat(n.segments),n.children)}return t}function ur(t){return t instanceof un}function Cb(t,n,e=null,r=null){let i=Hv(t);return Gv(i,n,e,r)}function Hv(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new ie(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=Bv(r);return n??i}function Gv(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return Gd(i,i,i,e,r);let o=Db(n);if(o.toRoot())return Gd(i,i,new ie([],{}),e,r);let s=Eb(o,i,t),a=s.processChildren?fo(s.segmentGroup,s.index,o.commands):qv(s.segmentGroup,s.index,o.commands);return Gd(i,s.segmentGroup,a,e,r)}function rl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function mo(t){return typeof t=="object"&&t!=null&&t.outlets}function Gd(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===n?s=e:s=zv(t,n,e);let a=Bv(Uv(s));return new un(a,o,i)}function zv(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=zv(o,n,e)}),new ie(t.segments,r)}var il=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&rl(r[0]))throw new R(4003,!1);let i=r.find(mo);if(i&&i!==Ov(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Db(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new il(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new il(e,n,r)}var ai=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function Eb(t,n,e){if(t.isAbsolute)return new ai(n,!0,0);if(!e)return new ai(n,!1,NaN);if(e.parent===null)return new ai(e,!0,0);let r=rl(t.commands[0])?0:1,i=e.segments.length-1+r;return bb(e,i,t.numberOfDoubleDots)}function bb(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new ai(r,!1,i-o)}function Ib(t){return mo(t[0])?t[0].outlets:{[z]:t}}function qv(t,n,e){if(t??=new ie([],{}),t.segments.length===0&&t.hasChildren())return fo(t,n,e);let r=xb(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ie(t.segments.slice(0,r.pathIndex),{});return o.children[z]=new ie(t.segments.slice(r.pathIndex),t.children),fo(o,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?Qd(t,n,e):r.match?fo(t,0,i):Qd(t,n,e)}function fo(t,n,e){if(e.length===0)return new ie(t.segments,{});{let r=Ib(e),i={};if(Object.keys(r).some(o=>o!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let o=fo(t.children[z],n,e);return new ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qv(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ie(t.segments,i)}}function xb(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(mo(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Mv(l,c,s))return o;r+=2}else{if(!Mv(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Qd(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(mo(o)){let l=Tb(o.outlets);return new ie(r,l)}if(i===0&&rl(e[0])){let l=t.segments[n];r.push(new lr(l.path,Tv(e[0]))),i++;continue}let s=mo(o)?o.outlets[z]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&rl(a)?(r.push(new lr(s,Tv(a))),i+=2):(r.push(new lr(s,{})),i++)}return new ie(r,{})}function Tb(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=Qd(new ie([],{}),0,r))}),n}function Tv(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function Mv(t,n,e){return t==e.path&&Gt(n,e.parameters)}var ho="imperative",$e=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}($e||{}),gt=class{id;url;constructor(n,e){this.id=n,this.url=e}},vo=class extends gt{type=$e.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},On=class extends gt{urlAfterRedirects;type=$e.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},st=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(st||{}),Jd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Jd||{}),cn=class extends gt{reason;code;type=$e.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dr=class extends gt{reason;code;type=$e.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},yo=class extends gt{error;target;type=$e.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ol=class extends gt{urlAfterRedirects;state;type=$e.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xd=class extends gt{urlAfterRedirects;state;type=$e.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ef=class extends gt{urlAfterRedirects;state;shouldActivate;type=$e.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tf=class extends gt{urlAfterRedirects;state;type=$e.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nf=class extends gt{urlAfterRedirects;state;type=$e.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rf=class{route;type=$e.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},of=class{route;type=$e.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sf=class{snapshot;type=$e.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},af=class{snapshot;type=$e.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lf=class{snapshot;type=$e.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cf=class{snapshot;type=$e.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _o=class{},di=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function Mb(t,n){return t.providers&&!t._injector&&(t._injector=Ed(t.providers,n,`Route: ${t.path}`)),t._injector??n}function At(t){return t.outlet||z}function Ab(t,n){let e=t.filter(r=>At(r)===n);return e.push(...t.filter(r=>At(r)!==n)),e}function bo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var uf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return bo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new fl(this.rootInjector)}},fl=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new uf(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(k(dt))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=df(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=df(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=ff(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return ff(n,this._root).map(e=>e.value)}};function df(t,n){if(t===n.value)return n;for(let e of n.children){let r=df(t,e);if(r)return r}return null}function ff(t,n){if(t===n.value)return[n];for(let e of n.children){let r=ff(t,e);if(r.length)return r.unshift(n),r}return[]}var ot=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function si(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var al=class extends sl{snapshot;constructor(n,e){super(n),this.snapshot=e,Cf(this,n)}toString(){return this.snapshot.toString()}};function Wv(t){let n=Nb(t),e=new Le([new lr("",{})]),r=new Le({}),i=new Le({}),o=new Le({}),s=new Le(""),a=new at(e,r,o,s,i,z,t,n.root);return a.snapshot=n.root,new al(new ot(a,[]),n)}function Nb(t){let n={},e={},r={},i="",o=new li([],n,r,i,e,z,t,null,{});return new cl("",new ot(o,[]))}var at=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Z(c=>c[Eo]))??H(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(n=>ui(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(n=>ui(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ll(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:D(D({},n.params),t.params),data:D(D({},n.data),t.data),resolve:D(D(D(D({},t.data),n.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&Zv(i)&&(r.resolve[Eo]=i.title),r}var li=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Eo]}constructor(n,e,r,i,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ui(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ui(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},cl=class extends sl{url;constructor(n,e){super(e),this.url=n,Cf(this,e)}toString(){return Yv(this._root)}};function Cf(t,n){n.value._routerState=t,n.children.forEach(e=>Cf(t,e))}function Yv(t){let n=t.children.length>0?` { ${t.children.map(Yv).join(", ")} } `:"";return`${t.value}${n}`}function zd(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Gt(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Gt(n.params,e.params)||t.paramsSubject.next(e.params),ib(n.url,e.url)||t.urlSubject.next(e.url),Gt(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hf(t,n){let e=Gt(t.params,n.params)&&lb(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||hf(t.parent,n.parent))}function Zv(t){return typeof t.title=="string"||t.title===null}var kb=new P(""),Df=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new me;deactivateEvents=new me;attachEvents=new me;detachEvents=new me;routerOutletData=od(void 0);parentContexts=E(fl);location=E(ei);changeDetector=E(or);inputBinder=E(Ef,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new pf(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=he({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xn]})}return t})(),pf=class t{route;childContexts;parent;outletData;__ngOutletInjector(n){return new t(this.route,this.childContexts,n,this.outletData)}constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===at?this.route:n===fl?this.childContexts:n===kb?this.outletData:this.parent.get(n,e)}},Ef=new P("");function Rb(t,n,e){let r=wo(t,n._root,e?e._root:void 0);return new al(r,n)}function wo(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=Ob(t,n,e);return new ot(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>wo(t,a)),s}}let r=Pb(n.value),i=n.children.map(o=>wo(t,o));return new ot(r,i)}}function Ob(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wo(t,r,i);return wo(t,r)})}function Pb(t){return new at(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var So=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},Kv="ngNavigationCancelingError";function ul(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=ur(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Qv(!1,st.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Qv(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[Kv]=!0,e.cancellationCode=n,e}function Fb(t){return Jv(t)&&ur(t.url)}function Jv(t){return!!t&&t[Kv]}var Lb=(t,n,e,r)=>Z(i=>(new gf(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),gf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),zd(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=si(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=si(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=si(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=si(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cf(o.value.snapshot))}),n.children.length&&this.forwardEvent(new af(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(zd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zd(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},dl=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ci=class{component;route;constructor(n,e){this.component=n,this.route=e}};function Vb(t,n,e){let r=t._root,i=n?n._root:null;return co(r,i,e,[r.value])}function jb(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function hi(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!Hp(t)?t:n.get(t):r}function co(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=si(n);return t.children.forEach(s=>{$b(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>po(a,e.getContext(s),i)),i}function $b(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Bb(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new dl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?co(t,n,a?a.children:null,r,i):co(t,n,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ci(a.outlet.component,s))}else s&&po(n,a,i),i.canActivateChecks.push(new dl(r)),o.component?co(t,null,a?a.children:null,r,i):co(t,null,e,r,i);return i}function Bb(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!cr(t.url,n.url);case"pathParamsOrQueryParamsChange":return!cr(t.url,n.url)||!Gt(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hf(t,n)||!Gt(t.queryParams,n.queryParams);case"paramsChange":default:return!hf(t,n)}}function po(t,n,e){let r=si(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?po(s,n.children.getContext(o),e):po(s,null,e):po(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new ci(n.outlet.component,i)):e.canDeactivateChecks.push(new ci(null,i)):e.canDeactivateChecks.push(new ci(null,i))}function Io(t){return typeof t=="function"}function Ub(t){return typeof t=="boolean"}function Hb(t){return t&&Io(t.canLoad)}function Gb(t){return t&&Io(t.canActivate)}function zb(t){return t&&Io(t.canActivateChild)}function qb(t){return t&&Io(t.canDeactivate)}function Wb(t){return t&&Io(t.canMatch)}function Xv(t){return t instanceof Xt||t?.name==="EmptyError"}var Xa=Symbol("INITIAL_VALUE");function fi(){return St(t=>Ps(t.map(n=>n.pipe(en(1),Oc(Xa)))).pipe(Z(n=>{for(let e of n)if(e!==!0){if(e===Xa)return Xa;if(e===!1||Yb(e))return e}return!0}),wt(n=>n!==Xa),en(1)))}function Yb(t){return ur(t)||t instanceof So}function Zb(t,n){return Ne(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?H(Y(D({},e),{guardsResult:!0})):Kb(s,r,i,t).pipe(Ne(a=>a&&Ub(a)?Qb(r,o,t,n):H(a)),Z(a=>Y(D({},e),{guardsResult:a})))})}function Kb(t,n,e,r){return _e(t).pipe(Ne(i=>nI(i.component,i.route,e,n,r)),tn(i=>i!==!0,!0))}function Qb(t,n,e,r){return _e(n).pipe(kr(i=>Nr(Xb(i.route.parent,r),Jb(i.route,r),tI(t,i.path,e),eI(t,i.route,e))),tn(i=>i!==!0,!0))}function Jb(t,n){return t!==null&&n&&n(new lf(t)),H(!0)}function Xb(t,n){return t!==null&&n&&n(new sf(t)),H(!0)}function eI(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>Fs(()=>{let s=bo(n)??e,a=hi(o,s),l=Gb(a)?a.canActivate(n,t):It(s,()=>a(n,t));return Pn(l).pipe(tn())}));return H(i).pipe(fi())}function tI(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>jb(s)).filter(s=>s!==null).map(s=>Fs(()=>{let a=s.guards.map(l=>{let c=bo(s.node)??e,u=hi(l,c),d=zb(u)?u.canActivateChild(r,t):It(c,()=>u(r,t));return Pn(d).pipe(tn())});return H(a).pipe(fi())}));return H(o).pipe(fi())}function nI(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let l=bo(n)??i,c=hi(a,l),u=qb(c)?c.canDeactivate(t,n,e,r):It(l,()=>c(t,n,e,r));return Pn(u).pipe(tn())});return H(s).pipe(fi())}function rI(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=hi(s,t),l=Hb(a)?a.canLoad(n,e):It(t,()=>a(n,e));return Pn(l)});return H(o).pipe(fi(),ey(r))}function ey(t){return Ec(Ve(n=>{if(typeof n!="boolean")throw ul(t,n)}),Z(n=>n===!0))}function iI(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=hi(s,t),l=Wb(a)?a.canMatch(n,e):It(t,()=>a(n,e));return Pn(l)});return H(o).pipe(fi(),ey(r))}var Co=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Do=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function oi(t){return Ar(new Co(t))}function oI(t){return Ar(new R(4e3,!1))}function sI(t){return Ar(Qv(!1,st.GuardRejected))}var mf=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[z])return oI(`${n.redirectTo}`);i=i.children[z]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:y,params:g,data:f,title:C}=i,M=It(o,()=>a({params:g,data:f,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:y,title:C}));if(M instanceof un)throw new Do(M);e=M}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new Do(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new un(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ie(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},vf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aI(t,n,e,r,i){let o=ty(t,n,e);return o.matched?(r=Mb(n,r),iI(r,n,e,i).pipe(Z(s=>s===!0?o:D({},vf)))):H(o)}function ty(t,n,e){if(n.path==="**")return lI(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?D({},vf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||rb)(e,t,n);if(!i)return D({},vf);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lI(t){return{matched:!0,parameters:t.length>0?Ov(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Av(t,n,e,r){return e.length>0&&dI(t,e,r)?{segmentGroup:new ie(n,uI(r,new ie(e,t.children))),slicedSegments:[]}:e.length===0&&fI(t,e,r)?{segmentGroup:new ie(t.segments,cI(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:e}}function cI(t,n,e,r){let i={};for(let o of e)if(hl(t,n,o)&&!r[At(o)]){let s=new ie([],{});i[At(o)]=s}return D(D({},r),i)}function uI(t,n){let e={};e[z]=n;for(let r of t)if(r.path===""&&At(r)!==z){let i=new ie([],{});e[At(r)]=i}return e}function dI(t,n,e){return e.some(r=>hl(t,n,r)&&At(r)!==z)}function fI(t,n,e){return e.some(r=>hl(t,n,r))}function hl(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function hI(t,n,e){return n.length===0&&!t.children[e]}var yf=class{};function pI(t,n,e,r,i,o,s="emptyOnly"){return new _f(t,n,e,r,i,s,o).recognize()}var gI=31,_f=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mf(this.urlSerializer,this.urlTree)}noMatchError(n){return new R(4002,`'${n.segmentGroup}'`)}recognize(){let n=Av(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Z(({children:e,rootSnapshot:r})=>{let i=new ot(r,e),o=new cl("",i),s=Cb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new li([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,z,e).pipe(Z(r=>({children:r,rootSnapshot:e})),vn(r=>{if(r instanceof Do)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Co?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(Z(s=>s instanceof ot?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return _e(o).pipe(kr(s=>{let a=r.children[s],l=Ab(e,s);return this.processSegmentGroup(n,l,a,s,i)}),Rc((s,a)=>(s.push(...a),s)),yn(null),kc(),Ne(s=>{if(s===null)return oi(r);let a=ny(s);return mI(a),H(a)}))}processSegment(n,e,r,i,o,s,a){return _e(e).pipe(kr(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,s,a).pipe(vn(c=>{if(c instanceof Co)return H(null);throw c}))),tn(l=>!!l),vn(l=>{if(Xv(l))return hI(r,i,o)?H(new yf):oi(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,l){return At(r)!==s&&(s===z||!hl(i,o,r))?oi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,l):oi(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:y}=ty(e,i,o);if(!l)return oi(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gI&&(this.allowRedirects=!1));let g=new li(o,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Nv(i),At(i),i.component??i._loadedComponent??null,i,kv(i)),f=ll(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(f.params),g.data=Object.freeze(f.data);let C=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,n);return this.applyRedirects.lineralizeSegments(i,C).pipe(Ne(M=>this.processSegment(n,r,e,M.concat(y),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=aI(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(St(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(St(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:y,remainingSegments:g}=l,f=new li(y,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Nv(r),At(r),r.component??r._loadedComponent??null,r,kv(r)),C=ll(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(C.params),f.data=Object.freeze(C.data);let{segmentGroup:M,slicedSegments:O}=Av(e,y,g,c);if(O.length===0&&M.hasChildren())return this.processChildren(u,c,M,f).pipe(Z(ae=>new ot(f,ae)));if(c.length===0&&O.length===0)return H(new ot(f,[]));let se=At(r)===o;return this.processSegment(u,c,M,O,se?z:o,!0,f).pipe(Z(ae=>new ot(f,ae instanceof ot?[ae]:[])))}))):oi(e)))}getChildConfig(n,e,r){return e.children?H({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?H({routes:e._loadedRoutes,injector:e._loadedInjector}):rI(n,e,r,this.urlSerializer).pipe(Ne(i=>i?this.configLoader.loadChildren(n,e).pipe(Ve(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):sI(e))):H({routes:[],injector:n})}};function mI(t){t.sort((n,e)=>n.value.outlet===z?-1:e.value.outlet===z?1:n.value.outlet.localeCompare(e.value.outlet))}function vI(t){let n=t.value.routeConfig;return n&&n.path===""}function ny(t){let n=[],e=new Set;for(let r of t){if(!vI(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=ny(r.children);n.push(new ot(r.value,i))}return n.filter(r=>!e.has(r))}function Nv(t){return t.data||{}}function kv(t){return t.resolve||{}}function yI(t,n,e,r,i,o){return Ne(s=>pI(t,n,e,r,s.extractedUrl,i,o).pipe(Z(({state:a,tree:l})=>Y(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function _I(t,n){return Ne(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return H(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of ry(l))s.add(c);let a=0;return _e(s).pipe(kr(l=>o.has(l)?wI(l,r,t,n):(l.data=ll(l,l.parent,t).resolve,H(void 0))),Ve(()=>a++),Rr(1),Ne(l=>a===s.size?H(e):rt))})}function ry(t){let n=t.children.map(e=>ry(e)).flat();return[t,...n]}function wI(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Zv(i)&&(o[Eo]=i.title),SI(o,t,n,r).pipe(Z(s=>(t._resolvedData=s,t.data=ll(t,t.parent,e).resolve,null)))}function SI(t,n,e,r){let i=Yd(t);if(i.length===0)return H({});let o={};return _e(i).pipe(Ne(s=>CI(t[s],n,e,r).pipe(tn(),Ve(a=>{if(a instanceof So)throw ul(new go,a);o[s]=a}))),Rr(1),Nc(o),vn(s=>Xv(s)?rt:Ar(s)))}function CI(t,n,e,r){let i=bo(n)??r,o=hi(t,i),s=o.resolve?o.resolve(n,e):It(i,()=>o(n,e));return Pn(s)}function qd(t){return St(n=>{let e=t(n);return e?_e(e).pipe(Z(()=>n)):H(n)})}var iy=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(e){return e.data[Eo]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>E(DI),providedIn:"root"})}return t})(),DI=(()=>{class t extends iy{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(k(bv))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bf=new P("",{providedIn:"root",factory:()=>({})}),EI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ve({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){r&1&&de(0,"router-outlet")},dependencies:[Df],encapsulation:2})}return t})();function If(t){let n=t.children&&t.children.map(If),e=n?Y(D({},t),{children:n}):D({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==z&&(e.component=EI),e}var xf=new P(""),bI=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(Td);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return H(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Pn(e.loadComponent()).pipe(Z(oy),Ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ji(()=>{this.componentLoaders.delete(e)})),i=new Mr(r,()=>new Ae).pipe(Tr());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=II(r,this.compiler,e,this.onLoadEndListener).pipe(ji(()=>{this.childrenLoaders.delete(r)})),s=new Mr(o,()=>new Ae).pipe(Tr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function II(t,n,e,r){return Pn(t.loadChildren()).pipe(Z(oy),Ne(i=>i instanceof Ki||Array.isArray(i)?H(i):_e(n.compileModuleAsync(i))),Z(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(xf,[],{optional:!0,self:!0}).flat()),{routes:s.map(If),injector:o}}))}function xI(t){return t&&typeof t=="object"&&"default"in t}function oy(t){return xI(t)?t.default:t}var Tf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>E(TI),providedIn:"root"})}return t})(),TI=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MI=new P("");var AI=new P(""),NI=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ae;transitionAbortSubject=new Ae;configLoader=E(bI);environmentInjector=E(dt);urlSerializer=E(Sf);rootContexts=E(fl);location=E(io);inputBindingEnabled=E(Ef,{optional:!0})!==null;titleStrategy=E(iy);options=E(bf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(Tf);createViewTransition=E(MI,{optional:!0});navigationErrorHandler=E(AI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;constructor(){let e=i=>this.events.next(new rf(i)),r=i=>this.events.next(new of(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(Y(D(D({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new Le({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ho,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wt(o=>o.id!==0),Z(o=>Y(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),St(o=>{let s=!1,a=!1;return H(o).pipe(St(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),rt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Y(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new dr(l.id,this.urlSerializer.serialize(l.rawUrl),d,Jd.IgnoredSameUrlNavigation)),l.resolve(!1),rt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return H(l).pipe(St(d=>{let y=this.transitions?.getValue();return this.events.next(new vo(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),y!==this.transitions?.getValue()?rt:Promise.resolve(d)}),yI(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Y(D({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let y=new ol(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(y)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:y,source:g,restoredState:f,extras:C}=l,M=new vo(d,this.urlSerializer.serialize(y),g,f);this.events.next(M);let O=Wv(this.rootComponentType).snapshot;return this.currentTransition=o=Y(D({},l),{targetSnapshot:O,urlAfterRedirects:y,extras:Y(D({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,H(o)}else{let d="";return this.events.next(new dr(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Jd.IgnoredByUrlHandlingStrategy)),l.resolve(!1),rt}}),Ve(l=>{let c=new Xd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Z(l=>(this.currentTransition=o=Y(D({},l),{guards:Vb(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Zb(this.environmentInjector,l=>this.events.next(l)),Ve(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ul(this.urlSerializer,l.guardsResult);let c=new ef(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),wt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",st.GuardRejected),!1)),qd(l=>{if(l.guards.canActivateChecks.length)return H(l).pipe(Ve(c=>{let u=new tf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),St(c=>{let u=!1;return H(c).pipe(_I(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",st.NoDataFromResolver)}}))}),Ve(c=>{let u=new nf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),qd(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ve(y=>{u.component=y}),Z(()=>{})));for(let y of u.children)d.push(...c(y));return d};return Ps(c(l.targetSnapshot.root)).pipe(yn(null),en(1))}),qd(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?_e(u).pipe(Z(()=>o)):H(o)}),Z(l=>{let c=Rb(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Y(D({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Ve(()=>{this.events.next(new _o)}),Lb(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),en(1),Ve({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new On(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Pc(this.transitionAbortSubject.pipe(Ve(l=>{throw l}))),ji(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),vn(l=>{if(a=!0,Jv(l))this.events.next(new cn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Fb(l)?this.events.next(new di(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new yo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=It(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof So){let{message:d,cancellationCode:y}=ul(this.urlSerializer,u);this.events.next(new cn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,y)),this.events.next(new di(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return rt}))}))}cancelNavigationTransition(e,r,i){let o=new cn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kI(t){return t!==ho}var RI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>E(OI),providedIn:"root"})}return t})(),wf=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},OI=(()=>{class t extends wf{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Bt(t)))(i||t)}})();static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>E(PI),providedIn:"root"})}return t})(),PI=(()=>{class t extends sy{location=E(io);urlSerializer=E(Sf);options=E(bf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=E(Tf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Wv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof vo)this.stateMemento=this.createStateMemento();else if(e instanceof dr)this.rawUrlTree=r.initialUrl;else if(e instanceof ol){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof _o?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof cn&&(e.code===st.GuardRejected||e.code===st.NoDataFromResolver)?this.restoreHistory(r):e instanceof yo?this.restoreHistory(r,!0):e instanceof On&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof un?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=D(D({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=D(D({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Bt(t)))(i||t)}})();static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(uo||{});function FI(t,n){t.events.pipe(wt(e=>e instanceof On||e instanceof cn||e instanceof yo||e instanceof dr),Z(e=>e instanceof On||e instanceof dr?uo.COMPLETE:(e instanceof cn?e.code===st.Redirect||e.code===st.SupersededByNewNavigation:!1)?uo.REDIRECTING:uo.FAILED),wt(e=>e!==uo.REDIRECTING),en(1)).subscribe(()=>{n()})}var LI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(Ua);stateManager=E(sy);options=E(bf,{optional:!0})||{};pendingTasks=E(Jr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(NI);urlSerializer=E(Sf);location=E(io);urlHandlingStrategy=E(Tf);_events=new Ae;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(RI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(xf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(Ef,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ee;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof cn&&r.code!==st.Redirect&&r.code!==st.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof On)this.navigated=!0;else if(r instanceof di){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=D({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kI(i.source)},s);this.scheduleNavigation(a,ho,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$I(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ho,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=D({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(If),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let y=i?i.snapshot:this.routerState.snapshot.root;d=Hv(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return Gv(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=ur(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ho,null,r)}navigate(e,r={skipLocationChange:!1}){return jI(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=D({},LI):r===!1?i=D({},VI):i=r,ur(e))return Iv(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Iv(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,y)=>{a=d,l=y});let u=this.pendingTasks.add();return FI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jI(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new R(4008,!1)}function $I(t){return!(t instanceof _o)&&!(t instanceof di)}var zt=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ae;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof On&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ur(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:om(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ur(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(b(Nt),b(at),td("tabindex"),b(Qe),b(Ye),b(ii))};static \u0275dir=he({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&A("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ga("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",sr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",sr],replaceUrl:[2,"replaceUrl","replaceUrl",sr],routerLink:"routerLink"},features:[bd,Xn]})}return t})();var BI=new P("");function ay(t,...n){return eo([{provide:xf,multi:!0,useValue:t},[],{provide:at,useFactory:UI,deps:[Nt]},{provide:xd,multi:!0,useFactory:HI},n.map(e=>e.\u0275providers)])}function UI(t){return t.routerState.root}function HI(){let t=E(rn);return n=>{let e=t.get(Tn);if(n!==e.components[0])return;let r=t.get(Nt),i=t.get(GI);t.get(zI)===1&&r.initialNavigation(),t.get(qI,null,q.Optional)?.setUpPreloading(),t.get(BI,null,q.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var GI=new P("",{factory:()=>new Ae}),zI=new P("",{providedIn:"root",factory:()=>1});var qI=new P("");var ly=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)};var xo=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},pl=class extends xo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},gl=class extends xo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},ml=class extends xo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Mf=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(Mf||{});var WI=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},To=class{constructor(n,{headers:e={},customFetch:r,region:i=Mf.Any}={}){this.url=n,this.headers=e,this.region=i,this.fetch=ly(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,e={}){var r;return WI(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(f=>{throw new pl(f)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new gl(u);if(!u.ok)throw new ml(u);let y=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield u.json():y==="application/octet-stream"?g=yield u.blob():y==="text/event-stream"?g=u:y==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}};var Sy=q_(wy(),1),{PostgrestClient:Cy,PostgrestQueryBuilder:YP,PostgrestFilterBuilder:ZP,PostgrestTransformBuilder:KP,PostgrestBuilder:QP,PostgrestError:JP}=Sy.default;var Dy="2.11.2";var Ey={"X-Client-Info":`realtime-js/${Dy}`},by="1.0.0",wl=1e4,Iy=1e3,mi=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(mi||{}),lt=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(lt||{}),mt=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(mt||{}),Bf=function(t){return t.websocket="websocket",t}(Bf||{}),fr=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(fr||{});var Sl=class{constructor(){this.HEADER_LENGTH=1}decode(n,e){return n.constructor===ArrayBuffer?e(this._binaryDecode(n)):e(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let e=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,e,r)}_decodeBroadcast(n,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let l=r.decode(n.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var vi=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var fe=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(fe||{}),Hf=(t,n,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=ox(s,t,n,i),o),{})},ox=(t,n,e,r)=>{let i=n.find(a=>a.name===t),o=i?.type,s=e[t];return o&&!r.includes(o)?xy(o,s):Uf(s)},xy=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return cx(n,e)}switch(t){case fe.bool:return sx(n);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return ax(n);case fe.json:case fe.jsonb:return lx(n);case fe.timestamp:return ux(n);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Uf(n);default:return Uf(n)}},Uf=t=>t,sx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ax=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},lx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},cx=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>xy(n,a))}return t},ux=t=>typeof t=="string"?t.replace(" ","T"):t,Cl=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var yi=class{constructor(n,e,r={},i=wl){this.channel=n,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var Po=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,i){let o=this.cloneDeep(n),s=this.transformState(e),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let y=u.map(M=>M.presence_ref),g=d.map(M=>M.presence_ref),f=u.filter(M=>g.indexOf(M.presence_ref)<0),C=d.filter(M=>y.indexOf(M.presence_ref)<0);f.length>0&&(a[c]=f),C.length>0&&(l[c]=C)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(g=>g.presence_ref),y=u.filter(g=>d.indexOf(g.presence_ref)<0);n[a].unshift(...y)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let i=n[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var dn=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(dn||{});var Fo=class t{constructor(n,e={config:{}},r){this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new yi(this,mt.join,this.params,this.timeout),this.rejoinTimer=new vi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Po(this),this.broadcastEndpointURL=Cl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(dn.CHANNEL_ERROR,u)),this._onClose(()=>n?.(dn.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var y;if(this.socket.setAuth(),u===void 0){n?.(dn.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,f=(y=g?.length)!==null&&y!==void 0?y:0,C=[];for(let M=0;M<f;M++){let O=g[M],{filter:{event:se,schema:ae,table:ce,filter:Ce}}=O,ge=u&&u[M];if(ge&&ge.event===se&&ge.schema===ae&&ge.table===ce&&ge.filter===Ce)C.push(Object.assign(Object.assign({},O),{id:ge.id}));else{this.unsubscribe(),n?.(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(dn.SUBSCRIBED);return}})).receive("error",u=>{n?.(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(n,e={}){return yield this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,e,r){return this._on(n,e,r)}send(r){return h(this,arguments,function*(n,e={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=lt.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new yi(this,mt.leave,{},n);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(n,e,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yi(this,n,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=mt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,e,r);if(e&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var f,C,M;return((f=g.filter)===null||f===void 0?void 0:f.event)==="*"||((M=(C=g.filter)===null||C===void 0?void 0:C.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===s}).map(g=>g.callback(y,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var f,C,M,O,se,ae;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){let ce=g.id,Ce=(f=g.filter)===null||f===void 0?void 0:f.event;return ce&&((C=e.ids)===null||C===void 0?void 0:C.includes(ce))&&(Ce==="*"||Ce?.toLocaleLowerCase()===((M=e.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{let ce=(se=(O=g?.filter)===null||O===void 0?void 0:O.event)===null||se===void 0?void 0:se.toLocaleLowerCase();return ce==="*"||ce===((ae=e?.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof y=="object"&&"ids"in y){let f=y.data,{schema:C,table:M,commit_timestamp:O,type:se,errors:ae}=f;y=Object.assign(Object.assign({},{schema:C,table:M,commit_timestamp:O,eventType:se,new:{},old:{},errors:ae}),this._getPayloadRecords(f))}g.callback(y,r)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let i=n.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,e))}),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(mt.close,{},n)}_onError(n){this._on(mt.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=Hf(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=Hf(n.columns,n.old_record)),e}};var fx=()=>{},hx=typeof WebSocket<"u",px=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Lo=class{constructor(n,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ey,this.params={},this.timeout=wl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=fx,this.conn=null,this.sendBuffer=[],this.serializer=new Sl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${Bf.websocket}`,this.httpEndpoint=Cl(n),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vi(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(hx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Gf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-BBCAVWXX.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:by}))}disconnect(n,e){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return h(this,null,function*(){let e=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return h(this,null,function*(){let n=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),n})}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case mi.connecting:return fr.Connecting;case mi.open:return fr.Open;case mi.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}channel(n,e={config:{}}){let r=new Fo(`realtime:${n}`,e,this);return this.channels.push(r),r}push(n){let{topic:e,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return h(this,null,function*(){let e=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(mt.access_token,{access_token:e})})}})}sendHeartbeat(){return h(this,null,function*(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(Iy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){return h(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(mt.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${n}${r}${i}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([px],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var Gf=class{constructor(n,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=mi.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var _i=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Dl=class extends _i{constructor(n,e){super(n),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},hr=class extends _i{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};var gx=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},bl=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},Ty=()=>gx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),El=t=>{if(Array.isArray(t))return t.map(e=>El(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=El(r)}),n};var pr=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},zf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mx=(t,n,e)=>pr(void 0,void 0,void 0,function*(){let r=yield Ty();t instanceof r&&!e?.noResolveJson?t.json().then(i=>{n(new Dl(zf(i),t.status||500))}).catch(i=>{n(new hr(zf(i),i))}):n(new hr(zf(t),t))}),vx=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Vo(t,n,e,r,i,o){return pr(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,vx(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>mx(l,a,r))})})}function wi(t,n,e,r){return pr(this,void 0,void 0,function*(){return Vo(t,"GET",n,e,r)})}function qt(t,n,e,r,i){return pr(this,void 0,void 0,function*(){return Vo(t,"POST",n,r,i,e)})}function My(t,n,e,r,i){return pr(this,void 0,void 0,function*(){return Vo(t,"PUT",n,r,i,e)})}function Ay(t,n,e,r){return pr(this,void 0,void 0,function*(){return Vo(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Il(t,n,e,r,i){return pr(this,void 0,void 0,function*(){return Vo(t,"DELETE",n,r,i,e)})}var Xe=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},yx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ny={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},xl=class{constructor(n,e={},r,i){this.url=n,this.headers=e,this.bucketId=r,this.fetch=bl(i)}uploadOrUpdate(n,e,r,i){return Xe(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Ny),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),y=yield d.json();return d.ok?{data:{path:c,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(o){if(Ie(o))return{data:null,error:o};throw o}})}upload(n,e,r){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,i){return Xe(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:Ny.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),y=yield d.json();return d.ok?{data:{path:o,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(Ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,e){return Xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield qt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new _i("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}update(n,e,r){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}copy(n,e,r){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrl(n,e,r){return Xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield qt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrls(n,e,r){return Xe(this,void 0,void 0,function*(){try{let i=yield qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}download(n,e){return Xe(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield wi(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ie(a))return{data:null,error:a};throw a}})}info(n){return Xe(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield wi(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:El(r),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}exists(n){return Xe(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield Ay(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ie(r)&&r instanceof hr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return Xe(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(Ie(e))return{data:null,error:e};throw e}})}list(n,e,r){return Xe(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},yx),e),{prefix:n||""});return{data:yield qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};var ky="2.7.1";var Ry={"X-Client-Info":`storage-js/${ky}`};var Si=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Tl=class{constructor(n,e={},r){this.url=n,this.headers=Object.assign(Object.assign({},Ry),e),this.fetch=bl(r)}listBuckets(){return Si(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}getBucket(n){return Si(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(Ie(e))return{data:null,error:e};throw e}})}createBucket(n,e={public:!1}){return Si(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}updateBucket(n,e){return Si(this,void 0,void 0,function*(){try{return{data:yield My(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Si(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Ie(e))return{data:null,error:e};throw e}})}deleteBucket(n){return Si(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(Ie(e))return{data:null,error:e};throw e}})}};var jo=class extends Tl{constructor(n,e={},r){super(n,e,r)}from(n){return new xl(this.url,this.headers,n,this.fetch)}};var Oy="2.47.10";var $o="";typeof Deno<"u"?$o="deno":typeof document<"u"?$o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$o="react-native":$o="node";var _x={"X-Client-Info":`supabase-js-${$o}/${Oy}`},Py={headers:_x},Fy={schema:"public"},Ly={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vy={};ph();var wx=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Sx=t=>{let n;return t?n=t:typeof fetch>"u"?n=fh:n=fetch,(...e)=>n(...e)},Cx=()=>typeof Headers>"u"?hh:Headers,jy=(t,n,e)=>{let r=Sx(e),i=Cx();return(o,s)=>wx(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:t,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var Dx=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})};function $y(t){return t.replace(/\/$/,"")}function By(t,n){let{db:e,auth:r,realtime:i,global:o}=t,{db:s,auth:a,realtime:l,global:c}=n,u={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>Dx(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}var Ml="2.67.3";var Uy="http://localhost:9999",Hy="supabase.auth.token";var Gy={"X-Client-Info":`gotrue-js/${Ml}`},qf=10;var Bo="X-Supabase-Api-Version",Wf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function zy(t){return Math.round(Date.now()/1e3)+t}function qy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}var kt=()=>typeof window<"u"&&typeof document<"u",gr={tested:!1,writable:!1},Fn=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gr.tested)return gr.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gr.tested=!0,gr.writable=!0}catch{gr.tested=!0,gr.writable=!1}return gr.writable};function Wy(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{n[i]=r}),n}var Al=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},Yy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yf=(t,n,e)=>h(void 0,null,function*(){yield t.setItem(n,JSON.stringify(e))}),Ho=(t,n)=>h(void 0,null,function*(){let e=yield t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),Go=(t,n)=>h(void 0,null,function*(){yield t.removeItem(n)});function Ex(t){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",r,i,o,s,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)s=n.indexOf(t.charAt(u++)),a=n.indexOf(t.charAt(u++)),l=n.indexOf(t.charAt(u++)),c=n.indexOf(t.charAt(u++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|c,e=e+String.fromCharCode(r),l!=64&&i!=0&&(e=e+String.fromCharCode(i)),c!=64&&o!=0&&(e=e+String.fromCharCode(o));return e}var Uo=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};Uo.promiseConstructor=Promise;function Zf(t){let n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=t.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=e[1];return JSON.parse(Ex(r))}function Zy(t){return h(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),t)})})}function Ky(t,n){return new Promise((r,i)=>{h(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function bx(t){return("0"+t.toString(16)).substr(-2)}function Ix(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,bx).join("")}function xx(t){return h(this,null,function*(){let e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function Tx(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Mx(t){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=yield xx(t);return Tx(e)})}function mr(t,n,e=!1){return h(this,null,function*(){let r=Ix(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield Yf(t,`${n}-code-verifier`,i);let o=yield Mx(r);return[o,r===o?"plain":"s256"]})}var Ax=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qy(t){let n=t.headers.get(Bo);if(!n||!n.match(Ax))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}var zo=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function G(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Nl=class extends zo{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function Jy(t){return G(t)&&t.name==="AuthApiError"}var Ci=class extends zo{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},fn=class extends zo{constructor(n,e,r,i){super(n,r,i),this.name=e,this.status=r}},vt=class extends fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Xy(t){return G(t)&&t.name==="AuthSessionMissingError"}var Di=class extends fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},vr=class extends fn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},yr=class extends fn{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function e_(t){return G(t)&&t.name==="AuthImplicitGrantRedirectError"}var qo=class extends fn{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ei=class extends fn{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};function kl(t){return G(t)&&t.name==="AuthRetryableFetchError"}var Wo=class extends fn{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var Nx=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},_r=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kx=[502,503,504];function t_(t){return h(this,null,function*(){var n;if(!Yy(t))throw new Ei(_r(t),0);if(kx.includes(t.status))throw new Ei(_r(t),t.status);let e;try{e=yield t.json()}catch(o){throw new Ci(_r(o),o)}let r,i=Qy(t);if(i&&i.getTime()>=Wf["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Wo(_r(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new vt}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Wo(_r(e),t.status,e.weak_password.reasons);throw new Nl(_r(e),t.status||500,r)})}var Rx=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function Q(t,n,e,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Bo]||(o[Bo]=Wf["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield Ox(t,n,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function Ox(t,n,e,r,i,o){return h(this,null,function*(){let s=Rx(n,r,i,o),a;try{a=yield t(e,Object.assign({},s))}catch(l){throw console.error(l),new Ei(_r(l),0)}if(a.ok||(yield t_(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield t_(l)}})}function hn(t){var n;let e=null;Px(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=zy(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function Kf(t){let n=hn(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function Wt(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function n_(t){return{data:t,error:null}}function r_(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=t,s=Nx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function i_(t){return t}function Px(t){return t.access_token&&t.refresh_token&&t.expires_in}var Fx=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},bi=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=Al(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,e="global"){return h(this,null,function*(){try{return yield Q(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return h(this,arguments,function*(n,e={}){try{return yield Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Wt})}catch(i){if(G(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return h(this,null,function*(){try{let{options:e}=n,r=Fx(n,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:r_,redirectTo:e?.redirectTo})}catch(e){if(G(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(n){return h(this,null,function*(){try{return yield Q(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Wt})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}})}listUsers(n){return h(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:i_});if(u.error)throw u.error;let d=yield u.json(),y=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(f=>{let C=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(f.split(";")[1].split("=")[1]);c[`${M}Page`]=C}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(G(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return h(this,null,function*(){try{return yield Q(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Wt})}catch(e){if(G(e))return{data:{user:null},error:e};throw e}})}updateUserById(n,e){return h(this,null,function*(){try{return yield Q(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:Wt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,e=!1){return h(this,null,function*(){try{return yield Q(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:Wt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return h(this,null,function*(){try{let{data:e,error:r}=yield Q(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(G(e))return{data:null,error:e};throw e}})}_deleteFactor(n){return h(this,null,function*(){try{return{data:yield Q(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if(G(e))return{data:null,error:e};throw e}})}};var o_={getItem:t=>Fn()?globalThis.localStorage.getItem(t):null,setItem:(t,n)=>{Fn()&&globalThis.localStorage.setItem(t,n)},removeItem:t=>{Fn()&&globalThis.localStorage.removeItem(t)}};function Qf(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}function s_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var wr={debug:!!(globalThis&&Fn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Yo=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Rl=class extends Yo{};function Jf(t,n,e){return h(this,null,function*(){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(this,null,function*(){if(i){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield e()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Rl(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}s_();var Lx={url:Uy,storageKey:Hy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Zo=30*1e3,a_=3;function l_(t,n,e){return h(this,null,function*(){return yield e()})}var Xf=(()=>{class t{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},Lx),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new bi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Al(o.fetch),this.lock=o.lock||l_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:kt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Jf:this.lock=l_,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Fn()?this.storage=o_:(this.memoryStorage={},this.storage=Qf(this.memoryStorage)):(this.memoryStorage={},this.storage=Qf(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ml}) ${new Date().toISOString()}`,...e),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var e;try{let r=Wy(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),kt()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),e_(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?{error:r}:{error:new Ci("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return h(this,null,function*(){var r,i,o;try{let s=yield Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:hn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return h(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:y,options:g}=e,f=null,C=null;this.flowType==="pkce"&&([f,C]=yield mr(this.storage,this.storageKey)),s=yield Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:d,password:y,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:f,code_challenge_method:C},xform:hn})}else if("phone"in e){let{phone:d,password:y,options:g}=e;s=yield Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:y,data:(i=g?.data)!==null&&i!==void 0?i:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:hn})}else throw new vr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return h(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Kf})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Kf})}else throw new vr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Di}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return h(this,null,function*(){let r=yield Ho(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:hn});if(yield Go(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Di}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(G(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:hn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Di}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield mr(this.storage,this.storageKey));let{error:y}=yield Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:d}=yield Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new vr("You must provide either an email or phone number.")}catch(l){if(G(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return h(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:hn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return h(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield mr(this.storage,this.storageKey)),yield Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:n_})}catch(s){if(G(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new vt;let{error:o}=yield Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if(G(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield Q(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new vr("You must provide either an email or phone number and a type")}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(e,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield Ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return h(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return h(this,null,function*(){try{return e?yield Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wt}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:yield Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Wt})}))}catch(r){if(G(r))return Xy(r)&&(yield this._removeSession(),yield Go(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return h(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return h(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new vt;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield mr(this.storage,this.storageKey));let{data:d,error:y}=yield Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Wt});if(y)throw y;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(G(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(e){return Zf(e)}setSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return h(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new vt;let r=Date.now()/1e3,i=r,o=!0,s=null,a=Zf(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(G(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new vt;let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return h(this,null,function*(){try{if(!kt())throw new yr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qo("No code detected.");let{data:ae,error:ce}=yield this._exchangeCodeForSession(e.code);if(ce)throw ce;let Ce=new URL(window.location.href);return Ce.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Ce.toString()),{data:{session:ae.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new yr("No session defined in URL");let d=Math.round(Date.now()/1e3),y=parseInt(l),g=d+y;c&&(g=parseInt(c));let f=g-d;f*1e3<=Zo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${y}s`);let C=g-y;d-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,g,d):d-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,g,d);let{data:M,error:O}=yield this._getUser(s);if(O)throw O;let se={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:y,expires_at:g,refresh_token:a,token_type:u,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:se,redirectType:e.type},error:null}}catch(i){if(G(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return h(this,null,function*(){let r=yield Ho(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return h(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return h(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(Jy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield Go(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=qy(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield mr(this.storage,this.storageKey,!0));try{return yield Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(G(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}})}linkIdentity(e){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,d;let{data:y,error:g}=s;if(g)throw g;let f=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield Q(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=y.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return kt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(G(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(G(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return h(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Ky(o=>h(this,null,function*(){return o>0&&(yield Zy(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hn})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&kl(s)&&Date.now()+a-i<Zo})}catch(i){if(this._debug(r,"error",i),G(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),kt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield Ho(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<o+qf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${qf}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),kl(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return h(this,null,function*(){var r,i;if(!e)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Uo;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new vt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),G(s)){let a={session:null,error:s};return kl(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return h(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Yf(this.storage,this.storageKey,e)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield Go(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Zo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/Zo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Zo}ms, refresh threshold is ${a_} ticks`),o<=a_&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Yo)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return h(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield mr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(G(r))return{data:null,error:r};throw r}})}_enroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=yield Q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(G(r))return{data:null,error:r};throw r}})}_verify(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(G(r))return{data:null,error:r};throw r}}))})}_challenge(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(G(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(e=>h(this,null,function*(){var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var Vx=Xf,eh=Vx;var Ol=class extends eh{constructor(n){super(n)}};var jx=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Pl=class{constructor(n,e,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=e,!n)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=$y(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Fy,realtime:Vy,auth:Object.assign(Object.assign({},Ly),{storageKey:l}),global:Py},u=By(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=jy(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Cy(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new To(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new jo(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,e;return jx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){var d;let y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ol({url:this.authUrl,headers:Object.assign(Object.assign({},y),c),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(n){return new Lo(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var c_=(t,n,e)=>new Pl(t,n,e);var th={production:!1,supabaseUrl:"https://nrapqjwyqvwopwoxevlw.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yYXBxand5cXZ3b3B3b3hldmx3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA4MDU2MzQsImV4cCI6MjA0NjM4MTYzNH0.hq-X6YEAD7DG9WIiJhqwRb3ZtMruaEzAbr0Wm4TBoQU"};var ye=class t{supabase;constructor(){this.supabase=c_(th.supabaseUrl,th.supabaseKey,{auth:{persistSession:!0}})}get client(){return this.supabase}static \u0275fac=function(e){return new(e||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var Zt=class t{constructor(n){this.supabase=n;this.initSession(),this.supabase.client.auth.onAuthStateChange((e,r)=>{this._session=r,this._user=r?.user??null})}_user=null;_session=null;initSession(){return h(this,null,function*(){let{data:n,error:e}=yield this.supabase.client.auth.getSession();!e&&n.session&&(this._session=n.session,this._user=n.session.user)})}signUp(n,e){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.client.auth.signUp({email:n,password:e});if(i)throw i;return r})}signIn(n,e){return h(this,null,function*(){let{data:r,error:i}=yield this.supabase.client.auth.signInWithPassword({email:n,password:e});if(i)throw i;return r})}signOut(){return h(this,null,function*(){let{error:n}=yield this.supabase.client.auth.signOut();if(n)throw n})}get session(){return this._session}get user(){return this._user}isLoggedIn(){return!!this._user}static \u0275fac=function(e){return new(e||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function $x(t,n){if(t&1){let e=pe();An(0),p(1,"nav")(2,"a",1)(3,"b"),_(4,"PANOU ADMINISTRARE"),m()(),p(5,"a",2),_(6,"Toate Rug\u0103ciunile"),m(),p(7,"a",3),_(8,"Tipuri de Rug\u0103ciuni"),m(),p(9,"a",4),_(10,"Sec\u021Biuni"),m(),p(11,"a",5),_(12,"Texte"),m(),p(13,"div",6)(14,"span"),_(15),m(),p(16,"button",7),A("click",function(){I(e);let i=S();return x(i.onLogout())}),_(17,"Delogare"),m()()(),de(18,"hr"),Nn()}if(t&2){let e=S();w(15),kn(e.auth.user==null?null:e.auth.user.email)}}var Fl=class t{constructor(n,e){this.auth=n;this.router=e}title="my-prayer-admin";onLogout(){return h(this,null,function*(){try{yield this.auth.signOut(),this.router.navigate(["/login"])}catch(n){console.error("Error logging out:",n)}})}static \u0275fac=function(e){return new(e||t)(b(Zt),b(Nt))};static \u0275cmp=ve({type:t,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"],[2,"display","inline","color","black"],["routerLink","/prayers"],["routerLink","/prayerTypes"],["routerLink","/sections"],["routerLink","/liturgicalTexts"],[2,"display","flex","float","right","width","min-content","gap","1rem"],[3,"click"]],template:function(e,r){e&1&&(U(0,$x,19,1,"ng-container",0),de(1,"router-outlet")),e&2&&N("ngIf",r.auth.isLoggedIn())},dependencies:[Se,pt,Df,zt],styles:["nav[_ngcontent-%COMP%]{margin:1rem}a[_ngcontent-%COMP%]{margin-right:1rem;text-decoration:none;color:#790822}"]})};var y_=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(b(Qe),b(Ye))};static \u0275dir=he({type:t})}return t})(),Gl=(()=>{class t extends y_{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Bt(t)))(i||t)}})();static \u0275dir=he({type:t,features:[Tt]})}return t})(),Sr=new P("");var Bx={provide:Sr,useExisting:bt(()=>xe),multi:!0};function Ux(){let t=ln()?ln().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Hx=new P(""),xe=(()=>{class t extends y_{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Ux())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(b(Qe),b(Ye),b(Hx,8))};static \u0275dir=he({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ht([Bx]),Tt]})}return t})();var __=new P(""),w_=new P("");function S_(t){return t!=null}function C_(t){return ir(t)?_e(t):t}function D_(t){let n={};return t.forEach(e=>{n=e!=null?D(D({},n),e):n}),Object.keys(n).length===0?null:n}function E_(t,n){return n.map(e=>e(t))}function Gx(t){return!t.validate}function b_(t){return t.map(n=>Gx(n)?n:e=>n.validate(e))}function zx(t){if(!t)return null;let n=t.filter(S_);return n.length==0?null:function(e){return D_(E_(e,n))}}function ih(t){return t!=null?zx(b_(t)):null}function qx(t){if(!t)return null;let n=t.filter(S_);return n.length==0?null:function(e){let r=E_(e,n).map(C_);return Ac(r).pipe(Z(D_))}}function oh(t){return t!=null?qx(b_(t)):null}function u_(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Wx(t){return t._rawValidators}function Yx(t){return t._rawAsyncValidators}function rh(t){return t?Array.isArray(t)?t:[t]:[]}function Vl(t,n){return Array.isArray(t)?t.includes(n):t===n}function d_(t,n){let e=rh(n);return rh(t).forEach(i=>{Vl(e,i)||e.push(i)}),e}function f_(t,n){return rh(n).filter(e=>!Vl(t,e))}var jl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ih(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=oh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Ti=class extends jl{name;get formDirective(){return null}get path(){return null}},ts=class extends jl{_parent=null;name=null;valueAccessor=null},$l=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Zx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jV=Y(D({},Zx),{"[class.ng-submitted]":"isSubmitted"}),Pe=(()=>{class t extends $l{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(b(ts,2))};static \u0275dir=he({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&za("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Tt]})}return t})(),I_=(()=>{class t extends $l{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(b(Ti,10))};static \u0275dir=he({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&za("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Tt]})}return t})();var Ko="VALID",Ll="INVALID",Ii="PENDING",Qo="DISABLED",Mi=class{},Bl=class extends Mi{value;source;constructor(n,e){super(),this.value=n,this.source=e}},Xo=class extends Mi{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},es=class extends Mi{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},xi=class extends Mi{status;source;constructor(n,e){super(),this.status=n,this.source=e}};function x_(t){return(zl(t)?t.validators:t)||null}function Kx(t){return Array.isArray(t)?ih(t):t||null}function T_(t,n){return(zl(n)?n.asyncValidators:t)||null}function Qx(t){return Array.isArray(t)?oh(t):t||null}function zl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Jx(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new R(1e3,"");if(!r[e])throw new R(1001,"")}function Xx(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new R(1002,"")})}var Ul=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return an(this.statusReactive)}set status(n){an(()=>this.statusReactive.set(n))}_status=ro(()=>this.statusReactive());statusReactive=ti(void 0);get valid(){return this.status===Ko}get invalid(){return this.status===Ll}get pending(){return this.status==Ii}get disabled(){return this.status===Qo}get enabled(){return this.status!==Qo}errors;get pristine(){return an(this.pristineReactive)}set pristine(n){an(()=>this.pristineReactive.set(n))}_pristine=ro(()=>this.pristineReactive());pristineReactive=ti(!0);get dirty(){return!this.pristine}get touched(){return an(this.touchedReactive)}set touched(n){an(()=>this.touchedReactive.set(n))}_touched=ro(()=>this.touchedReactive());touchedReactive=ti(!1);get untouched(){return!this.touched}_events=new Ae;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(d_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(d_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(f_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(f_(n,this._rawAsyncValidators))}hasValidator(n){return Vl(this._rawValidators,n)}hasAsyncValidator(n){return Vl(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Y(D({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new es(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new es(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Y(D({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Xo(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new Xo(!0,r))}markAsPending(n={}){this.status=Ii;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new xi(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Y(D({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Qo,this.errors=null,this._forEachChild(i=>{i.disable(Y(D({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Bl(this.value,r)),this._events.next(new xi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(D({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ko,this._forEachChild(r=>{r.enable(Y(D({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Y(D({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ko||this.status===Ii)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Bl(this.value,e)),this._events.next(new xi(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Y(D({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qo:Ko}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Ii,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=C_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new xi(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?Qo:this.errors?Ll:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ii)?Ii:this._anyControlsHaveStatus(Ll)?Ll:Ko}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new Xo(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new es(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){zl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Kx(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Qx(this._rawAsyncValidators)}},Hl=class extends Ul{constructor(n,e,r){super(x_(e),T_(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){Xx(this,!0,n),Object.keys(n).forEach(r=>{Jx(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var sh=new P("CallSetDisabledState",{providedIn:"root",factory:()=>ah}),ah="always";function eT(t,n){return[...n.path,t]}function M_(t,n,e=ah){A_(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),nT(t,n),iT(t,n),rT(t,n),tT(t,n)}function h_(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function tT(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function A_(t,n){let e=Wx(t);n.validator!==null?t.setValidators(u_(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=Yx(t);n.asyncValidator!==null?t.setAsyncValidators(u_(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();h_(n._rawValidators,i),h_(n._rawAsyncValidators,i)}function nT(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&N_(t,n)})}function rT(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&N_(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function N_(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function iT(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function oT(t,n){t==null,A_(t,n)}function sT(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function aT(t){return Object.getPrototypeOf(t.constructor)===Gl}function lT(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function cT(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===xe?e=o:aT(o)?r=o:i=o}),i||r||e||null}var uT={provide:Ti,useExisting:bt(()=>lh)},Jo=Promise.resolve(),lh=(()=>{class t extends Ti{callSetDisabledState;get submitted(){return an(this.submittedReactive)}_submitted=ro(()=>this.submittedReactive());submittedReactive=ti(!1);_directives=new Set;form;ngSubmit=new me;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new Hl({},ih(e),oh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Jo.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),M_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Jo.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Jo.then(()=>{let r=this._findContainer(e.path),i=new Hl({});oT(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Jo.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Jo.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),lT(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(b(__,10),b(w_,10),b(sh,8))};static \u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&A("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ht([uT]),Tt]})}return t})();function p_(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function g_(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var dT=class extends Ul{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(x_(e),T_(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(g_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){p_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){p_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){g_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var fT={provide:ts,useExisting:bt(()=>ke)},m_=Promise.resolve(),ke=(()=>{class t extends ts{_changeDetectorRef;callSetDisabledState;control=new dT;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new me;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=cT(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),sT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){M_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){m_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&sr(r);m_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?eT(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(b(Ti,9),b(__,10),b(w_,10),b(Sr,10),b(or,8),b(sh,8))};static \u0275dir=he({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ht([fT]),Tt,Xn]})}return t})(),k_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),hT={provide:Sr,useExisting:bt(()=>ns),multi:!0},ns=(()=>{class t extends Gl{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Bt(t)))(i||t)}})();static \u0275dir=he({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ht([hT]),Tt]})}return t})();var pT={provide:Sr,useExisting:bt(()=>Ai),multi:!0};function R_(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function gT(t){return t.split(":")[0]}var Ai=(()=>{class t extends Gl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=R_(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=gT(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Bt(t)))(i||t)}})();static \u0275dir=he({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ht([pT]),Tt]})}return t})(),ql=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(R_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(b(Ye),b(Qe),b(Ai,9))};static \u0275dir=he({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),mT={provide:Sr,useExisting:bt(()=>O_),multi:!0};function v_(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function vT(t){return t.split(":")[0]}var O_=(()=>{class t extends Gl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=vT(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Bt(t)))(i||t)}})();static \u0275dir=he({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ht([mT]),Tt]})}return t})(),Wl=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(v_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(v_(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(b(Ye),b(Qe),b(O_,9))};static \u0275dir=he({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var yT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=rr({type:t});static \u0275inj=Jn({})}return t})();var Fe=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:sh,useValue:e.callSetDisabledState??ah}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=rr({type:t});static \u0275inj=Jn({imports:[yT]})}return t})();var Te=class{constructor(n){this.supabase=n}get client(){return this.supabase.client}getAll(){return h(this,null,function*(){let{data:n,error:e}=yield this.client.from(this.tableName).select("*").order("created_at",{ascending:!0});if(e)throw e;return n??[]})}getById(n){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*").eq("id",n).single();if(r)throw r;return e})}create(n){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).insert([n]).select().single();if(r)throw r;return e})}update(n,e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).update(e).eq("id",n).select().single();if(i)throw i;return r})}delete(n){return h(this,null,function*(){let{error:e}=yield this.client.from(this.tableName).delete().eq("id",n);if(e)throw e})}};var Ni=class t extends Te{constructor(e){super(e);this.supabase=e}tableName="prayers";getAll(){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*").order("prayer_type_id",{ascending:!0}).order("sequence",{ascending:!0});if(r)throw r;return e??[]})}getById(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).select("*, sections: prayers_sections(*, section: sections(*)), date_groups: prayer_date_group(*, date_group(*))").order("sequence",{foreignTable:"prayers_sections"}).eq("id",e).single();if(i)throw i;return r})}getParyerWithSectionsRecursively(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.rpc("get_prayer_with_sections_recursive",{request_prayer_id:e});if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var Kt=class t extends Te{constructor(e){super(e);this.supabase=e}tableName="prayer_type";getAll(){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*");if(r)throw r;return e??[]})}getTree(){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.client.rpc("get_prayer_types");if(r)throw console.error("Error calling get_prayer_types:",r),r;return e})}static \u0275fac=function(r){return new(r||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var _T=t=>["/prayers",t];function wT(t,n){if(t&1&&(p(0,"li")(1,"a",6),_(2),m()()),t&2){let e=n.$implicit;w(),N("routerLink",Rn(3,_T,e.id)),w(),He("",e.title," ",e.subtitle!=null&&e.subtitle.length?"- "+e.subtitle:"","")}}var Zl=class t{constructor(n,e){this.prayersService=n;this.prayerTypesService=e}prayerTypes=[];prayers=[];newPrayer=null;ngOnInit(){return h(this,null,function*(){this.newPrayer={title:"",subtitle:"",sequence:1},this.prayers=yield this.prayersService.getAll(),this.prayerTypes=yield this.prayerTypesService.getAll()})}addPrayer(){let n=this.newPrayer?.title.trim();n&&this.prayersService.create({title:n}).then(e=>{this.newPrayer={title:"",subtitle:"",sequence:1},this.prayers.splice(0,0,e)}).catch(e=>{alert("Error creating prayer: "+e)})}static \u0275fac=function(e){return new(e||t)(b(Ni),b(Kt))};static \u0275cmp=ve({type:t,selectors:[["app-prayers-list"]],decls:17,vars:2,consts:[[2,"margin-bottom","1rem"],[2,"border-collapse","collapse"],["for","title"],["id","title","type","text","placeholder","Titlu rug\u0103ciune",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(p(0,"h2"),_(1,"Rug\u0103ciuni"),m(),p(2,"div",0)(3,"h3"),_(4,"Adaug\u0103 o rug\u0103ciune nou\u0103"),m(),p(5,"table",1)(6,"tr")(7,"td")(8,"label",2),_(9,"Titlu: "),m()(),p(10,"td")(11,"input",3),V("ngModelChange",function(o){return $(r.newPrayer.title,o)||(r.newPrayer.title=o),o}),m()()()(),p(12,"button",4),A("click",function(){return r.addPrayer()}),_(13,"Adaug\u0103"),m()(),de(14,"hr"),p(15,"ul"),U(16,wT,3,5,"li",5),m()),e&2&&(w(11),L("ngModel",r.newPrayer.title),w(5),N("ngForOf",r.prayers))},dependencies:[Se,Ge,zt,Fe,xe,Pe,ke],encapsulation:2})};var Kl=class t extends Te{constructor(e){super(e);this.supabase=e}tableName="prayers_sections";create(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).insert([e]).select("*, section: sections(*)").single();if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ln=class t extends Te{constructor(e){super(e);this.supabase=e}tableName="sections";static \u0275fac=function(r){return new(r||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ql=class t extends Te{constructor(e){super(e);this.supabase=e}tableName="prayer_date_group";create(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).insert([e]).select("*, date_group(*, date_group_type(*))").single();if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var Jl=class t extends Te{constructor(e){super(e);this.supabase=e}tableName="date_group";getAll(){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*, date_group_type(*)").order("date_group_type_id",{ascending:!0});if(r)throw r;return e??[]})}static \u0275fac=function(r){return new(r||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function ET(t,n){if(t&1&&(p(0,"option",13),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),kn(e.type)}}function bT(t,n){t&1&&(p(0,"p"),_(1,"Nu sunt sec\u021Biuni ad\u0103ugate"),m())}function IT(t,n){if(t&1){let e=pe();p(0,"li")(1,"p")(2,"a",14),_(3),m(),p(4,"button",1),A("click",function(){let i=I(e).$implicit,o=S().$implicit,s=S(2);return x(s.deleteSection(i.id,o.id))}),p(5,"i",15),_(6,"delete"),m()()()()}if(t&2){let e=n.$implicit;w(2),qa("href","/sections/",e.section==null?null:e.section.id,"",nr),w(),He("",e.section==null?null:e.section.title," - ",e.section==null?null:e.section.subtitle,"")}}function xT(t,n){if(t&1&&(p(0,"option",13),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),kn(e.title)}}function TT(t,n){if(t&1){let e=pe();p(0,"li")(1,"label",16),_(2,"Sec\u021Biune existent\u0103:"),m(),p(3,"select",4),V("ngModelChange",function(i){I(e);let o=S(3);return $(o.newPrayerSection.section_id,i)||(o.newPrayerSection.section_id=i),x(i)}),p(4,"option",17),_(5,"-- Alege\u021Bi --"),m(),U(6,xT,2,2,"option",6),m(),p(7,"button",1),A("click",function(){I(e);let i=S().$implicit,o=S(2);return x(o.addPrayerSection(i.id))}),p(8,"i",15),_(9,"save"),m()(),p(10,"button",1),A("click",function(){I(e);let i=S(3);return x(i.hideNewSubsectionForm())}),p(11,"i",15),_(12,"delete"),m()()()}if(t&2){let e=S(3);w(3),L("ngModel",e.newPrayerSection.section_id),w(3),N("ngForOf",e.sections)}}function MT(t,n){if(t&1){let e=pe();p(0,"li")(1,"label",16),_(2,"Titlu sec\u021Biune nou\u0103:"),m(),p(3,"input",9),V("ngModelChange",function(i){I(e);let o=S(3);return $(o.newSectionTitle,i)||(o.newSectionTitle=i),x(i)}),m(),p(4,"button",1),A("click",function(){I(e);let i=S().$implicit,o=S(2);return x(o.addNewPrayerSection(i.id))}),p(5,"i",15),_(6,"save"),m()(),p(7,"button",1),A("click",function(){I(e);let i=S(3);return x(i.hideNewSubsectionForm())}),p(8,"i",15),_(9,"delete"),m()()()}if(t&2){let e=S(3);w(3),L("ngModel",e.newSectionTitle)}}function AT(t,n){if(t&1){let e=pe();p(0,"li")(1,"p")(2,"a",14),_(3),m(),p(4,"button",1),A("click",function(){let i=I(e).$implicit,o=S(2);return x(o.deleteSection(i.id))}),p(5,"i",15),_(6,"delete"),m()(),p(7,"button",1),A("click",function(){let i=I(e).$implicit,o=S(2);return x(o.displayNewSubsectionForm(i.id))}),p(8,"i",15),_(9,"add"),m()()(),p(10,"ul"),U(11,IT,7,4,"li",7)(12,TT,13,2,"li",0)(13,MT,10,1,"li",0),m()()}if(t&2){let e=n.$implicit,r=S(2);w(2),qa("href","/sections/",e.section==null?null:e.section.id,"",nr),w(),He("",e.section==null?null:e.section.title," ",!(e.section==null||e.section.subtitle==null)&&e.section.subtitle.length?"-"+(e.section==null?null:e.section.subtitle):"",""),w(8),N("ngForOf",e.subsections),w(),N("ngIf",(r.newPrayerSection==null?null:r.newPrayerSection.parent_id)===e.id),w(),N("ngIf",(r.newPrayerSection==null?null:r.newPrayerSection.parent_id)===e.id)}}function NT(t,n){if(t&1&&(p(0,"option",13),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),He("",e.title," ",e.subtitle!=null&&e.subtitle.length?"- "+e.subtitle:"","")}}function kT(t,n){t&1&&(p(0,"p"),_(1,"Nu sunt grupe de dat\u0103 ad\u0103ugate"),m())}function RT(t,n){if(t&1){let e=pe();p(0,"li")(1,"p"),_(2),p(3,"button",1),A("click",function(){let i=I(e).$implicit,o=S(2);return x(o.deletePrayerDateGroup(i.id))}),p(4,"i",15),_(5,"delete"),m()()()()}if(t&2){let e=n.$implicit;w(2),He(" ",e.date_group==null||e.date_group.date_group_type==null?null:e.date_group.date_group_type.name," - ",e.date_group==null?null:e.date_group.title," ")}}function OT(t,n){if(t&1&&(p(0,"option",13),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),He("",e.date_group_type==null?null:e.date_group_type.name," - ",e.title,"")}}function PT(t,n){if(t&1){let e=pe();p(0,"div")(1,"div")(2,"h2")(3,"button",1),A("click",function(){I(e);let i=S();return x(i.goBack())}),p(4,"i",2),_(5,"arrow_back"),m()(),_(6),p(7,"button",1),A("click",function(){I(e);let i=S();return x(i.deletePrayer())}),p(8,"i",2),_(9,"delete"),m()()(),p(10,"h3"),_(11,"Detalii rug\u0103ciune"),m(),p(12,"table",3)(13,"tr")(14,"td"),_(15,"Titlu:"),m(),p(16,"td")(17,"input",4),V("ngModelChange",function(i){I(e);let o=S();return $(o.prayer.title,i)||(o.prayer.title=i),x(i)}),m()()(),p(18,"tr")(19,"td"),_(20,"Subtitlu:"),m(),p(21,"td")(22,"input",4),V("ngModelChange",function(i){I(e);let o=S();return $(o.prayer.subtitle,i)||(o.prayer.subtitle=i),x(i)}),m()()(),p(23,"tr")(24,"td"),_(25,"Ordine:"),m(),p(26,"td")(27,"input",5),V("ngModelChange",function(i){I(e);let o=S();return $(o.prayer.sequence,i)||(o.prayer.sequence=i),x(i)}),m()()(),p(28,"tr")(29,"td"),_(30,"Tip:"),m(),p(31,"td")(32,"select",4),V("ngModelChange",function(i){I(e);let o=S();return $(o.prayer.prayer_type_id,i)||(o.prayer.prayer_type_id=i),x(i)}),U(33,ET,2,2,"option",6),m()()()(),p(34,"button",1),A("click",function(){I(e);let i=S();return x(i.updatePrayer())}),_(35,"Salveaz\u0103"),m()(),de(36,"hr"),p(37,"div")(38,"h3"),_(39,"Sec\u021Biuni"),m(),U(40,bT,2,0,"p",0),p(41,"ul"),U(42,AT,14,7,"li",7),m(),de(43,"hr"),p(44,"h4"),_(45,"Adaug\u0103 o sec\u021Biune existent\u0103"),m(),p(46,"select",4),V("ngModelChange",function(i){I(e);let o=S();return $(o.newPrayerSection.section_id,i)||(o.newPrayerSection.section_id=i),x(i)}),p(47,"option",8),_(48,"-- Alege\u021Bi --"),m(),U(49,NT,2,3,"option",6),m(),p(50,"button",1),A("click",function(){I(e);let i=S();return x(i.addPrayerSection())}),_(51,"Adaug\u0103"),m(),p(52,"h4"),_(53,"Creeaza \u0219i adaug\u0103 o sec\u021Biune nou\u0103"),m(),p(54,"input",9),V("ngModelChange",function(i){I(e);let o=S();return $(o.newSectionTitle,i)||(o.newSectionTitle=i),x(i)}),m(),p(55,"button",1),A("click",function(){I(e);let i=S();return x(i.addNewPrayerSection())}),_(56,"Adaug\u0103"),m()(),de(57,"hr"),p(58,"div")(59,"h3"),_(60,"Grupe de dat\u0103"),m(),U(61,kT,2,0,"p",0),p(62,"ul"),U(63,RT,6,2,"li",7),m(),p(64,"h4"),_(65,"Adaug\u0103 o nou\u0103 grup\u0103 de dat\u0103"),m(),p(66,"label",10),_(67,"Grup\u0103 de dat\u0103: "),m(),p(68,"select",11),V("ngModelChange",function(i){I(e);let o=S();return $(o.newPrayerDateGroup.date_group_id,i)||(o.newPrayerDateGroup.date_group_id=i),x(i)}),p(69,"option",12),_(70,"-- Alege\u021Bi --"),m(),U(71,OT,2,3,"option",6),m(),de(72,"br"),p(73,"button",1),A("click",function(){I(e);let i=S();return x(i.addPrayerDateGroup())}),_(74,"Adaug\u0103"),m()()()}if(t&2){let e=S();w(6),Oe("",e.prayer.title," "),w(11),L("ngModel",e.prayer.title),w(5),L("ngModel",e.prayer.subtitle),w(5),L("ngModel",e.prayer.sequence),w(5),L("ngModel",e.prayer.prayer_type_id),w(),N("ngForOf",e.prayerTypes),w(7),N("ngIf",!(!(e.prayer==null||e.prayer.sections==null)&&e.prayer.sections.length)),w(2),N("ngForOf",e.prayer==null?null:e.prayer.sections),w(4),L("ngModel",e.newPrayerSection.section_id),w(3),N("ngForOf",e.sections),w(5),L("ngModel",e.newSectionTitle),w(7),N("ngIf",!(!(e.prayer==null||e.prayer.date_groups==null)&&e.prayer.date_groups.length)),w(2),N("ngForOf",e.prayer==null?null:e.prayer.date_groups),w(5),L("ngModel",e.newPrayerDateGroup.date_group_id),w(3),N("ngForOf",e.dateGroups)}}var Xl=class t{constructor(n,e,r,i,o,s,a){this.route=n;this.prayersService=e;this.prayerTypesService=r;this.prayerSectionService=i;this.sectionsService=o;this.prayerDateGroupService=s;this.dateGroupService=a}dateGroups=[];prayerTypes=[];sections=[];prayer=null;id;newPrayerSection=null;newSectionTitle="";newPrayerDateGroup=null;ngOnInit(){return h(this,null,function*(){this.id=this.route.snapshot.paramMap.get("id")||"",this.prayer=yield this.prayersService.getParyerWithSectionsRecursively(this.id),this.newPrayerSection={prayer_id:this.id,section_id:"",sequence:1},this.newPrayerDateGroup={prayer_id:this.id,date_group_id:0,sequence:1},yield this.getPrayerTypes(),yield this.getSections(),yield this.getDateGroups()})}getDateGroups(){return h(this,null,function*(){this.dateGroups=yield this.dateGroupService.getAll()})}getPrayerTypes(){return h(this,null,function*(){this.prayerTypes=yield this.prayerTypesService.getAll()})}getSections(){return h(this,null,function*(){this.sections=yield this.sectionsService.getAll()})}updatePrayer(){return h(this,null,function*(){if(!this.prayer)return;(yield this.prayersService.update(this.prayer.id,{title:this.prayer.title,subtitle:this.prayer.subtitle,sequence:this.prayer.sequence,prayer_type_id:this.prayer.prayer_type_id}))&&alert("Prayer updated successfully!")})}deletePrayer(){return h(this,null,function*(){if(this.prayer&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi aceast\u0103 rug\u0103ciune?"))try{yield this.prayersService.delete(this.prayer.id),location.href="/prayers"}catch(n){alert("Eroare la \u0219tergerea rug\u0103ciunii: "+n)}})}deleteSection(n,e=null){return h(this,null,function*(){if(this.prayer&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi aceast\u0103 sec\u021Biune?"))try{if(yield this.prayerSectionService.delete(n),e){let r=this.prayer.sections.find(i=>i.id===e);r&&(r.subsections=r.subsections?.filter(i=>i.id!==n)??[])}else this.prayer.sections=this.prayer.sections?.filter(r=>r.id!==n)??[]}catch(r){alert("Eroare la \u0219tergerea sec\u021Biunii: "+r)}})}displayNewSubsectionForm(n){this.newPrayerSection.parent_id=n}hideNewSubsectionForm(){this.newPrayerSection.parent_id=null,this.newPrayerSection.section_id=""}addPrayerSection(n=null){this.prayer&&(this.newPrayerSection=Y(D({},this.newPrayerSection),{parent_id:n,sequence:1}),this.prayerSectionService.create(this.newPrayerSection).then(e=>{if(this.newPrayerSection={prayer_id:this.id,section_id:"",sequence:1},n){let r=this.prayer.sections.find(i=>i.id===n);r&&r.subsections.push(e)}else this.prayer.sections.push(e)}).catch(e=>{alert("Error creating subsection: "+e)}))}addNewPrayerSection(n=null){this.newSectionTitle&&this.sectionsService.create({title:this.newSectionTitle,audio_url:""}).then(e=>{this.newPrayerSection={prayer_id:this.id,section_id:e.id,sequence:1},this.addPrayerSection(n),this.newSectionTitle=""}).catch(e=>{alert("Error creating section: "+e)})}goBack(){window.history.back()}goToSection(n){location.href=`/sections/${n}`}deletePrayerDateGroup(n){if(this.prayer&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi aceast\u0103 grup\u0103 de dat\u0103?"))try{this.prayerDateGroupService.delete(n),this.prayer.date_groups=this.prayer.date_groups?.filter(e=>e.id!==n)??[]}catch(e){alert("Eroare la \u0219tergerea datei: "+e)}}addPrayerDateGroup(){this.prayer&&this.prayerDateGroupService.create(this.newPrayerDateGroup).then(n=>{this.newPrayerDateGroup={prayer_id:this.id,date_group_id:0,sequence:1},this.prayer.date_groups.push(n)}).catch(n=>{alert("Error creating date group: "+n)})}static \u0275fac=function(e){return new(e||t)(b(at),b(Ni),b(Kt),b(Kl),b(Ln),b(Ql),b(Jl))};static \u0275cmp=ve({type:t,selectors:[["app-prayer-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click"],[1,"material-icons",2,"font-size","16px"],[2,"border-collapse","collapse","background","transparent"],[3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["value",""],["placeholder","Titlu",3,"ngModelChange","ngModel"],["for","date_group"],["id","date_group",3,"ngModelChange","ngModel"],["value","0"],[3,"value"],[3,"href"],[1,"material-icons",2,"font-size","12px"],["for","section"],["selected",""]],template:function(e,r){e&1&&U(0,PT,75,15,"div",0),e&2&&N("ngIf",r.prayer)},dependencies:[Se,Ge,pt,Fe,ql,Wl,xe,ns,Ai,Pe,ke],styles:["h2[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};function FT(t,n){if(t&1){let e=pe();An(0),p(1,"p"),_(2),p(3,"button",3),A("click",function(){I(e);let i=S();return x(i.enableEdit())}),p(4,"i",4),_(5,"edit"),m()(),p(6,"button",3),A("click",function(){I(e);let i=S();return x(i.addSubtype())}),p(7,"i",4),_(8,"add"),m()(),p(9,"button",3),A("click",function(){I(e);let i=S();return x(i.deleteType())}),p(10,"i",4),_(11,"delete"),m()()(),Nn()}if(t&2){let e=S();w(2),Oe(" ",e.node.type," ")}}function LT(t,n){if(t&1){let e=pe();p(0,"input",5),V("ngModelChange",function(i){I(e);let o=S();return $(o.tempName,i)||(o.tempName=i),x(i)}),m(),p(1,"button",3),A("click",function(){I(e);let i=S();return x(i.saveEdit())}),p(2,"i",4),_(3,"save"),m()(),p(4,"button",3),A("click",function(){I(e);let i=S();return x(i.cancelEdit())}),p(5,"i",4),_(6,"cancel"),m()()}if(t&2){let e=S();L("ngModel",e.tempName)}}function VT(t,n){if(t&1){let e=pe();p(0,"li")(1,"app-prayer-type-subitem",7),A("refreshNeeded",function(){I(e);let i=S(2);return x(i.onChildRefreshNeeded())}),m()()}if(t&2){let e=n.$implicit;w(),N("node",e)}}function jT(t,n){if(t&1&&(p(0,"ul"),U(1,VT,2,1,"li",6),m()),t&2){let e=S();w(),N("ngForOf",e.node.subtypes)}}var ec=class t{constructor(n){this.prayerTypeService=n}node;refreshNeeded=new me;isEditing=!1;tempName="";enableEdit(){this.isEditing=!0,this.tempName=this.node.type}cancelEdit(){this.isEditing=!1,this.tempName=""}saveEdit(){return h(this,null,function*(){let n=this.tempName.trim();if(!n){alert("Name cannot be empty");return}try{yield this.prayerTypeService.update(this.node.id,{type:n}),this.node.type=n,this.isEditing=!1,this.refreshNeeded.emit()}catch(e){console.error("Error updating prayer type:",e)}})}addSubtype(){return h(this,null,function*(){let n=prompt("Enter subtype name:");if(n)try{yield this.prayerTypeService.create({type:n,parent_type_id:this.node.id,sequence:1}),this.refreshNeeded.emit()}catch(e){console.error("Error creating subtype:",e)}})}deleteType(){return h(this,null,function*(){if(confirm(`Are you sure you want to delete "${this.node.type}"?`))try{yield this.prayerTypeService.delete(this.node.id),this.refreshNeeded.emit()}catch(n){console.error("Error deleting prayer type:",n)}})}onChildRefreshNeeded(){this.refreshNeeded.emit()}static \u0275fac=function(e){return new(e||t)(b(Kt))};static \u0275cmp=ve({type:t,selectors:[["app-prayer-type-subitem"]],inputs:{node:"node"},outputs:{refreshNeeded:"refreshNeeded"},decls:4,vars:3,consts:[["editMode",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"click"],[1,"material-icons",2,"font-size","14px"],[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"refreshNeeded","node"]],template:function(e,r){if(e&1&&U(0,FT,12,1,"ng-container",1)(1,LT,7,1,"ng-template",null,0,tv)(3,jT,2,1,"ul",2),e&2){let i=Km(2);N("ngIf",!r.isEditing)("ngIfElse",i),w(3),N("ngIf",r.node.subtypes==null?null:r.node.subtypes.length)}},dependencies:[t,Se,Ge,pt,Fe,xe,Pe,ke],encapsulation:2})};function $T(t,n){if(t&1){let e=pe();p(0,"li")(1,"app-prayer-type-subitem",4),A("refreshNeeded",function(){I(e);let i=S();return x(i.onRefreshNeeded())}),m()()}if(t&2){let e=n.$implicit;w(),N("node",e)}}var tc=class t{constructor(n){this.prayerTypeService=n}prayerTypes=[];newRootTypeName="";ngOnInit(){return h(this,null,function*(){yield this.loadData()})}loadData(){return h(this,null,function*(){try{this.prayerTypes=yield this.prayerTypeService.getTree()}catch(n){console.error("Error loading prayer types:",n)}})}addRootType(){return h(this,null,function*(){let n=this.newRootTypeName.trim();if(n)try{yield this.prayerTypeService.create({type:n,parent_type_id:null,sequence:1}),this.newRootTypeName="",yield this.loadData()}catch(e){console.error("Error creating root type:",e)}})}onRefreshNeeded(){return h(this,null,function*(){yield this.loadData()})}static \u0275fac=function(e){return new(e||t)(b(Kt))};static \u0275cmp=ve({type:t,selectors:[["app-prayer-types-list"]],decls:10,vars:2,consts:[[2,"margin-bottom","1rem"],["type","text","placeholder","Nou tip de rug\u0103ciune",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"],[3,"refreshNeeded","node"]],template:function(e,r){e&1&&(p(0,"h2"),_(1,"Tipuri de rug\u0103ciuni"),m(),p(2,"div",0)(3,"h3"),_(4,"Adaug\u0103 un tip nou de rug\u0103ciune"),m(),p(5,"input",1),V("ngModelChange",function(o){return $(r.newRootTypeName,o)||(r.newRootTypeName=o),o}),m(),p(6,"button",2),A("click",function(){return r.addRootType()}),_(7,"Adaug\u0103"),m()(),p(8,"ul"),U(9,$T,2,1,"li",3),m()),e&2&&(w(5),L("ngModel",r.newRootTypeName),w(4),N("ngForOf",r.prayerTypes))},dependencies:[Se,Ge,Fe,xe,Pe,ke,ec],encapsulation:2})};var Rt=class t{constructor(n,e){this.auth=n;this.router=e}canActivate(){return this.auth.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||t)(k(Zt),k(Nt))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function BT(t,n){if(t&1&&(p(0,"div",8),_(1),m()),t&2){let e=S();w(),Oe(" ",e.errorMsg," ")}}var nc=class t{constructor(n,e){this.authService=n;this.router=e}email="";password="";errorMsg="";ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/prayer-types"])}onLogin(){return h(this,null,function*(){this.errorMsg="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/prayers"])}catch(n){this.errorMsg=n.message||"Login failed",console.error("Login error:",n)}})}static \u0275fac=function(e){return new(e||t)(b(Zt),b(Nt))};static \u0275cmp=ve({type:t,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"container"],[1,"login-container"],["style","color:red;",4,"ngIf"],[1,"form-container",3,"ngSubmit"],[1,"input-container"],["name","email","type","email",3,"ngModelChange","ngModel"],["name","password","type","password",3,"ngModelChange","ngModel"],["type","submit"],[2,"color","red"]],template:function(e,r){e&1&&(p(0,"div",0)(1,"div",1)(2,"h2"),_(3,"Admin Login"),m(),U(4,BT,2,1,"div",2),p(5,"form",3),A("ngSubmit",function(){return r.onLogin()}),p(6,"div",4)(7,"label"),_(8,"Email:"),m(),p(9,"input",5),V("ngModelChange",function(o){return $(r.email,o)||(r.email=o),o}),m()(),p(10,"div",4),_(11,"` "),p(12,"label"),_(13,"Password:"),m(),p(14,"input",6),V("ngModelChange",function(o){return $(r.password,o)||(r.password=o),o}),m()(),p(15,"button",7),_(16,"Login"),m()()()()),e&2&&(w(4),N("ngIf",r.errorMsg),w(5),L("ngModel",r.email),w(5),L("ngModel",r.password))},dependencies:[Se,pt,Fe,k_,xe,Pe,I_,ke,lh],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100vw;height:100vh}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;border:1px solid black;padding:1rem;height:min-content;border-radius:5px;gap:.5rem}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border-radius:5px;border:1px solid black}.container[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem;border-radius:5px;border:1px solid black;cursor:pointer;margin-top:1rem}"]})};var ki=class t{constructor(n,e){this.el=n;this.renderer=e;this.renderer.setAttribute(this.el.nativeElement,"placeholder","mm:ss")}_value=0;onChange=()=>{};onTouched=()=>{};onBlur(n){this._value=this.parseValue(n),this.onChange(this._value),this.onTouched();let e=this.formatValue(n);this.renderer.setProperty(this.el.nativeElement,"value",e)}writeValue(n){this._value=n||0;let e=this.formatValueFromSeconds(this._value);this.renderer.setProperty(this.el.nativeElement,"value",e)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}parseValue(n){let e=n.split(":"),r=parseInt(e[0]||"0",10),i=parseInt(e[1]||"0",10);return r*60+i}formatValue(n){let e=n.split(":"),r=parseInt(e[0]||"0",10),i=parseInt(e[1]||"0",10);return i>=60&&(r+=Math.floor(i/60),i=i%60),`${this.pad(r)}:${this.pad(i)}`}formatValueFromSeconds(n){let e=Math.floor(n/60),r=n%60;return`${this.pad(e)}:${this.pad(r)}`}pad(n){return n<10?"0"+n:n.toString()}static \u0275fac=function(e){return new(e||t)(b(Ye),b(Qe))};static \u0275dir=he({type:t,selectors:[["","timeInput",""]],hostBindings:function(e,r){e&1&&A("blur",function(o){return r.onBlur(o.target.value)})},features:[Ht([{provide:Sr,useExisting:bt(()=>t),multi:!0}])]})};var Ri=class t{transform(n){let e=Math.floor(n/60),r=n%60;return`${e}:${r.toString().padStart(2,"0")}`}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Ba({name:"timeFormat",type:t,pure:!0})};var Vn=class t extends Te{constructor(e){super(e);this.supabase=e}tableName="liturgical_texts";getById(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).select("*, texts: text_elements(*)").order("sequence",{foreignTable:"text_elements"}).eq("id",e).single();if(i)throw i;return r})}getAll(){return h(this,null,function*(){let{data:e,error:r}=yield this.client.from(this.tableName).select("*").order("title",{ascending:!0});if(r)throw r;return e??[]})}static \u0275fac=function(r){return new(r||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var rc=class t extends Te{constructor(e){super(e);this.supabase=e}tableName="text_elements";updateSequence(e,r){return h(this,null,function*(){return this.update(e,{sequence:r})})}static \u0275fac=function(r){return new(r||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function HT(t,n){if(t&1){let e=pe();p(0,"div")(1,"h2")(2,"button",9),A("click",function(){I(e);let i=S();return x(i.goBack())}),p(3,"i",10),_(4,"arrow_back"),m()(),_(5),p(6,"button",9),A("click",function(){I(e);let i=S();return x(i.deleteText())}),p(7,"i",11),_(8,"delete"),m()()(),p(9,"p"),_(10," Schimb\u0103 titlul: "),p(11,"input",12),V("ngModelChange",function(i){I(e);let o=S();return $(o.text.title,i)||(o.text.title=i),x(i)}),m(),de(12,"br"),_(13," Durata audio: "),p(14,"input",13),V("ngModelChange",function(i){I(e);let o=S();return $(o.text.audio_time,i)||(o.text.audio_time=i),x(i)}),m(),de(15,"br"),p(16,"button",9),A("click",function(){I(e);let i=S();return x(i.saveTitle())}),_(17,"Salveaz\u0103"),m()()()}if(t&2){let e=S();w(5),Oe(" ",e.textTitle," "),w(6),L("ngModel",e.text.title),w(3),L("ngModel",e.text.audio_time)}}function GT(t,n){t&1&&(p(0,"p"),_(1,"Nu sunt texte ad\u0103ugate"),m())}function zT(t,n){if(t&1){let e=pe();p(0,"p")(1,"textarea",14),V("ngModelChange",function(i){I(e);let o=S(2);return $(o.editedTextElement.text,i)||(o.editedTextElement.text=i),x(i)}),m(),p(2,"label",7),_(3,"Timp \xEEnceput: "),m(),p(4,"input",15),V("ngModelChange",function(i){I(e);let o=S(2);return $(o.editedTextElement.start_time,i)||(o.editedTextElement.start_time=i),x(i)}),m(),p(5,"label",8),_(6,"Timp sf\xE2r\u0219it: "),m(),p(7,"input",15),V("ngModelChange",function(i){I(e);let o=S(2);return $(o.editedTextElement.end_time,i)||(o.editedTextElement.end_time=i),x(i)}),m(),p(8,"button",9),A("click",function(){I(e);let i=S().index,o=S();return x(o.editTextElement(i))}),p(9,"i",16),_(10,"save"),m()(),p(11,"button",9),A("click",function(){I(e);let i=S(2);return x(i.clearEditedTextElement())}),p(12,"i",16),_(13,"cancel"),m()()()}if(t&2){let e=S(2);w(),L("ngModel",e.editedTextElement.text),w(3),L("ngModel",e.editedTextElement.start_time),w(3),L("ngModel",e.editedTextElement.end_time)}}function qT(t,n){if(t&1&&(p(0,"span"),_(1),ni(2,"timeFormat"),ni(3,"timeFormat"),m()),t&2){let e,r=S(2).$implicit,i=S();w(),He("",ri(2,2,r.start_time+((e=i.sectionStartTime)!==null&&e!==void 0?e:0))," \u2192 ",ri(3,4,r.end_time+((e=i.sectionStartTime)!==null&&e!==void 0?e:0)),"")}}function WT(t,n){if(t&1){let e=pe();p(0,"p"),_(1),U(2,qT,4,6,"span",0),p(3,"span",17)(4,"button",18),A("click",function(){I(e);let i=S().index,o=S();return x(o.moveUp(i))}),_(5,"\u2191"),m(),p(6,"button",19),A("click",function(){I(e);let i=S().index,o=S();return x(o.moveDown(i))}),_(7,"\u2193"),m(),p(8,"button",9),A("click",function(){I(e);let i=S(),o=i.$implicit,s=i.index,a=S();return x(a.deleteTextElement(o.id,s))}),p(9,"i",16),_(10,"delete"),m()(),p(11,"button",9),A("click",function(){I(e);let i=S().$implicit,o=S();return x(o.setEditedTextElement(i))}),p(12,"i",16),_(13,"edit"),m()()()()}if(t&2){let e=S(),r=e.$implicit,i=e.index,o=S();w(),Oe(" ",r.text," "),w(),N("ngIf",r.start_time!=null&&r.end_time!=null),w(2),N("disabled",i===0),w(2),N("disabled",i===(o.text==null?null:o.text.texts.length)-1)}}function YT(t,n){if(t&1&&(p(0,"li"),U(1,zT,14,3,"p",0)(2,WT,14,4,"p",0),m()),t&2){let e=n.$implicit,r=S();w(),N("ngIf",(r.editedTextElement==null?null:r.editedTextElement.id)&&e.id==(r.editedTextElement==null?null:r.editedTextElement.id)),w(),N("ngIf",!(r.editedTextElement!=null&&r.editedTextElement.id)||e.id!=(r.editedTextElement==null?null:r.editedTextElement.id))}}var rs=class t{constructor(n,e,r){this.route=n;this.litTextService=e;this.textElementsService=r}textId;text=null;editedTitle="";newTextElement=null;editedTextElement=null;sectionStartTime=0;textTitle="";ngOnInit(){return h(this,null,function*(){this.textId=this.route.snapshot.paramMap.get("id")||"",this.sectionStartTime=parseInt(this.route.snapshot.paramMap.get("sectionStartTime")||"0"),this.newTextElement={text_id:this.textId},this.editedTextElement={},yield this.loadLiturgicalText()})}loadLiturgicalText(){return h(this,null,function*(){this.text=yield this.litTextService.getById(this.textId),this.textTitle=this.text?.title??"",this.newTextElement.start_time=this.text?.texts?.length?this.text.texts[this.text.texts.length-1].end_time:0})}loadTextElements(){return h(this,null,function*(){if(!this.text)return;let{data:n,error:e}=yield this.textElementsService.client.from("text_elements").select("*").eq("text_id",this.text.id).order("sequence");!e&&n&&(this.text.texts=n)})}saveTitle(){return h(this,null,function*(){if(this.text)try{(yield this.litTextService.update(this.text.id,{title:this.text.title??null,audio_time:this.text.audio_time}))&&(alert("Textul a fost salvat!"),this.textTitle=this.text.title??"")}catch(n){console.error("Error updating title:",n)}})}addTextElement(){return h(this,null,function*(){if(!this.textId)return;let n=this.newTextElement?.text.trim();if(n)try{let e=0;this.text?.texts&&this.text.texts.length>0&&(e=Math.max(...this.text.texts.map(r=>r.sequence))),yield this.textElementsService.create({text:n,sequence:e+1,text_id:this.textId,start_time:(this.newTextElement?.start_time??0)-(this.sectionStartTime??0),end_time:(this.newTextElement?.end_time??0)-(this.sectionStartTime??0)}),this.newTextElement={text_id:this.textId,start_time:this.newTextElement?.end_time,end_time:this.newTextElement?.end_time},yield this.loadTextElements()}catch(e){console.error("Error adding text element:",e)}})}goBack(){history.back()}deleteText(){return h(this,null,function*(){if(this.text&&confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi acest text? Nu \xEEl po\u021Bi recupera ulterior!"))try{yield this.litTextService.delete(this.text.id),location.href="/liturgicalTexts"}catch(n){console.error("Error deleting text:",n)}})}deleteTextElement(n,e){return h(this,null,function*(){if(confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi acest text? Nu \xEEl po\u021Bi recupera ulterior!"))try{yield this.textElementsService.delete(n),this.text?.texts?.splice(e,1),this.newTextElement.start_time=this.text?.texts?.length?(this.text.texts[this.text.texts.length-1].end_time??0)+(this.sectionStartTime??0):0,this.newTextElement.end_time=this.text?.texts?.length?(this.text.texts[this.text.texts.length-1].end_time??0)+(this.sectionStartTime??0):0}catch(r){console.error("Error deleting text element:",r)}})}setEditedTextElement(n){this.editedTextElement=D({},n)}clearEditedTextElement(){this.editedTextElement={}}editTextElement(n){return h(this,null,function*(){if(!(!this.editedTextElement?.id||!this.editedTextElement.text))try{yield this.textElementsService.update(this.editedTextElement.id,D({},this.editedTextElement)),this.text?.texts?.splice(n,1,D({},this.editedTextElement)),this.editedTextElement={}}catch(e){alert("A intervenit o eroare: "+e.message)}})}moveUp(n){return h(this,null,function*(){if(!this.text?.texts||n===0)return;let e=this.text.texts[n],r=this.text.texts[n-1];try{let i=e.sequence;e.sequence=r.sequence,r.sequence=i,yield this.textElementsService.update(e.id,{sequence:e.sequence}),yield this.textElementsService.update(r.id,{sequence:r.sequence}),this.text.texts[n]=r,this.text.texts[n-1]=e}catch(i){console.error("Error moving element up:",i)}})}moveDown(n){return h(this,null,function*(){if(!this.text?.texts||n===this.text.texts.length-1)return;let e=this.text.texts[n],r=this.text.texts[n+1];try{let i=e.sequence;e.sequence=r.sequence,r.sequence=i,yield this.textElementsService.update(e.id,{sequence:e.sequence}),yield this.textElementsService.update(r.id,{sequence:r.sequence}),this.text.texts[n]=r,this.text.texts[n+1]=e}catch(i){console.error("Error moving element down:",i)}})}secondsToTimeFormat(n){let e=Math.floor(n/60),r=n%60;return`${e}:${r<10?"0"+r:r}`}static \u0275fac=function(e){return new(e||t)(b(at),b(Vn),b(rc))};static \u0275cmp=ve({type:t,selectors:[["app-liturgical-text-detail"]],decls:25,vars:7,consts:[[4,"ngIf"],["for","section_start_time"],["type","text","timeInput","",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[2,"margin-top","1rem"],["for","text"],["id","text","rows","4",2,"width","100%",3,"ngModelChange","ngModel"],["for","start_time"],["for","end_time"],[3,"click"],["title","\xCEnapoi",1,"material-icons",2,"font-size","16px"],["title","\u0218terge",1,"material-icons",2,"font-size","16px"],[2,"width","fit-content",3,"ngModelChange","ngModel"],["timeInput","",2,"width","fit-content",3,"ngModelChange","ngModel"],["rows","4",2,"width","100%",3,"ngModelChange","ngModel"],["timeInput","",3,"ngModelChange","ngModel"],["title","\u0218terge",1,"material-icons",2,"font-size","12px"],[2,"display","inline","margin-left","1rem"],["title","Mut\u0103 \xEEn sus",3,"click","disabled"],["title","Mut\u0103 \xEEn jos",3,"click","disabled"]],template:function(e,r){e&1&&(U(0,HT,18,3,"div",0),de(1,"hr"),p(2,"h3"),_(3,"Texte"),m(),p(4,"label",1),_(5,"Timp \xEEnceput \xEEn sec\u021Biune(orientativ): "),m(),p(6,"input",2),V("ngModelChange",function(o){return $(r.sectionStartTime,o)||(r.sectionStartTime=o),o}),m(),U(7,GT,2,0,"p",0),p(8,"ol"),U(9,YT,3,2,"li",3),m(),p(10,"div",4)(11,"h4"),_(12,"Adaug\u0103 un text nou"),m(),p(13,"label",5),_(14,"Text:"),m(),p(15,"textarea",6),V("ngModelChange",function(o){return $(r.newTextElement.text,o)||(r.newTextElement.text=o),o}),m(),p(16,"label",7),_(17,"Timp \xEEnceput: "),m(),p(18,"input",2),V("ngModelChange",function(o){return $(r.newTextElement.start_time,o)||(r.newTextElement.start_time=o),o}),m(),p(19,"label",8),_(20,"Timp sf\xE2r\u0219it: "),m(),p(21,"input",2),V("ngModelChange",function(o){return $(r.newTextElement.end_time,o)||(r.newTextElement.end_time=o),o}),m(),de(22,"br"),p(23,"button",9),A("click",function(){return r.addTextElement()}),_(24,"Adaug\u0103"),m()()),e&2&&(N("ngIf",r.text),w(6),L("ngModel",r.sectionStartTime),w(),N("ngIf",!(!(r.text==null||r.text.texts==null)&&r.text.texts.length)),w(2),N("ngForOf",r.text==null?null:r.text.texts),w(6),L("ngModel",r.newTextElement.text),w(3),L("ngModel",r.newTextElement.start_time),w(3),L("ngModel",r.newTextElement.end_time))},dependencies:[Se,Ge,pt,Fe,xe,Pe,ke,ki,Ri],encapsulation:2})};var ZT=t=>["/liturgicalTexts",t];function KT(t,n){if(t&1&&(p(0,"li")(1,"a",4),_(2),m()()),t&2){let e=n.$implicit;w(),N("routerLink",Rn(2,ZT,e.id)),w(),Oe(" ",e.title?e.title:"F\u0103r\u0103 Titlu"," ")}}var ic=class t{constructor(n){this.litTextService=n}liturgicalTexts=[];newLiturgicalTextName="";ngOnInit(){return h(this,null,function*(){yield this.loadData()})}loadData(){return h(this,null,function*(){this.liturgicalTexts=yield this.litTextService.getAll()})}addLitirgucalText(){return h(this,null,function*(){let n=this.newLiturgicalTextName.trim()??null;try{let e=yield this.litTextService.create({title:n.length>0?n:void 0});this.newLiturgicalTextName="",this.liturgicalTexts.splice(0,0,e)}catch(e){alert("Error creating root type: "+e)}})}static \u0275fac=function(e){return new(e||t)(b(Vn))};static \u0275cmp=ve({type:t,selectors:[["app-liturgical-texts-list"]],decls:8,vars:2,consts:[[2,"margin-bottom","1rem"],["type","text","placeholder","Text liturgic nou",3,"ngModelChange","ngModel"],[2,"margin-left","1rem",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(p(0,"h2"),_(1,"Texte liturgice"),m(),p(2,"div",0)(3,"input",1),V("ngModelChange",function(o){return $(r.newLiturgicalTextName,o)||(r.newLiturgicalTextName=o),o}),m(),p(4,"button",2),A("click",function(){return r.addLitirgucalText()}),_(5,"Adaug\u0103"),m()(),p(6,"ul"),U(7,KT,3,4,"li",3),m()),e&2&&(w(3),L("ngModel",r.newLiturgicalTextName),w(4),N("ngForOf",r.liturgicalTexts))},dependencies:[Se,Ge,zt,Fe,xe,Pe,ke],encapsulation:2})};var QT=t=>["/sections",t];function JT(t,n){if(t&1&&(p(0,"li")(1,"a",4)(2,"p"),_(3),m()()()),t&2){let e=n.$implicit;w(),N("routerLink",Rn(3,QT,e.id)),w(2),He(" ",e.title," ",e.subtitle?" - "+e.subtitle:""," ")}}var oc=class t{constructor(n){this.sectionsService=n}sections=[];newSectionTitle="";ngOnInit(){return h(this,null,function*(){yield this.loadSections()})}loadSections(){return h(this,null,function*(){this.sections=yield this.sectionsService.getAll()})}addSection(){return h(this,null,function*(){let n=this.newSectionTitle.trim();if(n)try{yield this.sectionsService.create({title:n,audio_url:"",subtitle:null,image_url:null}),this.newSectionTitle="",yield this.loadSections()}catch(e){console.error("Eroare la crearea noii sec\u021Biuni:",e)}})}static \u0275fac=function(e){return new(e||t)(b(Ln))};static \u0275cmp=ve({type:t,selectors:[["app-sections-list"]],decls:10,vars:2,consts:[["for","newSectionTitle"],["id","newSectionTitle",3,"ngModelChange","ngModel"],[2,"margin-left","1rem",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){e&1&&(p(0,"h2"),_(1,"Sec\u021Biuni"),m(),p(2,"p")(3,"label",0),_(4,"Ad\u0103uga\u021Bi titlul unei sec\u021Biuni noi: "),m(),p(5,"input",1),V("ngModelChange",function(o){return $(r.newSectionTitle,o)||(r.newSectionTitle=o),o}),m(),p(6,"button",2),A("click",function(){return r.addSection()}),_(7," Ad\u0103uga\u021Bi "),m()(),p(8,"ul"),U(9,JT,4,5,"li",3),m()),e&2&&(w(5),L("ngModel",r.newSectionTitle),w(4),N("ngForOf",r.sections))},dependencies:[Se,Ge,Fe,xe,Pe,ke,zt],encapsulation:2})};var sc=class t extends Te{constructor(e){super(e);this.supabase=e}tableName="section_texts";create(e){return h(this,null,function*(){let{data:r,error:i}=yield this.client.from(this.tableName).insert([e]).select("*, text: liturgical_texts(*)").single();if(i)throw i;return r})}static \u0275fac=function(r){return new(r||t)(k(ye))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var eM=t=>({"background-color":t}),tM=(t,n)=>["/liturgicalTexts",t,n];function nM(t,n){if(t&1&&(p(0,"audio",28),de(1,"source",29),_(2," Your browser does not support the audio element."),m()),t&2){let e=S(2);w(),N("src",e.section.audio_url,nr)}}function rM(t,n){if(t&1&&de(0,"img",30),t&2){let e=S(2);N("src",e.section.image_url,nr)}}function iM(t,n){if(t&1&&(p(0,"span"),_(1),p(2,"a",33),_(3),m()()),t&2){let e=S(2).$implicit;w(),Oe(" ",(e==null?null:e.repetition)>1?e.repetition+" x":""," "),w(),N("routerLink",Jm(3,tM,e.liturgical_text_id,e.start_time)),w(),Oe(" ",!(e==null||e.text==null||e.text.title==null)&&e.text.title.length?e==null||e.text==null?null:e.text.title:"F\u0103r\u0103 Titlu"," ")}}function oM(t,n){if(t&1){let e=pe();p(0,"td",13)(1,"button",34),A("click",function(){I(e);let i=S(2).index,o=S(2);return x(o.moveUp(i))}),_(2,"\u2191"),m(),p(3,"button",35),A("click",function(){I(e);let i=S(2).index,o=S(2);return x(o.moveDown(i))}),_(4,"\u2193"),m(),p(5,"button",1),A("click",function(){I(e);let i=S(2),o=i.$implicit,s=i.index,a=S(2);return x(a.deleteSectionText(o,s))}),p(6,"i",36),_(7,"delete"),m()(),p(8,"button",1),A("click",function(){I(e);let i=S(2).$implicit,o=S(2);return x(o.setEditingSectionText(i))}),p(9,"i",37),_(10,"edit"),m()()()}if(t&2){let e=S(2).index,r=S(2);w(),N("disabled",e===0),w(2),N("disabled",e===r.sectionTexts.length-1)}}function sM(t,n){if(t&1&&(An(0),p(1,"td"),U(2,iM,4,6,"span",0),m(),p(3,"td",13),_(4),ni(5,"timeFormat"),ni(6,"timeFormat"),m(),U(7,oM,11,2,"td",32),Nn()),t&2){let e,r=S().$implicit,i=S(2);w(2),N("ngIf",i.allLitTexts&&i.allLitTexts.length),w(2),He(" ",ri(5,4,(e=r.start_time)!==null&&e!==void 0?e:0)," \u2192 ",ri(6,6,(e=r.end_time)!==null&&e!==void 0?e:0)," "),w(3),N("ngIf",!i.editingSectionText)}}function aM(t,n){if(t&1){let e=pe();An(0),p(1,"td"),_(2),p(3,"label"),_(4,"Repet\u0103ri: "),m(),p(5,"input",38),V("ngModelChange",function(i){I(e);let o=S(3);return $(o.editingSectionText.repetition,i)||(o.editingSectionText.repetition=i),x(i)}),m()(),p(6,"td")(7,"input",39),V("ngModelChange",function(i){I(e);let o=S(3);return $(o.editingSectionText.start_time,i)||(o.editingSectionText.start_time=i),x(i)}),m(),_(8," \u2192 "),p(9,"input",40),V("ngModelChange",function(i){I(e);let o=S(3);return $(o.editingSectionText.end_time,i)||(o.editingSectionText.end_time=i),x(i)}),m()(),p(10,"td")(11,"button",1),A("click",function(){I(e);let i=S(3);return x(i.saveEditedSectionText())}),p(12,"i",41),_(13,"save"),m()(),p(14,"button",1),A("click",function(){I(e);let i=S(3);return x(i.clearEditingSectionText())}),p(15,"i",42),_(16,"cancel"),m()()(),Nn()}if(t&2){let e=S().$implicit,r=S(2);w(2),Oe(" ",e.text==null?null:e.text.title,", "),w(3),L("ngModel",r.editingSectionText.repetition),w(2),L("ngModel",r.editingSectionText.start_time),w(2),L("ngModel",r.editingSectionText.end_time)}}function lM(t,n){if(t&1&&(p(0,"tr",31)(1,"td",13),_(2),m(),U(3,sM,8,8,"ng-container",0)(4,aM,17,4,"ng-container",0),m()),t&2){let e=n.$implicit,r=n.index,i=S(2);N("ngStyle",Rn(4,eM,r%2===0?"#f2f2f2":"white")),w(2),kn(r+1),w(),N("ngIf",i.editingSectionText===null||i.editingSectionText.id!==e.id),w(),N("ngIf",i.editingSectionText!==null&&i.editingSectionText.id===e.id)}}function cM(t,n){if(t&1&&(p(0,"option",43),_(1),m()),t&2){let e=n.$implicit;N("value",e.id),w(),Oe(" ",e.title," ")}}function uM(t,n){if(t&1){let e=pe();p(0,"tr")(1,"td")(2,"label",44),_(3,"Titlu:"),m()(),p(4,"td")(5,"input",45),V("ngModelChange",function(i){I(e);let o=S(2);return $(o.newLiturgicalTextTitle,i)||(o.newLiturgicalTextTitle=i),x(i)}),m()()()}if(t&2){let e=S(2);w(5),L("ngModel",e.newLiturgicalTextTitle)}}function dM(t,n){if(t&1){let e=pe();p(0,"div")(1,"h2")(2,"button",1),A("click",function(){I(e);let i=S();return x(i.goBack())}),p(3,"i",2),_(4,"arrow_back"),m()(),_(5),p(6,"button",1),A("click",function(){I(e);let i=S();return x(i.deleteSection())}),p(7,"i",3),_(8,"delete"),m()()(),p(9,"div",4)(10,"div")(11,"table",5)(12,"tr")(13,"td")(14,"label"),_(15,"Titlu:"),m()(),p(16,"td")(17,"input",6),V("ngModelChange",function(i){I(e);let o=S();return $(o.editedTitle,i)||(o.editedTitle=i),x(i)}),m()()(),p(18,"tr")(19,"td")(20,"label"),_(21,"Subtitlu:"),m()(),p(22,"td")(23,"input",6),V("ngModelChange",function(i){I(e);let o=S();return $(o.editedSubtitle,i)||(o.editedSubtitle=i),x(i)}),m()()(),p(24,"tr")(25,"td")(26,"label"),_(27,"Audio URL:"),m()(),p(28,"td")(29,"input",6),V("ngModelChange",function(i){I(e);let o=S();return $(o.editedAudioUrl,i)||(o.editedAudioUrl=i),x(i)}),m()()(),p(30,"tr")(31,"td")(32,"label"),_(33,"Durat\u0103:"),m()(),p(34,"td")(35,"input",7),V("ngModelChange",function(i){I(e);let o=S();return $(o.editedDuration,i)||(o.editedDuration=i),x(i)}),m()()(),p(36,"tr")(37,"td")(38,"label"),_(39,"URL Imagine:"),m()(),p(40,"td")(41,"input",6),V("ngModelChange",function(i){I(e);let o=S();return $(o.editedImageUrl,i)||(o.editedImageUrl=i),x(i)}),m()()(),p(42,"tr")(43,"td",8)(44,"button",1),A("click",function(){I(e);let i=S();return x(i.saveSection())}),de(45,"i",9),_(46," Salveaz\u0103 "),m()()()(),U(47,nM,3,1,"audio",10),m(),U(48,rM,1,1,"img",11),m(),de(49,"hr"),p(50,"h3"),_(51,"Texte \xEEn sec\u021Biune"),m(),p(52,"table",12)(53,"tr")(54,"th",13),_(55,"#"),m(),p(56,"th",13),_(57,"Text"),m(),p(58,"th",13),_(59,"Interval"),m(),p(60,"th",13),_(61,"Ac\u021Biuni"),m()(),U(62,lM,5,6,"tr",14),m(),de(63,"hr"),p(64,"h3"),_(65,"Ad\u0103uga\u021Bi un text nou \xEEn sec\u021Biune"),m(),p(66,"table",15)(67,"tr")(68,"td")(69,"label",16),_(70,"Selecta\u021Bi un text liturgic:"),m()(),p(71,"td")(72,"select",17),V("ngModelChange",function(i){I(e);let o=S();return $(o.selectedLitTextId,i)||(o.selectedLitTextId=i),x(i)}),p(73,"option",18),_(74,"-- Alege\u021Bi --"),m(),p(75,"option",19),_(76,"-- Text nou --"),m(),U(77,cM,2,2,"option",20),m()()(),U(78,uM,6,1,"tr",0),p(79,"tr")(80,"td")(81,"label",21),_(82,"Timp \xEEnceput:"),m()(),p(83,"td")(84,"input",22),V("ngModelChange",function(i){I(e);let o=S();return $(o.newStartTime,i)||(o.newStartTime=i),x(i)}),m()()(),p(85,"tr")(86,"td")(87,"label",23),_(88,"Timp sf\xE2r\u0219it:"),m()(),p(89,"td")(90,"input",24),V("ngModelChange",function(i){I(e);let o=S();return $(o.newEndTime,i)||(o.newEndTime=i),x(i)}),m()()(),p(91,"tr")(92,"td")(93,"label",25),_(94,"Repet\u0103ri:"),m()(),p(95,"td")(96,"input",26),V("ngModelChange",function(i){I(e);let o=S();return $(o.newRepetitions,i)||(o.newRepetitions=i),x(i)}),m()()()(),p(97,"button",1),A("click",function(){I(e);let i=S();return x(i.addLiturgicalTextToSection())}),de(98,"i",27),_(99," Ad\u0103uga\u021Bi "),m()()}if(t&2){let e=S();w(5),He("",e.section.title," ",e.section.subtitle!==null?" - "+e.section.subtitle:""," "),w(12),L("ngModel",e.editedTitle),w(6),L("ngModel",e.editedSubtitle),w(6),L("ngModel",e.editedAudioUrl),w(6),L("ngModel",e.editedDuration),w(6),L("ngModel",e.editedImageUrl),w(6),N("ngIf",e.section.audio_url),w(),N("ngIf",e.section.image_url),w(14),N("ngForOf",e.sectionTexts),w(10),L("ngModel",e.selectedLitTextId),w(5),N("ngForOf",e.allLitTexts),w(),N("ngIf",e.selectedLitTextId==="new"),w(6),L("ngModel",e.newStartTime),w(6),L("ngModel",e.newEndTime),w(6),L("ngModel",e.newRepetitions)}}var ac=class t{constructor(n,e,r,i,o){this.route=n;this.router=e;this.sectionsService=r;this.sectionTextsService=i;this.litTextsService=o}sectionId;section=null;sectionTexts=[];allLitTexts=[];editedTitle="";editedSubtitle="";editedAudioUrl="";editedDuration=null;editedImageUrl="";selectedLitTextId="new";newStartTime=0;newEndTime=0;newRepetitions=1;newLiturgicalTextTitle="";editingSectionText=null;ngOnInit(){return h(this,null,function*(){this.sectionId=this.route.snapshot.paramMap.get("id")||"",yield this.loadSection(),yield this.loadAllLitTexts(),yield this.loadSectionTexts()})}loadSection(){return h(this,null,function*(){this.section=yield this.sectionsService.getById(this.sectionId),this.section&&(this.editedTitle=this.section.title||"",this.editedSubtitle=this.section.subtitle||"",this.editedAudioUrl=this.section.audio_url,this.editedDuration=this.section.duration,this.editedImageUrl=this.section.image_url||"")})}deleteSection(){return h(this,null,function*(){if(confirm("\u0218terge aceast\u0103 sec\u021Biune?"))try{yield this.sectionsService.delete(this.sectionId),alert("Sec\u021Biune \u0219tears\u0103 cu succes!"),this.router.navigate(["/sections"])}catch(n){console.error("Eroare la \u0219tergere:",n)}})}loadAllLitTexts(){return h(this,null,function*(){this.allLitTexts=yield this.litTextsService.getAll()})}loadSectionTexts(){return h(this,null,function*(){let{data:n,error:e}=yield this.sectionTextsService.client.from("section_texts").select("*, text: liturgical_texts(*)").eq("prayer_section_id",this.sectionId).order("sequence",{ascending:!0});!e&&n&&(this.sectionTexts=n,this.newStartTime=this.sectionTexts.length>0?this.sectionTexts[this.sectionTexts.length-1].end_time:0)})}saveSection(){return h(this,null,function*(){if(!this.section)return;let n={title:this.editedTitle.trim()||null,subtitle:this.editedSubtitle.trim()||null,audio_url:this.editedAudioUrl.trim(),duration:this.editedDuration||0,image_url:this.editedImageUrl.trim()||null};try{let e=yield this.sectionsService.update(this.section.id,n);e&&(this.section.title=e.title,this.section.subtitle=e.subtitle,this.section.audio_url=e.audio_url,this.section.duration=e.duration,this.section.image_url=e.image_url,alert("Sec\u021Biune salvat\u0103 cu succes!"))}catch(e){console.error("Eroare la salvarea sec\u021Biunii:",e)}})}addLiturgicalTextToSection(){return h(this,null,function*(){if(!this.selectedLitTextId)return;let n=0;this.sectionTexts.length>0&&(n=Math.max(...this.sectionTexts.map(e=>e.sequence)));try{if(this.selectedLitTextId==="new"){let r=yield this.litTextsService.create({title:this.newLiturgicalTextTitle});this.selectedLitTextId=r.id}let e=yield this.sectionTextsService.create({prayer_section_id:this.sectionId,liturgical_text_id:this.selectedLitTextId,sequence:n+1,repetition:this.newRepetitions,start_time:this.newStartTime??null,end_time:this.newEndTime??null});this.newLiturgicalTextTitle="",this.selectedLitTextId="new",this.newStartTime=this.newEndTime,this.newEndTime=null,this.newRepetitions=1,this.sectionTexts.push(e)}catch(e){console.error("Eroare la ad\u0103ugarea textului:",e)}})}deleteSectionText(n,e){return h(this,null,function*(){if(confirm("\u0218terge acest text din sec\u021Biune?"))try{yield this.sectionTextsService.delete(n.id),this.sectionTexts.splice(e,1)}catch(r){console.error("Eroare la \u0219tergere:",r)}})}moveUp(n){return h(this,null,function*(){if(n===0)return;let e=this.sectionTexts[n],r=this.sectionTexts[n-1],i=e.sequence;e.sequence=r.sequence,r.sequence=i;try{yield this.sectionTextsService.update(e.id,{sequence:e.sequence}),yield this.sectionTextsService.update(r.id,{sequence:r.sequence}),this.sectionTexts[n]=r,this.sectionTexts[n-1]=e}catch(o){console.error("Eroare la mutare \xEEn sus:",o)}})}moveDown(n){return h(this,null,function*(){if(n===this.sectionTexts.length-1)return;let e=this.sectionTexts[n],r=this.sectionTexts[n+1],i=e.sequence;e.sequence=r.sequence,r.sequence=i;try{yield this.sectionTextsService.update(e.id,{sequence:e.sequence}),yield this.sectionTextsService.update(r.id,{sequence:r.sequence}),this.sectionTexts[n]=r,this.sectionTexts[n+1]=e}catch(o){console.error("Eroare la mutare \xEEn jos:",o)}})}setEditingSectionText(n){this.editingSectionText=n}clearEditingSectionText(){this.editingSectionText=null}saveEditedSectionText(){this.editingSectionText&&(this.sectionTextsService.update(this.editingSectionText.id,{start_time:this.editingSectionText.start_time,end_time:this.editingSectionText.end_time,repetition:this.editingSectionText.repetition}),this.editingSectionText=null)}goBack(){window.history.back()}static \u0275fac=function(e){return new(e||t)(b(at),b(Nt),b(Ln),b(sc),b(Vn))};static \u0275cmp=ve({type:t,selectors:[["app-section-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click"],["title","\xCEnapoi",1,"material-icons",2,"font-size","16px"],["title","\u0218terge",1,"material-icons",2,"font-size","16px"],[2,"display","flex","justify-content","space-between"],[1,"section-edit-fields",2,"border-collapse","collapse"],[3,"ngModelChange","ngModel"],["type","text","timeInput","",3,"ngModelChange","ngModel"],["colspan","2",2,"text-align","left"],[1,"fa","fa-save"],["controls","",4,"ngIf"],["alt","Section Image","style","margin-left: 20px; max-width: 200px; max-height: 200px;",3,"src",4,"ngIf"],[1,"sections-texts",2,"border-collapse","collapse","margin-top","20px"],[2,"padding","8px"],[3,"ngStyle",4,"ngFor","ngForOf"],[2,"border-collapse","collapse"],["for","litTextSelect"],["id","litTextSelect",3,"ngModelChange","ngModel"],["value",""],["value","new","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","startTime"],["id","startTime","type","text","placeholder","Ex: 0","timeInput","",3,"ngModelChange","ngModel"],["for","endTime"],["id","endTime","type","text","placeholder","Ex: 20","timeInput","",3,"ngModelChange","ngModel"],["for","repetitions"],["id","repetitions","type","number","placeholder","Ex: 1",3,"ngModelChange","ngModel"],[1,"fa","fa-plus"],["controls",""],["type","audio/mpeg",3,"src"],["alt","Section Image",2,"margin-left","20px","max-width","200px","max-height","200px",3,"src"],[3,"ngStyle"],["style","padding: 8px;",4,"ngIf"],[3,"routerLink"],["title","Mut\u0103 \xEEn sus",3,"click","disabled"],["title","Mut\u0103 \xEEn jos",3,"click","disabled"],["title","\u0218terge",1,"material-icons",2,"font-size","12px"],["title","Editeaz\u0103",1,"material-icons",2,"font-size","12px"],["type","number",2,"width","60px",3,"ngModelChange","ngModel"],["id","startTime","type","text","timeInput","",2,"width","60px",3,"ngModelChange","ngModel"],["id","endTime","type","text","timeInput","",2,"width","60px",3,"ngModelChange","ngModel"],["title","Salveaza",1,"material-icons",2,"font-size","12px"],["title","Renun\u021B\u0103",1,"material-icons",2,"font-size","12px"],[3,"value"],["for","newTextTitle"],["id","newTextTitle","type","text","placeholder","Ex: N\u0103sc\u0103toare de Dumnezeu",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&U(0,dM,100,16,"div",0),e&2&&N("ngIf",r.section)},dependencies:[Se,Ge,pt,hv,Fe,ql,Wl,xe,ns,Ai,Pe,ke,zt,ki,Ri],styles:["td[_ngcontent-%COMP%]{text-align:left;align-items:center}table.sections-texts[_ngcontent-%COMP%]   :is(tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]){border:1px solid #790822;background-color:#ffe5ad;color:#790822}"]})};var F_=[{path:"",redirectTo:"prayers",pathMatch:"full"},{path:"prayers",component:Zl,canActivate:[Rt]},{path:"prayers/:id",component:Xl,canActivate:[Rt]},{path:"prayerTypes",component:tc,canActivate:[Rt]},{path:"liturgicalTexts",component:ic,canActivate:[Rt]},{path:"liturgicalTexts/:id/:sectionStartTime",component:rs,canActivate:[Rt]},{path:"liturgicalTexts/:id",component:rs,canActivate:[Rt]},{path:"sections",component:oc,canActivate:[Rt]},{path:"sections/:id",component:ac,canActivate:[Rt]},{path:"login",component:nc}];var v=function(t){return t.SEPARATOR="separator",t.PERCENT="percent",t.IP="IP",t.CPF_CNPJ="CPF_CNPJ",t.MONTH="M",t.MONTHS="M0",t.MINUTE="m",t.HOUR="h",t.HOURS="H",t.MINUTES="m0",t.HOURS_HOUR="Hh",t.SECONDS="s0",t.HOURS_MINUTES_SECONDS="Hh:m0:s0",t.EMAIL_MASK="A*@A*.A*",t.HOURS_MINUTES="Hh:m0",t.MINUTES_SECONDS="m0:s0",t.DAYS_MONTHS_YEARS="d0/M0/0000",t.DAYS_MONTHS="d0/M0",t.DAYS="d0",t.DAY="d",t.SECOND="s",t.LETTER_S="S",t.DOT=".",t.COMMA=",",t.CURLY_BRACKETS_LEFT="{",t.CURLY_BRACKETS_RIGHT="}",t.MINUS="-",t.OR="||",t.HASH="#",t.EMPTY_STRING="",t.SYMBOL_STAR="*",t.SYMBOL_QUESTION="?",t.SLASH="/",t.WHITE_SPACE=" ",t.NUMBER_ZERO="0",t.NUMBER_NINE="9",t.BACKSPACE="Backspace",t.DELETE="Delete",t.ARROW_LEFT="ArrowLeft",t.ARROW_UP="ArrowUp",t.DOUBLE_ZERO="00",t}(v||{}),dh=new P("ngx-mask config"),L_=new P("new ngx-mask config"),V_=new P("initial ngx-mask config"),fM={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:t=>t,outputTransformFn:t=>t,maskFilled:new me,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},k2=[v.HOURS_MINUTES_SECONDS,v.HOURS_MINUTES,v.MINUTES_SECONDS],R2=[v.PERCENT,v.HOURS_HOUR,v.SECONDS,v.MINUTES,v.SEPARATOR,v.DAYS_MONTHS_YEARS,v.DAYS_MONTHS,v.DAYS,v.MONTHS],hM=(()=>{class t{_config=E(dh);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression="";deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(e,r,i=0,o=!1,s=!1,a=()=>{}){if(!r||typeof e!="string")return v.EMPTY_STRING;let l=0,c="",u=!1,d=!1,y=1,g=!1,f=e,C=i;f.slice(0,this.prefix.length)===this.prefix&&(f=f.slice(this.prefix.length,f.length)),this.suffix&&f.length>0&&(f=this.checkAndRemoveSuffix(f)),f==="("&&this.prefix&&(f="");let M=f.toString().split(v.EMPTY_STRING);if(this.allowNegativeNumbers&&f.slice(l,l+1)===v.MINUS&&(c+=f.slice(l,l+1)),r===v.IP){let J=f.split(v.DOT);this.ipError=this._validIP(J),r="099.099.099.099"}let O=[];for(let J=0;J<f.length;J++)f[J]?.match("\\d")&&O.push(f[J]??v.EMPTY_STRING);if(r===v.CPF_CNPJ&&(this.cpfCnpjError=O.length!==11&&O.length!==14,O.length>11?r="00.000.000/0000-00":r="000.000.000-00"),r.startsWith(v.PERCENT)){if(f.match("[a-z]|[A-Z]")||f.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!s){f=this._stripToDecimal(f);let yt=this.getPrecision(r);f=this.checkInputPrecision(f,yt,this.decimalMarker)}let J=typeof this.decimalMarker=="string"?this.decimalMarker:v.DOT;if(f.indexOf(J)>0&&!this.percentage(f.substring(0,f.indexOf(J)))){let yt=f.substring(0,f.indexOf(J)-1);this.allowNegativeNumbers&&f.slice(l,l+1)===v.MINUS&&!s&&(yt=f.substring(0,f.indexOf(J))),f=`${yt}${f.substring(f.indexOf(J),f.length)}`}let F="";this.allowNegativeNumbers&&f.slice(l,l+1)===v.MINUS?F=`${v.MINUS}${f.slice(l+1,l+f.length)}`:F=f,this.percentage(F)?c=this._splitPercentZero(f):c=this._splitPercentZero(f.substring(0,f.length-1))}else if(r.startsWith(v.SEPARATOR)){(f.match("[w\u0430-\u044F\u0410-\u042F]")||f.match("[\u0401\u0451\u0410-\u044F]")||f.match("[a-z]|[A-Z]")||f.match(/[-@#!$%\\^&*()_'+|~=`{}\]:";<>.?/]/)||f.match("[^A-Za-z0-9,]"))&&(f=this._stripToDecimal(f));let J=this.getPrecision(r),F=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?F=this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:F=this.decimalMarker.find(ue=>ue!==this.thousandSeparator)),s){let{decimalMarkerIndex:ue,nonZeroIndex:De}=this._findFirstNonZeroAndDecimalIndex(f,F),Qt=f[0]===v.MINUS,os=f[0]===v.NUMBER_ZERO,ss=f[0]===F,Oi=f[1]===F;(ss&&!De||Qt&&Oi&&!De||os&&!ue&&!De)&&(f=v.NUMBER_ZERO),ue&&De&&Qt&&C===1&&(ue<De||ue>De)&&(f=v.MINUS+f.slice(De)),!ue&&De&&f.length>De&&(f=Qt?v.MINUS+f.slice(De):f.slice(De)),ue&&De&&C===0&&(ue<De&&(f=f.slice(ue-1)),ue>De&&(f=f.slice(De)))}J===0?f=this.allowNegativeNumbers?f.length>2&&f[0]===v.MINUS&&f[1]===v.NUMBER_ZERO&&f[2]!==this.thousandSeparator&&f[2]!==v.COMMA&&f[2]!==v.DOT?"-"+f.slice(2,f.length):f[0]===v.NUMBER_ZERO&&f.length>1&&f[1]!==this.thousandSeparator&&f[1]!==v.COMMA&&f[1]!==v.DOT?f.slice(1,f.length):f:f.length>1&&f[0]===v.NUMBER_ZERO&&f[1]!==this.thousandSeparator&&f[1]!==v.COMMA&&f[1]!==v.DOT?f.slice(1,f.length):f:(f[0]===F&&f.length>1&&!s&&(f=v.NUMBER_ZERO+f.slice(0,f.length+1),this.plusOnePosition=!0),f[0]===v.NUMBER_ZERO&&f[1]!==F&&f[1]!==this.thousandSeparator&&!s&&(f=f.length>1?f.slice(0,1)+F+f.slice(1,f.length+1):f,this.plusOnePosition=!0),this.allowNegativeNumbers&&!s&&f[0]===v.MINUS&&(f[1]===F||f[1]===v.NUMBER_ZERO)&&(f=f[1]===F&&f.length>2?f.slice(0,1)+v.NUMBER_ZERO+f.slice(1,f.length):f[1]===v.NUMBER_ZERO&&f.length>2&&f[2]!==F?f.slice(0,2)+F+f.slice(2,f.length):f,this.plusOnePosition=!0));let yt=this._charToRegExpExpression(this.thousandSeparator),et='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(yt,"");if(Array.isArray(this.decimalMarker))for(let ue of this.decimalMarker)et=et.replace(this._charToRegExpExpression(ue),v.EMPTY_STRING);else et=et.replace(this._charToRegExpExpression(this.decimalMarker),"");let Cr=new RegExp("["+et+"]");f.match(Cr)&&(f=f.substring(0,f.length-1)),f=this.checkInputPrecision(f,J,this.decimalMarker);let jn=f.replace(new RegExp(yt,"g"),"");c=this._formatWithSeparators(jn,this.thousandSeparator,this.decimalMarker,J);let lc=c.indexOf(v.COMMA)-f.indexOf(v.COMMA),Ot=c.length-f.length,is=s&&c.length<e.length&&this.separatorLimit;if((c[C-1]===this.thousandSeparator||c[C-this.prefix.length])&&this.prefix&&s)C=C-1;else if(Ot>0&&c[C]!==this.thousandSeparator||is){d=!0;let ue=0;do this._shift.add(C+ue),ue++;while(ue<Ot)}else c[C-1]===this.thousandSeparator||Ot===-4||Ot===-3||c[C]===this.thousandSeparator?(this._shift.clear(),this._shift.add(C-1)):lc!==0&&C>0&&!(c.indexOf(v.COMMA)>=C&&C>3)||!(c.indexOf(v.DOT)>=C&&C>3)&&Ot<=0?(this._shift.clear(),d=!0,y=Ot,C+=Ot,this._shift.add(C)):this._shift.clear()}else for(let J=0,F=M[0];J<M.length&&l!==r.length;J++,F=M[J]??v.EMPTY_STRING){let yt=v.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(F,r[l]??v.EMPTY_STRING)&&r[l+1]===v.SYMBOL_QUESTION)c+=F,l+=2;else if(r[l+1]===v.SYMBOL_STAR&&u&&this._checkSymbolMask(F,r[l+2]??v.EMPTY_STRING))c+=F,l+=3,u=!1;else if(this._checkSymbolMask(F,r[l]??v.EMPTY_STRING)&&r[l+1]===v.SYMBOL_STAR&&!yt)c+=F,u=!0;else if(r[l+1]===v.SYMBOL_QUESTION&&this._checkSymbolMask(F,r[l+2]??v.EMPTY_STRING))c+=F,l+=3;else if(this._checkSymbolMask(F,r[l]??v.EMPTY_STRING)){if(r[l]===v.HOURS&&(this.apm?Number(F)>9:Number(F)>2)){C=this.leadZeroDateTime?C:C+1,l+=1,this._shiftStep(l),J--,this.leadZeroDateTime&&(c+="0");continue}if(r[l]===v.HOUR&&(this.apm?c.length===1&&Number(c)>1||c==="1"&&Number(F)>2||f.slice(l-1,l).length===1&&Number(f.slice(l-1,l))>2||f.slice(l-1,l)==="1"&&Number(F)>2:c==="2"&&Number(F)>3||(c.slice(l-2,l)==="2"||c.slice(l-3,l)==="2"||c.slice(l-4,l)==="2"||c.slice(l-1,l)==="2")&&Number(F)>3&&l>10)){C=C+1,l+=1,J--;continue}if((r[l]===v.MINUTE||r[l]===v.SECOND)&&Number(F)>5){C=this.leadZeroDateTime?C:C+1,l+=1,this._shiftStep(l),J--,this.leadZeroDateTime&&(c+="0");continue}let et=31,Cr=f[l],jn=f[l+1],lc=f[l+2],Ot=f[l-1],is=f[l-2],ue=f.slice(l-3,l-1),De=f.slice(l-1,l+1),Qt=f.slice(l,l+2),os=f.slice(l-2,l);if(r[l]===v.DAY){let ss=r.slice(0,2)===v.MONTHS,Oi=r.slice(0,2)===v.MONTHS&&this.specialCharacters.includes(is);if(Number(F)>3&&this.leadZeroDateTime||!ss&&(Number(Qt)>et||Number(De)>et||this.specialCharacters.includes(jn))||(Oi?Number(De)>et||!this.specialCharacters.includes(Cr)&&this.specialCharacters.includes(lc)||this.specialCharacters.includes(Cr):Number(Qt)>et||this.specialCharacters.includes(jn)&&!s)){C=this.leadZeroDateTime?C:C+1,l+=1,this._shiftStep(l),J--,this.leadZeroDateTime&&(c+="0");continue}}if(r[l]===v.MONTH){let Oi=l===0&&(Number(F)>2||Number(Qt)>12||this.specialCharacters.includes(jn)&&!s),$_=r.slice(l+2,l+3),B_=ue.includes($_)&&r.includes("d0")&&(this.specialCharacters.includes(is)&&Number(De)>12&&!this.specialCharacters.includes(Cr)||this.specialCharacters.includes(Cr)),U_=Number(ue)<=et&&!this.specialCharacters.includes(ue)&&this.specialCharacters.includes(Ot)&&(Number(Qt)>12||this.specialCharacters.includes(jn)),H_=Number(Qt)>12&&l===5||this.specialCharacters.includes(jn)&&l===5,G_=Number(ue)>et&&!this.specialCharacters.includes(ue)&&!this.specialCharacters.includes(os)&&Number(os)>12&&r.includes("d0"),z_=Number(ue)<=et&&!this.specialCharacters.includes(ue)&&!this.specialCharacters.includes(Ot)&&Number(De)>12;if(Number(F)>1&&this.leadZeroDateTime||Oi||B_||z_||G_||U_||H_&&!this.leadZeroDateTime){C=this.leadZeroDateTime?C:C+1,l+=1,this._shiftStep(l),J--,this.leadZeroDateTime&&(c+="0");continue}}c+=F,l++}else this.specialCharacters.includes(F)&&r[l]===F?(c+=F,l++):this.specialCharacters.indexOf(r[l]??v.EMPTY_STRING)!==-1?(c+=r[l],l++,this._shiftStep(l),J--):r[l]===v.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(l):this.patterns[r[l]??v.EMPTY_STRING]&&this.patterns[r[l]??v.EMPTY_STRING]?.optional?(M[l]&&r!=="099.099.099.099"&&r!=="000.000.000-00"&&r!=="00.000.000/0000-00"&&!r.match(/^9+\.0+$/)&&!this.patterns[r[l]??v.EMPTY_STRING]?.optional&&(c+=M[l]),r.includes(v.NUMBER_NINE+v.SYMBOL_STAR)&&r.includes(v.NUMBER_ZERO+v.SYMBOL_STAR)&&l++,l++,J--):this.maskExpression[l+1]===v.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[l+2]??v.EMPTY_STRING)&&this._findSpecialChar(F)===this.maskExpression[l+2]&&u||this.maskExpression[l+1]===v.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[l+2]??v.EMPTY_STRING)&&this._findSpecialChar(F)===this.maskExpression[l+2]&&u?(l+=3,c+=F):this.showMaskTyped&&this.specialCharacters.indexOf(F)<0&&F!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(g=!0)}c[C-1]&&c.length+1===r.length&&this.specialCharacters.indexOf(r[r.length-1]??v.EMPTY_STRING)!==-1&&(c+=r[r.length-1]);let se=C+1;for(;this._shift.has(se);)y++,se++;let ae=o&&!r.startsWith(v.SEPARATOR)?l:this._shift.has(C)?y:0;g&&ae--,a(ae,d),y<0&&this._shift.clear();let ce=!1;s&&(ce=M.every(J=>this.specialCharacters.includes(J)));let Ce=`${this.prefix}${ce?v.EMPTY_STRING:c}${this.showMaskTyped?"":this.suffix}`;c.length===0&&(Ce=this.instantPrefix?`${this.prefix}${c}`:`${c}`);let ge=f.length===1&&this.specialCharacters.includes(r[0])&&f!==r[0];if(!this._checkSymbolMask(f,r[1])&&ge)return"";if(c.includes(v.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(s&&c===v.MINUS)return"";Ce=`${v.MINUS}${this.prefix}${c.split(v.MINUS).join(v.EMPTY_STRING)}${this.suffix}`}return Ce}_findDropSpecialChar(e){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(r=>r===e):this._findSpecialChar(e)}_findSpecialChar(e){return this.specialCharacters.find(r=>r===e)}_checkSymbolMask(e,r){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[r]?.pattern&&this.patterns[r]?.pattern.test(e))??!1}_formatWithSeparators=(e,r,i,o)=>{let s=[],a="";if(Array.isArray(i)){let y=new RegExp(i.map(g=>"[\\^$.|?*+()".indexOf(g)>=0?`\\${g}`:g).join("|"));s=e.split(y),a=e.match(y)?.[0]??v.EMPTY_STRING}else s=e.split(i),a=i;let l=s.length>1?`${a}${s[1]}`:v.EMPTY_STRING,c=s[0]??v.EMPTY_STRING,u=this.separatorLimit.replace(/\s/g,v.EMPTY_STRING);u&&+u&&(c[0]===v.MINUS?c=`-${c.slice(1,c.length).slice(0,u.length)}`:c=c.slice(0,u.length));let d=/(\d+)(\d{3})/;for(;r&&d.test(c);)c=c.replace(d,"$1"+r+"$2");return typeof o>"u"?c+l:o===0?c:c+l.substring(0,o+1)};percentage=e=>{let r=e.replace(",","."),i=Number(this.allowNegativeNumbers&&e.includes(v.MINUS)?r.slice(1,e.length):r);return!isNaN(i)&&i>=0&&i<=100};getPrecision=e=>{let r=e.split(v.DOT);return r.length>1?Number(r[r.length-1]):1/0};checkAndRemoveSuffix=e=>{for(let r=this.suffix?.length-1;r>=0;r--){let i=this.suffix.substring(r,this.suffix?.length);if(e.includes(i)&&r!==this.suffix?.length-1&&(r-1<0||!e.includes(this.suffix.substring(r-1,this.suffix?.length))))return e.replace(i,v.EMPTY_STRING)}return e};checkInputPrecision=(e,r,i)=>{let o=e,s=i;if(r<1/0){if(Array.isArray(s)){let u=s.find(d=>d!==this.thousandSeparator);s=u||s[0]}let a=new RegExp(this._charToRegExpExpression(s)+`\\d{${r}}.*$`),l=o.match(a),c=(l&&l[0]?.length)??0;if(c-1>r){let u=c-1-r;o=o.substring(0,o.length-u)}r===0&&this._compareOrIncludes(o[o.length-1],s,this.thousandSeparator)&&(o=o.substring(0,o.length-1))}return o};_stripToDecimal(e){return e.split(v.EMPTY_STRING).filter((r,i)=>{let o=typeof this.decimalMarker=="string"?r===this.decimalMarker:this.decimalMarker.includes(r);return r.match("^-?\\d")||r===this.thousandSeparator||o||r===v.MINUS&&i===0&&this.allowNegativeNumbers}).join(v.EMPTY_STRING)}_charToRegExpExpression(e){return e&&(e===" "?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?`\\${e}`:e)}_shiftStep(e){this._shift.add(e+this.prefix.length||0)}_compareOrIncludes(e,r,i){return Array.isArray(r)?r.filter(o=>o!==i).includes(e):e===r}_validIP(e){return!(e.length===4&&!e.some((r,i)=>e.length!==i+1?r===v.EMPTY_STRING||Number(r)>255:r===v.EMPTY_STRING||Number(r.substring(0,3))>255))}_splitPercentZero(e){if(e===v.MINUS&&this.allowNegativeNumbers)return e;let r=typeof this.decimalMarker=="string"?e.indexOf(this.decimalMarker):e.indexOf(v.DOT),i=this.allowNegativeNumbers&&e.includes(v.MINUS)?"-":"";if(r===-1){let o=parseInt(i?e.slice(1,e.length):e,10);return isNaN(o)?v.EMPTY_STRING:`${i}${o}`}else{let o=parseInt(e.replace("-","").substring(0,r),10),s=e.substring(r+1),a=isNaN(o)?"":o.toString(),l=typeof this.decimalMarker=="string"?this.decimalMarker:v.DOT;return a===v.EMPTY_STRING?v.EMPTY_STRING:`${i}${a}${l}${s}`}}_findFirstNonZeroAndDecimalIndex(e,r){let i=null,o=null;for(let s=0;s<e.length;s++){let a=e[s];if(a===r&&i===null&&(i=s),a&&a>="1"&&a<="9"&&o===null&&(o=s),i!==null&&o!==null)break}return{decimalMarkerIndex:i,nonZeroIndex:o}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),pM=(()=>{class t extends hM{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];triggerOnMaskChange=!1;previousValue="";currentValue="";writingValue=!1;_emitValue=!1;_start;_end;onChange=e=>{};_elementRef=E(Ye,{optional:!0});document=E(Je);_config=E(dh);_renderer=E(Qe,{optional:!0});applyMask(e,r,i=0,o=!1,s=!1,a=()=>{}){if(!r)return e!==this.actualValue?this.actualValue:e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():v.EMPTY_STRING,this.maskExpression===v.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||v.HASH)),this.maskExpression===v.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||v.HASH)),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let l=e&&typeof this.selStart=="number"?e[this.selStart]??v.EMPTY_STRING:v.EMPTY_STRING,c="",u=i;if((this.hiddenInput||e&&e.indexOf(v.SYMBOL_STAR)>=0)&&!this.writingValue){let f=e&&e.length===1?e.split(v.EMPTY_STRING):this.actualValue.split(v.EMPTY_STRING);s&&(f=f.slice(0,i).concat(f.slice(i+1))),this.showMaskTyped&&(e=this.removeMask(e),f=this.removeMask(f.join("")).split(v.EMPTY_STRING)),typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):e!==v.EMPTY_STRING&&f.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(e.length>f.length?f.splice(this.selStart,0,l):e.length<f.length&&(f.length-e.length===1?s?f.splice(this.selStart-1,1):f.splice(e.length-1,1):f.splice(this.selStart,this.selEnd-this.selStart))):f=[],this.showMaskTyped&&!this.hiddenInput&&(c=this.removeMask(e)),this.actualValue.length?f.length<e.length?c=this.shiftTypedSymbols(f.join(v.EMPTY_STRING)):f.length===e.length?c=f.join(v.EMPTY_STRING):c=e:c=e}if(o&&(this.hiddenInput||!this.hiddenInput)&&(c=e),s&&this.specialCharacters.indexOf(this.maskExpression[u]??v.EMPTY_STRING)!==-1&&this.showMaskTyped&&!this.prefix&&(c=this.currentValue),this.deletedSpecialCharacter&&u&&(this.specialCharacters.includes(this.actualValue.slice(u,u+1))?u=u+1:r.slice(u-1,u+1)!==v.MONTHS&&(u=u-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(c=this.removeMask(c)),this.maskChanged?c=e:c=c&&c.length?c:e,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!o&&!this.writingValue){let f=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(f),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let d=super.applyMask(c,r,u,o,s,a);if(this.actualValue=this.getActualValue(d),this.thousandSeparator===v.DOT&&this.decimalMarker===v.DOT&&(this.decimalMarker=v.COMMA),this.maskExpression.startsWith(v.SEPARATOR)&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(f=>!this._compareOrIncludes(f,this.decimalMarker,this.thousandSeparator))),(d||d==="")&&(this.previousValue=this.currentValue,this.currentValue=d,this._emitValue=this.previousValue!==this.currentValue||this.maskChanged||this.writingValue||this.previousValue===this.currentValue&&o),this._emitValue&&(this.writingValue&&this.triggerOnMaskChange?requestAnimationFrame(()=>this.formControlResult(d)):this.formControlResult(d)),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(d,this.maskExpression)}${this.maskIsShown.slice(d.length)}`:d;let y=d.length,g=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(v.HOURS)){let f=this._numberSkipedSymbols(d);return`${d}${g.slice(y+f)}`}else if(this.maskExpression===v.IP||this.maskExpression===v.CPF_CNPJ)return`${d}${g}`;return`${d}${g.slice(y)}`}_numberSkipedSymbols(e){let r=/(^|\D)(\d\D)/g,i=r.exec(e),o=0;for(;i!=null;)o+=1,i=r.exec(e);return o}applyValueChanges(e,r,i,o=()=>{}){let s=this._elementRef?.nativeElement;s&&(s.value=this.applyMask(s.value,this.maskExpression,e,r,i,o),s!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(e,r){return e.split(v.EMPTY_STRING).map((i,o)=>this.patterns&&this.patterns[r[o]??v.EMPTY_STRING]&&this.patterns[r[o]??v.EMPTY_STRING]?.symbol?this.patterns[r[o]??v.EMPTY_STRING]?.symbol:i).join(v.EMPTY_STRING)}getActualValue(e){let r=e.split(v.EMPTY_STRING).filter((i,o)=>{let s=this.maskExpression[o]??v.EMPTY_STRING;return this._checkSymbolMask(i,s)||this.specialCharacters.includes(s)&&i===s});return r.join(v.EMPTY_STRING)===e?r.join(v.EMPTY_STRING):e}shiftTypedSymbols(e){let r="";return(e&&e.split(v.EMPTY_STRING).map((o,s)=>{if(this.specialCharacters.includes(e[s+1]??v.EMPTY_STRING)&&e[s+1]!==this.maskExpression[s+1])return r=o,e[s+1];if(r.length){let a=r;return r=v.EMPTY_STRING,a}return o})||[]).join(v.EMPTY_STRING)}numberToString(e){return!e&&e!==0||this.maskExpression.startsWith(v.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(v.SEPARATOR)&&this.separatorLimit.length>14&&String(e).length>14?String(e):Number(e).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${v.MINUS}/`,v.MINUS)}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(e){if(this.maskExpression===v.IP)return this._checkForIp(e);if(this.maskExpression===v.CPF_CNPJ)return this._checkForCpfCnpj(e)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let e=this._elementRef?.nativeElement;e&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(this.placeHolderCharacter,v.EMPTY_STRING).length&&(this.formElementProperty=["value",v.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([e,r]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,e,r))}checkDropSpecialCharAmount(e){return e.split(v.EMPTY_STRING).filter(i=>this._findDropSpecialChar(i)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if(e===v.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let r=[];for(let i=0;i<e.length;i++){let o=e[i]??v.EMPTY_STRING;o&&o.match("\\d")&&r.push(o)}return r.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>3&&r.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>6&&r.length<=9?this.placeHolderCharacter:(r.length>9&&r.length<=12,"")}_checkForCpfCnpj(e){let r=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,i=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(e===v.HASH)return r;let o=[];for(let s=0;s<e.length;s++){let a=e[s]??v.EMPTY_STRING;a&&a.match("\\d")&&o.push(a)}return o.length<=3?r.slice(o.length,r.length):o.length>3&&o.length<=6?r.slice(o.length+1,r.length):o.length>6&&o.length<=9?r.slice(o.length+2,r.length):o.length>9&&o.length<11?r.slice(o.length+3,r.length):o.length===11?"":o.length===12?e.length===17?i.slice(16,i.length):i.slice(15,i.length):o.length>12&&o.length<=14?i.slice(o.length+4,i.length):""}_getActiveElement(e=this.document){let r=e?.activeElement?.shadowRoot;return r?.activeElement?this._getActiveElement(r):e.activeElement}formControlResult(e){if(this.writingValue&&!e){this.onChange(this.outputTransformFn(null));return}if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged){this.triggerOnMaskChange&&this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))),this.writingValue=!1,this.maskChanged=!1;return}Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===e?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))):this.onChange(this.outputTransformFn(this._toNumber(e)))}_toNumber(e){if(!this.isNumberValue||e===v.EMPTY_STRING||this.maskExpression.startsWith(v.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return e;if(String(e).length>14&&this.maskExpression.startsWith(v.SEPARATOR))return String(e);let r=Number(e);if(this.maskExpression.startsWith(v.SEPARATOR)&&Number.isNaN(r)){let i=String(e).replace(",",".");return Number(i)}return Number.isNaN(r)?e:r}_removeMask(e,r){return this.maskExpression.startsWith(v.PERCENT)&&e.includes(v.DOT)?e:e&&e.replace(this._regExpForRemove(r),v.EMPTY_STRING)}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,v.EMPTY_STRING):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,v.EMPTY_STRING):e}_retrieveSeparatorValue(e){let r=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(i=>this.dropSpecialCharacters.includes(i)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&e.includes(v.WHITE_SPACE)&&this.maskExpression.includes(v.SYMBOL_STAR)&&(r=r.filter(i=>i!==v.WHITE_SPACE)),this._removeMask(e,r)}_regExpForRemove(e){return new RegExp(e.map(r=>`\\${r}`).join("|"),"gi")}_replaceDecimalMarkerToDot(e){let r=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return e.replace(this._regExpForRemove(r),v.DOT)}_checkSymbols(e){let r=e;if(r===v.EMPTY_STRING)return r;this.maskExpression.startsWith(v.PERCENT)&&this.decimalMarker===v.COMMA&&(r=r.replace(v.COMMA,v.DOT));let i=this._retrieveSeparatorPrecision(this.maskExpression),o=this.specialCharacters.length===0?this._retrieveSeparatorValue(r):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(r));return this.isNumberValue&&i?r===this.decimalMarker?null:o.length>14?String(o):this._checkPrecision(this.maskExpression,o):o}_checkPatternForSpace(){for(let e in this.patterns)if(this.patterns[e]&&this.patterns[e]?.hasOwnProperty("pattern")){let r=this.patterns[e]?.pattern.toString(),i=this.patterns[e]?.pattern;if(r?.includes(v.WHITE_SPACE)&&i?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(e){let r=e.match(new RegExp("^separator\\.([^d]*)"));return r?Number(r[1]):null}_checkPrecision(e,r){let i=this.getPrecision(e),o=r;return e.indexOf("2")>0||this.leadZero&&Number(i)>0?(this.decimalMarker===v.COMMA&&this.leadZero&&(o=o.replace(",",".")),this.leadZero?Number(o).toFixed(Number(i)):Number(o).toFixed(2)):this.numberToString(o)}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split(v.EMPTY_STRING).reduce((r,i,o)=>{if(this._start=i===v.CURLY_BRACKETS_LEFT?o:this._start,i!==v.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(i)?r+i:r;this._end=o;let s=Number(e.slice(this._start+1,this._end)),a=new Array(s+1).join(e[this._start-1]);if(e.slice(0,this._start).length>1&&e.includes(v.LETTER_S)){let l=e.slice(0,this._start-1);return l.includes(v.CURLY_BRACKETS_LEFT)?r+a:l+r+a}else return r+a},"")||e}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Bt(t)))(i||t)}})();static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})();function gM(){let t=E(V_),n=E(L_);return n instanceof Function?D(D({},t),n()):D(D({},t),n)}function mM(t){return[{provide:L_,useValue:t},{provide:V_,useValue:fM},{provide:dh,useFactory:gM},pM]}function j_(t){return eo(mM(t))}function vM(t){return()=>t.initSession()}Ev(Fl,{providers:[ay(F_),j_(),{provide:Ha,useFactory:vM,deps:[Zt],multi:!0}]});export{vM as initSessionFactory};
