
<div *ngIf="text">
    <h2>
        <button (click)="goBack()"><i class="material-icons" style="font-size:16px" title="Înapoi">arrow_back</i></button>
        {{ textTitle }} 
        <button (click)="deleteText()"><i class="material-icons" style="font-size:16px" title="Șterge">delete</i></button></h2>
    <p>
      Schimbă titlul:
      <input [(ngModel)]="text.title" style="width: fit-content" />
      <br>
      <button (click)="saveTitle()">Salvează</button>
    </p>
</div>
  
  <hr />
  <div>
    <h3>Texte</h3>
    <p *ngIf="!text?.texts?.length">Nu sunt texte adăugate</p>
  <ol>
      <li *ngFor="let elem of text?.texts; let i = index">
        <p *ngIf="editedTextElement?.id && elem.id == editedTextElement?.id; ">
          <textarea [(ngModel)]="editedTextElement!.text" rows="4" style="width:100%" ></textarea>

          <label for="highlight">Evidențiere prima literă: </label>
          <input [(ngModel)]="editedTextElement!.highlight" id="highlight" type="checkbox" />
          <label for="type">Tip text: </label>
          <select [(ngModel)]="editedTextElement!.type">
            <option *ngFor="let type of textTypes" [value]="type">{{ type }}</option>
          </select>
          <span *ngIf="editedTextElement!.type == 'quoteText'">
            <label for="quote_source">Sursa citat</label>
            <input [(ngModel)]="editedTextElement!.quote_source" id="quote_source" />
          </span>

          <button (click)="editTextElement(i)"><i class="material-icons" style="font-size:12px" title="Șterge">save</i></button>
          <button (click)="clearEditedTextElement()"><i class="material-icons" style="font-size:12px" title="Șterge">cancel</i></button>
        </p>
          <p *ngIf="!editedTextElement?.id || elem.id != editedTextElement?.id; ">

            <span *ngIf="elem.type == 'quoteText'"><<</span>
            <span *ngIf="elem.highlight" class="{{elem.type}}"><b style="font-size: 24px">{{elem.text[0]}}</b>{{elem.text.slice(1)}}</span>
            <span *ngIf="!elem.highlight" class="{{elem.type}}">{{elem.text}}</span>
            <span *ngIf="elem.type == 'quoteText'">>> {{elem.quote_source}}</span>

            <span style="display: inline; margin-left: 1rem;">
              <button (click)="moveUp(i)" [disabled]="i === 0" title="Mută în sus">↑</button>
              <button (click)="moveDown(i)" [disabled]="i === text?.texts!.length - 1" title="Mută în jos">↓</button>
              <button (click)="deleteTextElement(elem.id, i)"><i class="material-icons" style="font-size:12px" title="Șterge">delete</i></button>
              <button (click)="setEditedTextElement(elem)"><i class="material-icons" style="font-size:12px" title="Șterge">edit</i></button>
            </span>
  
        </p>
  
      </li>
  </ol>
  </div>
  
  
  <div style="margin-top:1rem;">
    <h4>Adaugă un text nou</h4>
    <label for="text">Text:</label>
    <textarea id="text" [(ngModel)]="newTextElement!.text" rows="4" style="width:100%" ></textarea>
    <label for="highlight">Evidențiere prima literă: </label>
    <input [(ngModel)]="newTextElement!.highlight" id="highlight" type="checkbox" />
    <label for="type">Tip text: </label>
    <select [(ngModel)]="newTextElement!.type">
      <option *ngFor="let type of textTypes" [value]="type">{{ type }}</option>
    </select>
    <br />
    <button (click)="addTextElement()">Adaugă</button>
  </div>
  